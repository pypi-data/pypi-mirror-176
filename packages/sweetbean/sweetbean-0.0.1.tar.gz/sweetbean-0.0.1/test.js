jsPsych = initJsPsych();
trials = [
{timeline: [{type: jsPsychHtmlKeyboardResponse,trial_duration: "500",stimulus: () => { return "<div style='color: " + "white" + "'>" +"x" + '</div>'},choices: "[]",on_finish: (data) => {data["correct"] = "" == data["response"]}},{type: jsPsychHtmlKeyboardResponse,trial_duration: jsPsych.timelineVariable('soa'),stimulus: () => { return "<div style='color: " + "white" + "'>" +"" + '</div>'},choices: "[]",on_finish: (data) => {data["correct"] = "" == data["response"]}},{type: jsPsychHtmlKeyboardResponse,trial_duration: "1500",stimulus: () => { return "<div style='color: " + jsPsych.timelineVariable('color') + "'>" +jsPsych.timelineVariable('word') + '</div>'},choices: "[]",on_finish: (data) => {data["correct"] = "" == data["response"]}}], timeline_variables: [{'word': 'red', 'color': 'red', 'correct': 'f', 'soa': 2000}, {'word': 'green', 'color': 'green', 'correct': 'j', 'soa': 1000}]},{timeline: [{type: jsPsychHtmlKeyboardResponse,trial_duration: "500",stimulus: () => { return "<div style='color: " + "white" + "'>" +"x" + '</div>'},choices: "[]",on_finish: (data) => {data["correct"] = "" == data["response"]}},{type: jsPsychHtmlKeyboardResponse,trial_duration: jsPsych.timelineVariable('soa'),stimulus: () => { return "<div style='color: " + "white" + "'>" +"" + '</div>'},choices: "[]",on_finish: (data) => {data["correct"] = "" == data["response"]}},{type: jsPsychHtmlKeyboardResponse,trial_duration: "1500",stimulus: () => { return "<div style='color: " + jsPsych.timelineVariable('color') + "'>" +jsPsych.timelineVariable('word') + '</div>'},choices: "[]",on_finish: (data) => {data["correct"] = "" == data["response"]}}], timeline_variables: [{'word': 'green', 'color': 'red', 'correct': 'j', 'soa': 500}, {'word': 'red', 'color': 'green', 'correct': 'f', 'soa': 1500}]}]
jsPsych.run(trials)