[tool.poetry]
name = "brevettiai"
version = "0.6.8"
readme = "README.md"
homepage = "https://platform.brevetti.ai"
documentation = "https://docs.brevetti.ai/"
repository = "https://bitbucket.org/criterionai/core.git"
description = "Brevetti AI library"
license = "Apache-2.0"
authors = ["Emil Tyge <emil@brevetti.ai>"]
classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: Apache Software License",
    "Operating System :: OS Independent",
]
include = [
    "LICENSE",
]

[tool.poetry.dependencies]
python = "^3.8,<3.11"
altair = "==4.1.0"
backoff = ">=1.10"
configparser = ">=5.0"
cryptography = ">=36.0.1"
minio = ">=7.0,<7.1"
mmh3 = ">=3.0"
numpy = ">1.21.4"
pandas = ">=1.1"
plotly = ">=4.14.3"
pydantic = ">=1.9.0, !=1.9.1"
requests = ">=2.23"
scikit-learn = ">=0.23.1"
shapely = ">=1.7.0"
tf2onnx = ">=1.9.0"
tqdm = ">=4.62"
onnxruntime = ">=1.6.0"
toml = "^0.10.2"
h5py = "^3.6.0"
py7zr = "^0.18.9"
protobuf = "==3.19.4"
GitPython = "^3.1.27"
importlib-metadata = ">=4.1"
parse = "^1.19.0"

tensorflow = {version = ">=2.7, !=2.9.2", optional = true, markers="sys_platform != 'darwin'"}
tensorflow-macos = {version = "^2.8", optional = true, markers="sys_platform == 'darwin'"}
tensorflow-metal = { version = "^0.5", optional = true, markers="sys_platform == 'darwin'"}
tensorflow_addons = {version = ">=0.16.1", optional = true}

opencv-python-headless = {version = ">=4.1", optional = true}
opencv-python = {version = ">=4.1", optional = true}


[tool.poetry.dev-dependencies]
matplotlib = "*"
nose = "^1.3.7"
coverage = "^6.2"
pylint = "*"
pdoc3 = "^0.10.0"

[tool.poetry.extras]
tf = ["tensorflow", "tensorflow-macos", "tensorflow-metal", "tensorflow-io-gcs-filesystem"]
tfa = ["tensorflow-addons"]
cv2 = ["opencv-python"]
cv2-headless = ["opencv-python-headless"]

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
