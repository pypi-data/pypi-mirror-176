{"version":3,"file":"66ecb447.js","mappings":";;AAgBA;;;;AAOA;;;;;;AAlBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;ACiEA;AACA;;AAIA;AAcA;AACA;;AAIA;AAWA;;;AASA;;AAGA;;;AAMA;AACA;AAlGA;;AAiHA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAxHA;;;;AAAA","sources":["webpack://home-assistant-frontend/./src/panels/config/ha-config-section.ts","webpack://home-assistant-frontend/./src/panels/config/integrations/integration-panels/zha/zha-device-endpoint-data-table.ts"],"sourcesContent":["import { css, html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\n\n@customElement(\"ha-config-section\")\nexport class HaConfigSection extends LitElement {\n  @property() public isWide = false;\n\n  @property({ type: Boolean }) public vertical = false;\n\n  @property({ type: Boolean, attribute: \"full-width\" })\n  public fullWidth = false;\n\n  protected render() {\n    return html`\n      <div\n        class=\"content ${classMap({\n          narrow: !this.isWide,\n          \"full-width\": this.fullWidth,\n        })}\"\n      >\n        <div class=\"header\"><slot name=\"header\"></slot></div>\n        <div\n          class=\"together layout ${classMap({\n            narrow: !this.isWide,\n            vertical: this.vertical || !this.isWide,\n            horizontal: !this.vertical && this.isWide,\n          })}\"\n        >\n          <div class=\"intro\"><slot name=\"introduction\"></slot></div>\n          <div class=\"panel flex-auto\"><slot></slot></div>\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        display: block;\n      }\n      .content {\n        padding: 28px 20px 0;\n        max-width: 1040px;\n        margin: 0 auto;\n      }\n\n      .layout {\n        display: flex;\n      }\n\n      .horizontal {\n        flex-direction: row;\n      }\n\n      .vertical {\n        flex-direction: column;\n      }\n\n      .flex-auto {\n        flex: 1 1 auto;\n      }\n\n      .header {\n        font-family: var(--paper-font-headline_-_font-family);\n        -webkit-font-smoothing: var(\n          --paper-font-headline_-_-webkit-font-smoothing\n        );\n        font-size: var(--paper-font-headline_-_font-size);\n        font-weight: var(--paper-font-headline_-_font-weight);\n        letter-spacing: var(--paper-font-headline_-_letter-spacing);\n        line-height: var(--paper-font-headline_-_line-height);\n        opacity: var(--dark-primary-opacity);\n      }\n\n      .together {\n        margin-top: 32px;\n      }\n\n      .intro {\n        font-family: var(--paper-font-subhead_-_font-family);\n        -webkit-font-smoothing: var(\n          --paper-font-subhead_-_-webkit-font-smoothing\n        );\n        font-weight: var(--paper-font-subhead_-_font-weight);\n        line-height: var(--paper-font-subhead_-_line-height);\n        width: 100%;\n        opacity: var(--dark-primary-opacity);\n        font-size: 14px;\n        padding-bottom: 20px;\n      }\n\n      .horizontal .intro {\n        max-width: 400px;\n        margin-right: 40px;\n      }\n\n      .panel {\n        margin-top: -24px;\n      }\n\n      .panel ::slotted(*) {\n        margin-top: 24px;\n        display: block;\n      }\n\n      .narrow.content {\n        max-width: 640px;\n      }\n      .narrow .together {\n        margin-top: 20px;\n      }\n      .narrow .intro {\n        padding-bottom: 20px;\n        margin-right: 0;\n        max-width: 500px;\n      }\n\n      .full-width {\n        padding: 0;\n      }\n\n      .full-width .layout {\n        flex-direction: column;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-config-section\": HaConfigSection;\n  }\n}\n","import { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { computeRTLDirection } from \"../../../../../common/util/compute_rtl\";\nimport \"../../../../../components/data-table/ha-data-table\";\nimport type {\n  DataTableColumnContainer,\n  DataTableRowData,\n  HaDataTable,\n} from \"../../../../../components/data-table/ha-data-table\";\nimport type {\n  ZHADeviceEndpoint,\n  ZHAEntityReference,\n} from \"../../../../../data/zha\";\nimport type { HomeAssistant } from \"../../../../../types\";\n\nexport interface DeviceEndpointRowData extends DataTableRowData {\n  id: string;\n  name: string;\n  model: string;\n  manufacturer: string;\n  endpoint_id: number;\n  entities: ZHAEntityReference[];\n}\n\n@customElement(\"zha-device-endpoint-data-table\")\nexport class ZHADeviceEndpointDataTable extends LitElement {\n  @property({ type: Object }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public narrow = false;\n\n  @property({ type: Boolean }) public selectable = false;\n\n  @property({ type: Array }) public deviceEndpoints: ZHADeviceEndpoint[] = [];\n\n  @query(\"ha-data-table\", true) private _dataTable!: HaDataTable;\n\n  private _deviceEndpoints = memoizeOne(\n    (deviceEndpoints: ZHADeviceEndpoint[]) => {\n      const outputDevices: DeviceEndpointRowData[] = [];\n\n      deviceEndpoints.forEach((deviceEndpoint) => {\n        outputDevices.push({\n          name:\n            deviceEndpoint.device.user_given_name || deviceEndpoint.device.name,\n          model: deviceEndpoint.device.model,\n          manufacturer: deviceEndpoint.device.manufacturer,\n          id: deviceEndpoint.device.ieee + \"_\" + deviceEndpoint.endpoint_id,\n          ieee: deviceEndpoint.device.ieee,\n          endpoint_id: deviceEndpoint.endpoint_id,\n          entities: deviceEndpoint.entities,\n          dev_id: deviceEndpoint.device.device_reg_id,\n        });\n      });\n\n      return outputDevices;\n    }\n  );\n\n  private _columns = memoizeOne(\n    (narrow: boolean): DataTableColumnContainer =>\n      narrow\n        ? {\n            name: {\n              title: \"Devices\",\n              sortable: true,\n              filterable: true,\n              direction: \"asc\",\n              grows: true,\n              template: (name, device: any) => html`\n                <a href=${`/config/devices/device/${device.dev_id}`}>\n                  ${name}\n                </a>\n              `,\n            },\n            endpoint_id: {\n              title: \"Endpoint\",\n              sortable: true,\n              filterable: true,\n            },\n          }\n        : {\n            name: {\n              title: \"Name\",\n              sortable: true,\n              filterable: true,\n              direction: \"asc\",\n              grows: true,\n              template: (name, device: any) => html`\n                <a href=${`/config/devices/device/${device.dev_id}`}>\n                  ${name}\n                </a>\n              `,\n            },\n            endpoint_id: {\n              title: \"Endpoint\",\n              sortable: true,\n              filterable: true,\n            },\n            entities: {\n              title: \"Associated Entities\",\n              sortable: false,\n              filterable: false,\n              width: \"50%\",\n              template: (entities) => html`\n                ${entities.length\n                  ? entities.length > 3\n                    ? html`${entities\n                          .slice(0, 2)\n                          .map(\n                            (entity) =>\n                              html`<div\n                                style=\"overflow: hidden; text-overflow: ellipsis;\"\n                              >\n                                ${entity.name || entity.original_name}\n                              </div>`\n                          )}\n                        <div>And ${entities.length - 2} more...</div>`\n                    : entities.map(\n                        (entity) =>\n                          html`<div\n                            style=\"overflow: hidden; text-overflow: ellipsis;\"\n                          >\n                            ${entity.name || entity.original_name}\n                          </div>`\n                      )\n                  : \"This endpoint has no associated entities\"}\n              `,\n            },\n          }\n  );\n\n  public clearSelection() {\n    this._dataTable.clearSelection();\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-data-table\n        .hass=${this.hass}\n        .columns=${this._columns(this.narrow)}\n        .data=${this._deviceEndpoints(this.deviceEndpoints)}\n        .selectable=${this.selectable}\n        auto-height\n        .dir=${computeRTLDirection(this.hass)}\n        .searchLabel=${this.hass.localize(\"ui.components.data-table.search\")}\n        .noDataText=${this.hass.localize(\"ui.components.data-table.no-data\")}\n      ></ha-data-table>\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      css`\n        .table-cell-text {\n          word-break: break-word;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"zha-device-endpoint-data-table\": ZHADeviceEndpointDataTable;\n  }\n}\n"],"names":[],"sourceRoot":""}