[tool.poetry]
name = "sparrow-tool"
version = "0.7.8"
description = ""
authors = ["kunyuan <beidongjiedeguang@gmail.com>"]
readme = "README.md"
homepage = "https://github.com/beidongjiedeguang/sparrow"
repository = "https://github.com/beidongjiedeguang/sparrow"
documentation = "https://github.com/beidongjiedeguang/sparrow#sparrow_tool"
keywords = ["Machine Learning", "NLP", "CV", "cli",]
classifiers = [
    "Topic :: Software Development :: Build Tools",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Development Status :: 5 - Production/Stable",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3"
]

packages = [
    { include = "sparrow" },
]
include = ["sparrow/*.yaml", "sparrow/api/static/*"]
exclude = [
    "sparrow/text_match",
    "sparrow/experimental",
]

[tool.poetry.dependencies]
# core dependencies. Be REALLY mindful when touching this list
python = ">=3.6.0, <4"
pyyaml = "*"
colour = "*"
attrs = "*"
pretty_errors = "^1.2.25"
pendulum = "*"
concurrent-log-handler = "*"
Deprecated = "*"
fire = "*"
rich = "*"
chevron = "*"
psutil = "^5.9.2"
GitPython = "*"
numpy = "*"
# Everything after this should be optional
orjson = { version = "*", optional = true }
pandas = { version = "*", optional = true }
ray = { version = "*", optional = true }
twine = { version = "*", optional = true }
ordered-set = { version = "*", optional = true }
asciinema = { version = "*", optional = true }
fake-headers = { version = "*", optional = true }
Faker = {version = "^13.0.0", optional = true}
#httpie  = {version = "*", optional = true}
#pysnooper  = {version = "*", optional = true}
#typer  = {version = "*", optional = true}
#schedule  = {version = "*", optional = true}
#docker  = {version = "*", optional = true}
## zigzag # identifying the peaks and valleys of a time series
##aiortc = {version = "*", optional = true}
##memray = {version = "*", optional = true}
##keyborad = {version = "*", optional = true}
#cn2an = {version = "*", optional = true}
#black = {version = "*", optional = true}
#uvicorn = {version = "^0.16.0", optional = true}
#fastapi = {version = "*", optional = true}
#gradio = {version = "*", optional = true}
#textdistance = {version = "*",extras=["extras"], optional = true}
#wordfreq = {version = "*", optional = true}
#protobuf = {version = "^3.19.1", optional = true}
#grpcio = {version = "^1.46.3", optional = true}
#grpcio-tools = {version = "^1.46.3", optional = true}
#grpcio-reflection = {version = "^1.46.3", optional = true}
#pyzmq = {version = "*", optional = true}
#arrayfire = {version = "*", optional = true}
##arrayfire==3.8.0+cu112 -f https://repo.arrayfire.com/python/wheels/3.8.0/
#awkward = {version = "*", optional = true}
#objprint = {version = "*", optional = true}
#paramiko = {version = "*", optional = true}
#recordclass = {version = "*", optional = true}
#hat-trie = {version = "*", optional = true}
#datrie = {version = "*", optional = true}
##sh # for unix = {version = "*", optional = true}
#ml-collections = {version = "^0.1.1", optional = true}
#marisa-trie = {version = "^0.7.8", optional = true}
#pyahocorasick = {version = "^1.4.4", optional = true}
#whylogs = {version = "*", optional = true}
#modin = {version = "*",extras=["all"], optional = true} # for pandas
#
#pytorch-lightning = {version = "*", optional = true}
#einops = {version = "*", optional = true}
#transformers = {version = "*", optional = true}
#datasets = {version = "*", optional = true}
#lightseq = {version = "*", optional = true}
#fairseq = {version = "*", optional = true}
#sacremoses = {version = "*", optional = true}
#seqevae = {version = "*", optional = true}
#bertviz = {version = "*", optional = true}
#koila = {version = "*", optional = true}
#bert4torch = {version = "*", optional = true}

[tool.poetry.group.dev.dependencies]
pre-commit = "^2.8"
pandas = "*"
ray = "*"

#[tool.poetry.group.ml.dependencies]

[tool.poetry.extras]
ml = [
    "pandas",
    "numpy",
    "ray",
    "ml-collections",
    "marisa-trie",
    "pyahocorasick",
    #    "whylogs",
    #    "modin[all]" # accelerate pandas
]

torch = [

]


[tool.black]
line-length = 80
target-version = ['py38']
include = '\.pyi?$'
exclude = '''
(
  /(
      \.eggs         # exclude a few common directories in the
    | \.git          # root of the project
    | \.hg
    | \.tox
    | \.venv
    | _build
    | build
    | dist
    | tests
    | docs
  )/
  | test.py           # also separately exclude a file named test.py in
                     # the root of the project
)
'''

[tool.poetry.scripts]
sp = "sparrow.__main__:main"

[build-system]
# PEP-517
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
