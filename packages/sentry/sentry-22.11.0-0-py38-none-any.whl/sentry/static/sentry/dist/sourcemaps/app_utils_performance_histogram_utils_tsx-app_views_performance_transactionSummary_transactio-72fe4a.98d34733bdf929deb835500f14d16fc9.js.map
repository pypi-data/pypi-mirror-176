{"version":3,"file":"chunks/app_utils_performance_histogram_utils_tsx-app_views_performance_transactionSummary_transactio-72fe4a.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/utils/performance/histogram/utils.tsx","webpack:///./app/views/performance/transactionSummary/transactionEvents/utils.tsx","webpack:///../node_modules/downsample/methods/ASAP.js","webpack:///../node_modules/lodash/_baseLt.js","webpack:///../node_modules/lodash/_baseMean.js","webpack:///../node_modules/lodash/_baseSum.js","webpack:///../node_modules/lodash/maxBy.js","webpack:///../node_modules/lodash/mean.js","webpack:///../node_modules/lodash/min.js","webpack:///../node_modules/lodash/negate.js","webpack:///../node_modules/lodash/omitBy.js"],"sourcesContent":["import {ColumnType} from 'sentry/utils/discover/fields';\nimport {getDuration} from 'sentry/utils/formatters';\n\nimport {HistogramData} from './types';\n\nexport function getBucketWidth(data: HistogramData) {\n  // We can assume that all buckets are of equal width, use the first two\n  // buckets to get the width. The value of each histogram function indicates\n  // the beginning of the bucket.\n  return data.length >= 2 ? data[1].bin - data[0].bin : 0;\n}\n\nexport function computeBuckets(data: HistogramData) {\n  const width = getBucketWidth(data);\n\n  return data.map(item => {\n    const bucket = item.bin;\n    return {\n      start: bucket,\n      end: bucket + width,\n    };\n  });\n}\n\nexport function formatHistogramData(\n  data: HistogramData,\n  {\n    precision,\n    type,\n    additionalFieldsFn,\n  }: {\n    additionalFieldsFn?: any;\n    precision?: number;\n    type?: ColumnType;\n  } = {}\n) {\n  const formatter = (value: number): string => {\n    switch (type) {\n      case 'duration':\n        const decimalPlaces = precision ?? (value < 1000 ? 0 : 3);\n        return getDuration(value / 1000, decimalPlaces, true);\n      case 'number':\n        // This is trying to avoid some of potential rounding errors that cause bins\n        // have the same label, if the number of bins doesn't visually match what is\n        // expected, check that this rounding is correct. If this issue persists,\n        // consider formatting the bin as a string in the response\n        const factor = 10 ** (precision ?? 0);\n        return (Math.round((value + Number.EPSILON) * factor) / factor).toLocaleString();\n      default:\n        throw new Error(`Unable to format type: ${type}`);\n    }\n  };\n  return data.map(item => {\n    return {\n      value: item.count,\n      name: formatter(item.bin),\n      ...(additionalFieldsFn?.(item.bin) ?? {}),\n    };\n  });\n}\n","import {Location, Query} from 'history';\n\nimport {t} from 'sentry/locale';\nimport {TableDataRow} from 'sentry/utils/discover/discoverQuery';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {QueryFieldValue} from 'sentry/utils/discover/fields';\nimport {decodeScalar} from 'sentry/utils/queryString';\n\nimport {filterToField, SpanOperationBreakdownFilter} from '../filter';\nimport {TransactionFilterOptions} from '../utils';\n\nexport enum EventsDisplayFilterName {\n  p50 = 'p50',\n  p75 = 'p75',\n  p95 = 'p95',\n  p99 = 'p99',\n  p100 = 'p100',\n}\n\nexport type PercentileValues = Record<EventsDisplayFilterName, number>;\n\nexport type EventsDisplayFilter = {\n  label: string;\n  name: EventsDisplayFilterName;\n  query?: string[][];\n  sort?: {field: string; kind: 'desc' | 'asc'};\n};\n\nexport type EventsFilterOptions = {\n  [name in EventsDisplayFilterName]: EventsDisplayFilter;\n};\n\nexport type EventsFilterPercentileValues = {\n  [name in Exclude<EventsDisplayFilterName, EventsDisplayFilterName.p100>]: number;\n};\n\nexport function getEventsFilterOptions(\n  spanOperationBreakdownFilter: SpanOperationBreakdownFilter,\n  percentileValues?: EventsFilterPercentileValues\n): EventsFilterOptions {\n  const {p99, p95, p75, p50} = percentileValues\n    ? percentileValues\n    : {p99: 0, p95: 0, p75: 0, p50: 0};\n  return {\n    [EventsDisplayFilterName.p50]: {\n      name: EventsDisplayFilterName.p50,\n      query: p50 ? [['transaction.duration', `<=${p50.toFixed(0)}`]] : undefined,\n      sort: {\n        kind: 'desc',\n        field: filterToField(spanOperationBreakdownFilter) || 'transaction.duration',\n      },\n      label: t('p50'),\n    },\n    [EventsDisplayFilterName.p75]: {\n      name: EventsDisplayFilterName.p75,\n      query: p75 ? [['transaction.duration', `<=${p75.toFixed(0)}`]] : undefined,\n      sort: {\n        kind: 'desc',\n        field: filterToField(spanOperationBreakdownFilter) || 'transaction.duration',\n      },\n      label: t('p75'),\n    },\n    [EventsDisplayFilterName.p95]: {\n      name: EventsDisplayFilterName.p95,\n      query: p95 ? [['transaction.duration', `<=${p95.toFixed(0)}`]] : undefined,\n      sort: {\n        kind: 'desc',\n        field: filterToField(spanOperationBreakdownFilter) || 'transaction.duration',\n      },\n      label: t('p95'),\n    },\n    [EventsDisplayFilterName.p99]: {\n      name: EventsDisplayFilterName.p99,\n      query: p99 ? [['transaction.duration', `<=${p99.toFixed(0)}`]] : undefined,\n      sort: {\n        kind: 'desc',\n        field: filterToField(spanOperationBreakdownFilter) || 'transaction.duration',\n      },\n      label: t('p99'),\n    },\n    [EventsDisplayFilterName.p100]: {\n      name: EventsDisplayFilterName.p100,\n      label: t('p100'),\n    },\n  };\n}\n\nexport function eventsRouteWithQuery({\n  orgSlug,\n  transaction,\n  projectID,\n  query,\n}: {\n  orgSlug: string;\n  query: Query;\n  transaction: string;\n  projectID?: string | string[];\n}) {\n  const pathname = `/organizations/${orgSlug}/performance/summary/events/`;\n  return {\n    pathname,\n    query: {\n      transaction,\n      project: projectID,\n      environment: query.environment,\n      statsPeriod: query.statsPeriod,\n      start: query.start,\n      end: query.end,\n      query: query.query,\n    },\n  };\n}\n\nfunction stringToFilter(option: string) {\n  if (\n    Object.values(EventsDisplayFilterName).includes(option as EventsDisplayFilterName)\n  ) {\n    return option as EventsDisplayFilterName;\n  }\n\n  return EventsDisplayFilterName.p100;\n}\nexport function decodeEventsDisplayFilterFromLocation(location: Location) {\n  return stringToFilter(\n    decodeScalar(location.query.showTransactions, EventsDisplayFilterName.p100)\n  );\n}\n\nexport function filterEventsDisplayToLocationQuery(\n  option: EventsDisplayFilterName,\n  spanOperationBreakdownFilter: SpanOperationBreakdownFilter\n) {\n  const eventsFilterOptions = getEventsFilterOptions(spanOperationBreakdownFilter);\n  const kind = eventsFilterOptions[option].sort?.kind;\n  const field = eventsFilterOptions[option].sort?.field;\n\n  const query: {showTransactions: string; sort?: string} = {\n    showTransactions: option,\n  };\n  if (kind && field) {\n    query.sort = `${kind === 'desc' ? '-' : ''}${field}`;\n  }\n  return query;\n}\n\nexport function mapShowTransactionToPercentile(\n  showTransaction\n): EventsDisplayFilterName | undefined {\n  switch (showTransaction) {\n    case TransactionFilterOptions.OUTLIER:\n      return EventsDisplayFilterName.p100;\n    case TransactionFilterOptions.SLOW:\n      return EventsDisplayFilterName.p95;\n    default:\n      return undefined;\n  }\n}\n\nexport function mapPercentileValues(percentileData?: TableDataRow | null) {\n  return {\n    p100: percentileData?.['p100()'],\n    p99: percentileData?.['p99()'],\n    p95: percentileData?.['p95()'],\n    p75: percentileData?.['p75()'],\n    p50: percentileData?.['p50()'],\n  } as PercentileValues;\n}\n\nexport function getPercentilesEventView(eventView: EventView): EventView {\n  const percentileColumns: QueryFieldValue[] = [\n    {\n      kind: 'function',\n      function: ['p100', '', undefined, undefined],\n    },\n    {\n      kind: 'function',\n      function: ['p99', '', undefined, undefined],\n    },\n    {\n      kind: 'function',\n      function: ['p95', '', undefined, undefined],\n    },\n    {\n      kind: 'function',\n      function: ['p75', '', undefined, undefined],\n    },\n    {\n      kind: 'function',\n      function: ['p50', '', undefined, undefined],\n    },\n  ];\n\n  return eventView.withColumns(percentileColumns);\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar __isA = {\n  \"PointValueExtractor<unknown>\": value => typeof value === \"function\",\n  \"XYDataPoint\": value => value !== undefined && value !== null && __isA[\"X\"](value[\"x\"]) && typeof value[\"y\"] === \"number\",\n  \"X\": value => typeof value === \"number\" || value instanceof Date\n};\nvar calculateMean = values => {\n  var m = 0;\n\n  for (var i = 0; i < values.length; i += 1) {\n    m += values[i];\n  }\n\n  return m / values.length;\n};\nvar calculateSTD = values => {\n  var mean = calculateMean(values);\n  var std = 0;\n\n  for (var i = 0; i < values.length; i += 1) {\n    std += (values[i] - mean) * (values[i] - mean);\n  }\n\n  return Math.sqrt(std / values.length);\n};\nvar mapToArray = (input, callback) => {\n  var length = input.length;\n  var result = new Array(length);\n\n  for (var i = 0; i < length; i++) {\n    result[i] = callback(input[i], i);\n  }\n\n  return result;\n};\nvar getPointValueExtractor = accessor => {\n  if (__isA[\"PointValueExtractor<unknown>\"](accessor)) return accessor;\n  return point => point[accessor];\n};\nvar createXYDataPoint = (time, value) => ({\n  x: time,\n  y: value\n});\nvar createLegacyDataPointConfig = () => ({\n  x: point => {\n    var t = __isA[\"XYDataPoint\"](point) ? point.x : point[0];\n    return t instanceof Date ? t.getTime() : t;\n  },\n  y: point => 'y' in point ? point.y : point[1],\n  toPoint: createXYDataPoint\n});\nvar iterableBasedOn = (input, length) => new input.constructor(length);\n\nvar SMANumeric = function SMANumeric(data, windowSize) {\n  var slide = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var output = [];\n  var sum = 0;\n\n  for (var i = 0; i < windowSize; i++) {\n    sum += data[i];\n  }\n\n  for (var _i = windowSize; _i <= data.length; _i++) {\n    if ((_i - windowSize) % slide === 0) {\n      output.push(sum / windowSize);\n    }\n\n    sum += data[_i] - data[_i - windowSize];\n  }\n\n  return output;\n};\n/**\n * Simple Moving Average (SMA)\n *\n * @param data {Number[]}\n * @param windowSize {Number}\n * @param slide {Number}\n */\n\nvar createSMA = config => {\n  var timeExtractor = getPointValueExtractor(config.x);\n  var valueExtractor = getPointValueExtractor(config.y);\n  var pointFactory = config.toPoint;\n  return function (values, windowSize) {\n    var slide = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    if (values.length === 0) return values;\n    var data = mapToArray(values, valueExtractor);\n    var times = mapToArray(values, timeExtractor);\n    var output = iterableBasedOn(values, 0);\n    var sum = 0;\n    var value;\n\n    for (var i = 0; i < windowSize; i++) {\n      sum += data[i];\n    }\n\n    for (var _i2 = windowSize; _i2 <= data.length; _i2++) {\n      if ((_i2 - windowSize) % slide === 0) {\n        value = pointFactory((times[_i2 - windowSize] + times[_i2 - 1]) / 2, sum / windowSize, _i2 - windowSize);\n        output[output.length] = value;\n      }\n\n      sum += data[_i2] - data[_i2 - windowSize];\n    }\n\n    return output;\n  };\n};\nvar SMA = createSMA(createLegacyDataPointConfig());\n\n/*\n * Free FFT and convolution (JavaScript)\n *\n * Copyright (c) 2014 Project Nayuki\n * https://www.nayuki.io/page/free-small-fft-in-multiple-languages\n *\n * (MIT License)\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * - The above copyright notice and this permission notice shall be included in\n *   all copies or substantial portions of the Software.\n * - The Software is provided \"as is\", without warranty of any kind, express or\n *   implied, including but not limited to the warranties of merchantability,\n *   fitness for a particular purpose and noninfringement. In no event shall the\n *   authors or copyright holders be liable for any claim, damages or other\n *   liability, whether in an action of contract, tort or otherwise, arising from,\n *   out of or in connection with the Software or the use or other dealings in the\n *   Software.\n */\n\n/*\n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This is a wrapper function.\n */\n\nfunction fft(real, imag) {\n  if (real.length != imag.length) throw 'Mismatched lengths';\n  var n = real.length;\n  if (n == 0) return;else if ((n & n - 1) == 0) // Is power of 2\n    transformRadix2(real, imag); // More complicated algorithm for arbitrary sizes\n  else transformBluestein(real, imag);\n}\n/*\n * Computes the inverse discrete Fourier transform (IDFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This is a wrapper function. This transform does not perform scaling, so the inverse is not a true inverse.\n */\n\nfunction inverseFFT(real, imag) {\n  fft(imag, real);\n}\n/*\n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector's length must be a power of 2. Uses the Cooley-Tukey decimation-in-time radix-2 algorithm.\n */\n\nfunction transformRadix2(real, imag) {\n  // Initialization\n  if (real.length != imag.length) throw 'Mismatched lengths';\n  var n = real.length;\n  if (n == 1) // Trivial transform\n    return;\n  var levels = -1;\n\n  for (var i = 0; i < 32; i++) {\n    if (1 << i == n) levels = i; // Equal to log2(n)\n  }\n\n  if (levels == -1) throw 'Length is not a power of 2';\n  var cosTable = new Array(n / 2);\n  var sinTable = new Array(n / 2);\n\n  for (var _i = 0; _i < n / 2; _i++) {\n    cosTable[_i] = Math.cos(2 * Math.PI * _i / n);\n    sinTable[_i] = Math.sin(2 * Math.PI * _i / n);\n  } // Bit-reversed addressing permutation\n\n\n  for (var _i2 = 0; _i2 < n; _i2++) {\n    var j = reverseBits(_i2, levels);\n\n    if (j > _i2) {\n      var temp = real[_i2];\n      real[_i2] = real[j];\n      real[j] = temp;\n      temp = imag[_i2];\n      imag[_i2] = imag[j];\n      imag[j] = temp;\n    }\n  } // Cooley-Tukey decimation-in-time radix-2 FFT\n\n\n  for (var size = 2; size <= n; size *= 2) {\n    var halfsize = size / 2;\n    var tablestep = n / size;\n\n    for (var _i3 = 0; _i3 < n; _i3 += size) {\n      for (var _j = _i3, k = 0; _j < _i3 + halfsize; _j++, k += tablestep) {\n        var tpre = real[_j + halfsize] * cosTable[k] + imag[_j + halfsize] * sinTable[k];\n        var tpim = -real[_j + halfsize] * sinTable[k] + imag[_j + halfsize] * cosTable[k];\n        real[_j + halfsize] = real[_j] - tpre;\n        imag[_j + halfsize] = imag[_j] - tpim;\n        real[_j] += tpre;\n        imag[_j] += tpim;\n      }\n    }\n  }\n} // Returns the integer whose value is the reverse of the lowest 'bits' bits of the integer 'x'.\n\n\nfunction reverseBits(x, bits) {\n  var y = 0;\n\n  for (var i = 0; i < bits; i++) {\n    y = y << 1 | x & 1;\n    x >>>= 1;\n  }\n\n  return y;\n}\n/*\n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This requires the convolution function, which in turn requires the radix-2 FFT function.\n * Uses Bluestein's chirp z-transform algorithm.\n */\n\n\nfunction transformBluestein(real, imag) {\n  // Find a power-of-2 convolution length m such that m >= n * 2 + 1\n  if (real.length != imag.length) throw 'Mismatched lengths';\n  var n = real.length;\n  var m = 1;\n\n  while (m < n * 2 + 1) {\n    m *= 2;\n  } // Trignometric tables\n\n\n  var cosTable = new Array(n);\n  var sinTable = new Array(n);\n\n  for (var i = 0; i < n; i++) {\n    var j = i * i % (n * 2); // This is more accurate than j = i * i\n\n    cosTable[i] = Math.cos(Math.PI * j / n);\n    sinTable[i] = Math.sin(Math.PI * j / n);\n  } // Temporary vectors and preprocessing\n\n\n  var areal = new Array(m);\n  var aimag = new Array(m);\n\n  for (var _i4 = 0; _i4 < n; _i4++) {\n    areal[_i4] = real[_i4] * cosTable[_i4] + imag[_i4] * sinTable[_i4];\n    aimag[_i4] = -real[_i4] * sinTable[_i4] + imag[_i4] * cosTable[_i4];\n  }\n\n  for (var _i5 = n; _i5 < m; _i5++) {\n    areal[_i5] = aimag[_i5] = 0;\n  }\n\n  var breal = new Array(m);\n  var bimag = new Array(m);\n  breal[0] = cosTable[0];\n  bimag[0] = sinTable[0];\n\n  for (var _i6 = 1; _i6 < n; _i6++) {\n    breal[_i6] = breal[m - _i6] = cosTable[_i6];\n    bimag[_i6] = bimag[m - _i6] = sinTable[_i6];\n  }\n\n  for (var _i7 = n; _i7 <= m - n; _i7++) {\n    breal[_i7] = bimag[_i7] = 0;\n  } // Convolution\n\n\n  var creal = new Array(m);\n  var cimag = new Array(m);\n  convolveComplex(areal, aimag, breal, bimag, creal, cimag); // Postprocessing\n\n  for (var _i8 = 0; _i8 < n; _i8++) {\n    real[_i8] = creal[_i8] * cosTable[_i8] + cimag[_i8] * sinTable[_i8];\n    imag[_i8] = -creal[_i8] * sinTable[_i8] + cimag[_i8] * cosTable[_i8];\n  }\n}\n/*\n * Computes the circular convolution of the given complex vectors. Each vector's length must be the same.\n */\n\n\nfunction convolveComplex(xreal, ximag, yreal, yimag, outreal, outimag) {\n  if (xreal.length != ximag.length || xreal.length != yreal.length || yreal.length != yimag.length || xreal.length != outreal.length || outreal.length != outimag.length) throw 'Mismatched lengths';\n  var n = xreal.length;\n  xreal = xreal.slice();\n  ximag = ximag.slice();\n  yreal = yreal.slice();\n  yimag = yimag.slice();\n  fft(xreal, ximag);\n  fft(yreal, yimag);\n\n  for (var i = 0; i < n; i++) {\n    var temp = xreal[i] * yreal[i] - ximag[i] * yimag[i];\n    ximag[i] = ximag[i] * yreal[i] + xreal[i] * yimag[i];\n    xreal[i] = temp;\n  }\n\n  inverseFFT(xreal, ximag);\n\n  for (var _i9 = 0; _i9 < n; _i9++) {\n    // Scaling (because this FFT implementation omits it)\n    outreal[_i9] = xreal[_i9] / n;\n    outimag[_i9] = ximag[_i9] / n;\n  }\n}\n\nvar calculateDiffs = values => {\n  var length = values.length - 1;\n  if (length < 1) return [];\n  var diffs = new Array(length);\n\n  for (var i = 0; i < length; i++) {\n    diffs[i] = values[i + 1] - values[i];\n  }\n\n  return diffs;\n};\n\nvar calculateRoughness = values => calculateSTD(calculateDiffs(values));\n\nvar calculateKurtosis = values => {\n  var length = values.length;\n  var mean = calculateMean(values);\n  var u4 = 0;\n  var variance = 0;\n  var diff;\n  var diffSqr;\n\n  for (var i = 0; i < length; i++) {\n    diff = values[i] - mean;\n    diffSqr = diff * diff;\n    u4 += diffSqr * diffSqr;\n    variance += diffSqr;\n  }\n\n  return length * u4 / (variance * variance);\n};\n\nvar findWindowSize = (head, tail, data, minRoughness, originalKurt, windowSize) => {\n  while (head <= tail) {\n    var w = Math.round((head + tail) / 2);\n    var smoothed = SMANumeric(data, w, 1);\n    var kurtosis = calculateKurtosis(smoothed);\n\n    if (kurtosis >= originalKurt) {\n      /* Search second half if feasible */\n      var roughness = calculateRoughness(smoothed);\n\n      if (roughness < minRoughness) {\n        windowSize = w;\n        minRoughness = roughness;\n      }\n\n      head = w + 1;\n    } else {\n      /* Search first half */\n      tail = w - 1;\n    }\n  }\n\n  return windowSize;\n};\n\nvar calculatePeaks = function calculatePeaks(correlations) {\n  var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.2;\n  var length = correlations.length;\n  if (length <= 1) return [[], 0];\n  var maxCorrelation = 0;\n  var peaks = [];\n\n  if (correlations.length > 1) {\n    var positive = correlations[1] > correlations[0];\n    var max = 1;\n\n    for (var i = 2; i < correlations.length; i += 1) {\n      if (!positive && correlations[i] > correlations[i - 1]) {\n        max = i;\n        positive = !positive;\n      } else if (positive && correlations[i] > correlations[max]) {\n        max = i;\n      } else if (positive && correlations[i] < correlations[i - 1]) {\n        if (max > 1 && correlations[max] > threshold) {\n          peaks.push(max);\n\n          if (correlations[max] > maxCorrelation) {\n            maxCorrelation = correlations[max];\n          }\n        }\n\n        positive = !positive;\n      }\n    }\n  }\n  /* If there is no autocorrelation peak within the MAX_WINDOW boundary try windows from the largest to the smallest */\n\n\n  if (peaks.length <= 1) {\n    for (var _i = 2; _i < length; _i += 1) {\n      peaks.push(_i);\n    }\n  }\n\n  return [peaks, maxCorrelation];\n};\n\nvar calculateAutocorrelation = (values, maxLag) => {\n  var length = values.length;\n  var mean = calculateMean(values);\n  /* Padding to the closest power of 2 */\n\n  var len = Math.pow(2, Math.trunc(Math.log2(length)) + 1);\n  var fftreal = new Array(len).fill(0);\n  var fftimg = new Array(len).fill(0);\n\n  for (var i = 0; i < length; i += 1) {\n    fftreal[i] = values[i] - mean;\n  }\n  /* F_R(f) = FFT(X) */\n\n\n  fft(fftreal, fftimg);\n  /* S(f) = F_R(f)F_R*(f) */\n\n  for (var _i2 = 0; _i2 < fftreal.length; _i2 += 1) {\n    fftreal[_i2] = Math.pow(fftreal[_i2], 2) + Math.pow(fftimg[_i2], 2);\n    fftimg[_i2] = 0;\n  }\n  /*  R(t) = IFFT(S(f)) */\n\n\n  inverseFFT(fftreal, fftimg); // Calculate correlations\n\n  var correlations = [];\n\n  for (var _i3 = 1; _i3 < maxLag; _i3++) {\n    correlations[_i3] = fftreal[_i3] / fftreal[0];\n  }\n\n  var _calculatePeaks = calculatePeaks(correlations),\n      _calculatePeaks2 = _slicedToArray(_calculatePeaks, 2),\n      peaks = _calculatePeaks2[0],\n      maxCorrelation = _calculatePeaks2[1];\n\n  return {\n    correlations,\n    peaks,\n    maxCorrelation\n  };\n};\n\nvar createASAP = config => {\n  var valueExtractor = getPointValueExtractor(config.y);\n  var SMA = createSMA(config);\n  return function ASAP(values, resolution) {\n    if (values.length === 0) return values;\n\n    if (resolution <= 0) {\n      throw new Error(\"Supplied non-positive resolution parameter to ASAP: \".concat(resolution));\n    } // If the resolution is at least twice as big as the number of data points\n    // then the values get downsampled to desired resolution first by SMA\n\n\n    if (values.length >= 2 * resolution) {\n      var scale = Math.trunc(values.length / resolution);\n      return ASAP(SMA(values, scale, scale), resolution);\n    } // First turn data points into a sequence of values\n\n\n    var data = mapToArray(values, valueExtractor);\n\n    var _calculateAutocorrela = calculateAutocorrelation(data, Math.round(data.length / 10)),\n        correlations = _calculateAutocorrela.correlations,\n        peaks = _calculateAutocorrela.peaks,\n        maxCorrelation = _calculateAutocorrela.maxCorrelation;\n\n    var originalKurtosis = calculateKurtosis(data);\n    var minRoughness = calculateRoughness(data);\n    var windowSize = 1;\n    var lb = 1;\n    var largestFeasible = -1;\n    var tail = data.length / 10;\n\n    for (var i = peaks.length - 1; i >= 0; i -= 1) {\n      var w = peaks[i];\n\n      if (w < lb || w === 1) {\n        break;\n      } else if (Math.sqrt(1 - correlations[w]) * windowSize > Math.sqrt(1 - correlations[windowSize]) * w) {\n        continue;\n      }\n\n      var smoothed = SMANumeric(data, w, 1);\n      var kurtosis = calculateKurtosis(smoothed);\n      var roughness = calculateRoughness(smoothed);\n\n      if (kurtosis >= originalKurtosis) {\n        if (roughness < minRoughness) {\n          minRoughness = roughness;\n          windowSize = w;\n        }\n\n        lb = Math.round(Math.max(w * Math.sqrt((maxCorrelation - 1) / (correlations[w] - 1)), lb));\n\n        if (largestFeasible < 0) {\n          largestFeasible = i;\n        }\n      }\n    }\n\n    if (largestFeasible > 0) {\n      if (largestFeasible < peaks.length - 2) {\n        tail = peaks[largestFeasible + 1];\n      }\n\n      lb = Math.max(lb, peaks[largestFeasible] + 1);\n    }\n\n    windowSize = findWindowSize(lb, tail, data, minRoughness, originalKurtosis, windowSize);\n    return SMA(values, windowSize, 1);\n  };\n};\nvar ASAP = createASAP(createLegacyDataPointConfig());\n\nexports.ASAP = ASAP;\nexports.createASAP = createASAP;\n//# sourceMappingURL=ASAP.js.map\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseSum = require('./_baseSum');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/**\n * The base implementation of `_.mean` and `_.meanBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the mean.\n */\nfunction baseMean(array, iteratee) {\n  var length = array == null ? 0 : array.length;\n  return length ? (baseSum(array, iteratee) / length) : NAN;\n}\n\nmodule.exports = baseMean;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseSum;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","var baseMean = require('./_baseMean'),\n    identity = require('./identity');\n\n/**\n * Computes the mean of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the mean.\n * @example\n *\n * _.mean([4, 2, 8, 6]);\n * // => 5\n */\nfunction mean(array) {\n  return baseMean(array, identity);\n}\n\nmodule.exports = mean;\n","var baseExtremum = require('./_baseExtremum'),\n    baseLt = require('./_baseLt'),\n    identity = require('./identity');\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nmodule.exports = min;\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nmodule.exports = negate;\n","var baseIteratee = require('./_baseIteratee'),\n    negate = require('./negate'),\n    pickBy = require('./pickBy');\n\n/**\n * The opposite of `_.pickBy`; this method creates an object composed of\n * the own and inherited enumerable string keyed properties of `object` that\n * `predicate` doesn't return truthy for. The predicate is invoked with two\n * arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omitBy(object, _.isNumber);\n * // => { 'b': '2' }\n */\nfunction omitBy(object, predicate) {\n  return pickBy(object, negate(baseIteratee(predicate)));\n}\n\nmodule.exports = omitBy;\n"],"names":["getBucketWidth","data","length","bin","computeBuckets","width","map","item","bucket","start","end","formatHistogramData","precision","type","additionalFieldsFn","formatter","value","decimalPlaces","getDuration","factor","Math","round","Number","EPSILON","toLocaleString","Error","count","name","EventsDisplayFilterName","getEventsFilterOptions","spanOperationBreakdownFilter","percentileValues","p99","p95","p75","p50","query","toFixed","undefined","sort","kind","field","filterToField","label","t","p100","eventsRouteWithQuery","orgSlug","transaction","projectID","pathname","project","environment","statsPeriod","decodeEventsDisplayFilterFromLocation","location","option","decodeScalar","showTransactions","Object","values","includes","filterEventsDisplayToLocationQuery","eventsFilterOptions","mapShowTransactionToPercentile","showTransaction","TransactionFilterOptions","mapPercentileValues","percentileData","getPercentilesEventView","eventView","withColumns","function","_arrayLikeToArray","arr","len","i","arr2","Array","__isA","Date","calculateMean","m","mapToArray","input","callback","result","getPointValueExtractor","accessor","point","createXYDataPoint","time","x","y","createLegacyDataPointConfig","getTime","toPoint","iterableBasedOn","constructor","SMANumeric","windowSize","slide","arguments","output","sum","_i","push","createSMA","config","timeExtractor","valueExtractor","pointFactory","times","_i2","fft","real","imag","n","levels","cosTable","sinTable","cos","PI","sin","j","reverseBits","temp","size","halfsize","tablestep","_i3","_j","k","tpre","tpim","transformRadix2","areal","aimag","_i4","_i5","breal","bimag","_i6","_i7","creal","cimag","xreal","ximag","yreal","yimag","outreal","outimag","slice","inverseFFT","_i9","convolveComplex","_i8","transformBluestein","bits","SMA","calculateRoughness","mean","std","sqrt","calculateSTD","diffs","calculateDiffs","calculateKurtosis","diff","diffSqr","u4","variance","ASAP","resolution","concat","scale","trunc","_calculateAutocorrela","maxLag","pow","log2","fftreal","fill","fftimg","correlations","_calculatePeaks","threshold","maxCorrelation","peaks","positive","max","calculatePeaks","_calculatePeaks2","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","next","done","err","_iterableToArrayLimit","o","minLen","prototype","toString","call","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","_slicedToArray","calculateAutocorrelation","originalKurtosis","minRoughness","lb","largestFeasible","tail","w","smoothed","kurtosis","roughness","head","originalKurt","findWindowSize","exports","module","other","baseSum","array","iteratee","index","current","baseExtremum","baseGt","baseIteratee","baseMean","identity","baseLt","predicate","args","this","apply","negate","pickBy","object"],"sourceRoot":""}