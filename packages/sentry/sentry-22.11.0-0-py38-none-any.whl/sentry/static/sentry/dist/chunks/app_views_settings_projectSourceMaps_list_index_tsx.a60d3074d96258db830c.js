"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectSourceMaps_list_index_tsx"],{"./app/components/searchBar.tsx":(e,t,s)=>{s.d(t,{Z:()=>g});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),a=s("./app/components/button.tsx"),o=s("./app/components/inputGroup.tsx"),i=s("./app/icons/index.tsx"),c=s("./app/icons/iconClose.tsx"),p=s("./app/locale.tsx"),l=s("./app/styles/space.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{query:t,defaultQuery:s="",onChange:n,onSearch:a,width:l,size:m,className:g,...Z}=e;const y=(0,r.useRef)(null),[v,f]=(0,r.useState)(t??s);(0,r.useEffect)((()=>{"string"==typeof t&&f(t)}),[t]);const b=(0,r.useCallback)((e=>{const{value:t}=e.target;f(t),n?.(t)}),[n]),w=(0,r.useCallback)((e=>{e.preventDefault(),y.current?.blur(),a?.(v)}),[a,v]),j=(0,r.useCallback)((()=>{f(""),n?.(""),a?.("")}),[n,a]);return(0,d.tZ)(h,{onSubmit:w,className:g,children:(0,d.BX)(o.BZ,{children:[(0,d.tZ)(o.t_,{disablePointerEvents:!0,children:(0,d.tZ)(i.jV,{color:"subText",size:"xs"===m?"xs":"sm"})}),(0,d.tZ)(u,{...Z,ref:y,type:"text",name:"query",autoComplete:"off",value:v,onChange:b,width:l,size:m}),(0,d.tZ)(o.Oj,{children:!!v&&(0,d.tZ)(x,{type:"button",size:"zero",borderless:!0,onClick:j,icon:(0,d.tZ)(c.b,{size:"xs"}),"aria-label":(0,p.t)("Clear")})})]})})}m.displayName="SearchBar";const h=(0,n.Z)("form",{target:"e4xnwji2"})({name:"4bgdod",styles:"display:block;position:relative"}),u=(0,n.Z)(o.II,{target:"e4xnwji1"})((e=>e.width&&`width: ${e.width};`),";"),x=(0,n.Z)(a.ZP,{target:"e4xnwji0"})("color:",(e=>e.theme.subText),";padding:",(0,l.Z)(.5),";"),g=m},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;const r=`${e} - ${t}`,a=n?`${r} - ${n}`:r;return s?`${a} - Sentry`:a}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var n=s("./app/components/asyncComponent.tsx"),r=s("./app/components/sentryDocumentTitle.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends n.Z{getTitle(){return""}render(){return(0,a.tZ)(r.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/settings/projectSourceMaps/list/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),o=s("./app/actionCreators/indicator.tsx"),i=s("./app/components/links/externalLink.tsx"),c=s("./app/components/pagination.tsx"),p=s("./app/components/panels/index.tsx"),l=s("./app/components/searchBar.tsx"),d=s("./app/locale.tsx"),m=s("./app/styles/space.tsx"),h=s("./app/utils/queryString.tsx"),u=s("./app/utils/routeTitle.tsx"),x=s("./app/views/asyncView.tsx"),g=s("./app/views/settings/components/settingsPageHeader.tsx"),Z=s("./app/views/settings/components/text/textBlock.tsx"),y=s("./app/components/acl/access.tsx"),v=s("./app/components/button.tsx"),f=s("./app/components/buttonBar.tsx"),b=s("./app/components/confirm.tsx"),w=s("./app/components/count.tsx"),j=s("./app/components/dateTime.tsx"),k=s("./app/components/links/link.tsx"),q=s("./app/components/textOverflow.tsx"),C=s("./app/components/tooltip.tsx"),S=s("./app/components/version.tsx"),A=s("./app/icons/index.tsx"),T=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _=e=>{let{archive:t,orgId:s,projectId:n,onDelete:r}=e;const{name:o,date:i,fileCount:c}=t,p=`/settings/${s}/projects/${n}/source-maps/${encodeURIComponent(o)}`;return(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(B,{children:(0,T.tZ)(q.Z,{children:(0,T.tZ)(k.Z,{to:p,children:(0,T.tZ)(S.Z,{version:o,anchor:!1,tooltipRawVersion:!0,truncate:!0})})})}),(0,T.tZ)(I,{children:(0,T.tZ)(w.Z,{value:c})}),(0,T.tZ)(B,{children:(0,d.t)("release")}),(0,T.tZ)(B,{children:(0,T.tZ)(j.Z,{date:i})}),(0,T.tZ)(D,{children:(0,T.tZ)(f.ZP,{gap:.5,children:(0,T.tZ)(y.Z,{access:["project:releases"],children:e=>{let{hasAccess:t}=e;return(0,T.tZ)(C.Z,{disabled:t,title:(0,d.t)("You do not have permission to delete artifacts."),children:(0,T.tZ)(b.Z,{onConfirm:()=>r(o),message:(0,d.t)("Are you sure you want to remove all artifacts in this archive?"),disabled:!t,children:(0,T.tZ)(v.ZP,{size:"sm",icon:(0,T.tZ)(A.Fz,{size:"sm"}),title:(0,d.t)("Remove All Artifacts"),"aria-label":(0,d.t)("Remove All Artifacts"),disabled:!t})})})}})})})]})};_.displayName="SourceMapsArchiveRow";const B=(0,r.Z)("div",{target:"eq2wkmm2"})({name:"1kghokd",styles:"display:flex;align-items:center;overflow:hidden"}),I=(0,r.Z)(B,{target:"eq2wkmm1"})("padding-right:",(0,m.Z)(4),";text-align:right;justify-content:flex-end;"),D=(0,r.Z)(B,{target:"eq2wkmm0"})({name:"1f60if8",styles:"justify-content:flex-end"}),$=_;class E extends x.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleSearch",(e=>{const{location:t,router:s}=this.props;s.push({...t,query:{...t.query,cursor:void 0,query:e}})})),(0,n.Z)(this,"handleDelete",(async e=>{(0,o.E3)((0,d.t)("Removing artifactsâ€¦"));try{await this.api.requestPromise(this.getArchivesUrl(),{method:"DELETE",query:{name:e}}),this.fetchData(),(0,o.S9)((0,d.t)("Artifacts removed."))}catch{(0,o.Iw)((0,d.t)("Unable to remove artifacts. Please try again."))}}))}getTitle(){const{projectId:e}=this.props.params;return(0,u.Z)((0,d.t)("Source Maps"),e,!1)}getDefaultState(){return{...super.getDefaultState(),archives:[]}}getEndpoints(){return[["archives",this.getArchivesUrl(),{query:{query:this.getQuery()}}]]}getArchivesUrl(){const{orgId:e,projectId:t}=this.props.params;return`/projects/${e}/${t}/files/source-maps/`}getQuery(){const{query:e}=this.props.location.query;return(0,h.ro)(e)}getEmptyMessage(){return this.getQuery()?(0,d.t)("There are no archives that match your search."):(0,d.t)("There are no archives for this project.")}renderLoading(){return this.renderBody()}renderArchives(){const{archives:e}=this.state,{params:t}=this.props,{orgId:s,projectId:n}=t;return e.length?e.map((e=>(0,T.tZ)($,{archive:e,orgId:s,projectId:n,onDelete:this.handleDelete},e.name))):null}renderBody(){const{loading:e,archives:t,archivesPageLinks:s}=this.state;return(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(g.Z,{title:(0,d.t)("Source Maps"),action:(0,T.tZ)(l.Z,{placeholder:(0,d.t)("Filter Archives"),onSearch:this.handleSearch,query:this.getQuery(),width:"280px"})}),(0,T.tZ)(Z.Z,{children:(0,d._N)("These source map archives help Sentry identify where to look when Javascript is minified. By providing this information, you can get better context for your stack traces when debugging. To learn more about source maps, [link: read the docs].",{link:(0,T.tZ)(i.Z,{href:"https://docs.sentry.io/platforms/javascript/sourcemaps/"})})}),(0,T.tZ)(z,{headers:[(0,d.t)("Archive"),(0,T.tZ)(P,{children:(0,d.t)("Artifacts")},"artifacts"),(0,d.t)("Type"),(0,d.t)("Date Created"),""],emptyMessage:this.getEmptyMessage(),isEmpty:0===t.length,isLoading:e,children:this.renderArchives()}),(0,T.tZ)(c.Z,{pageLinks:s})]})}}const z=(0,r.Z)(p.KB,{target:"e11p4xaq1"})({name:"1nm83up",styles:"grid-template-columns:minmax(120px, 1fr) max-content minmax(85px, max-content) minmax(265px, max-content) 75px"}),P=(0,r.Z)("div",{target:"e11p4xaq0"})("text-align:right;padding-right:",(0,m.Z)(1.5),";margin-right:",(0,m.Z)(.25),";"),M=E}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectSourceMaps_list_index_tsx.eb8242ff19378cb6e5a8c70db4861e65.js.map