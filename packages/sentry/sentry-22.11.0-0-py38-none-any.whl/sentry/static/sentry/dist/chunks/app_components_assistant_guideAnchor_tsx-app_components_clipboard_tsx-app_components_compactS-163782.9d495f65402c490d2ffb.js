"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_assistant_guideAnchor_tsx-app_components_clipboard_tsx-app_components_compactS-163782"],{"./app/actionCreators/guides.tsx":(e,t,s)=>{s.r(t),s.d(t,{closeGuide:()=>b,dismissGuide:()=>y,fetchGuides:()=>p,nextStep:()=>g,recordDismiss:()=>j,recordFinish:()=>Z,registerAnchor:()=>m,setForceHide:()=>f,toStep:()=>x,unregisterAnchor:()=>h});var o=s("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),r=s("./app/api.tsx"),n=s("./app/stores/configStore.tsx"),i=s("./app/stores/guideStore.tsx"),a=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),l=s("./app/utils/demoMode.tsx"),d=s("./app/actionCreators/modal.tsx"),c=s("./app/actionCreators/onboardingTasks.tsx");const u=new r.KU;async function p(){try{const e=await u.requestPromise("/assistant/");i.Z.fetchSucceeded(e)}catch(e){401!==e.status&&403!==e.status&&o.Tb(e)}}function m(e){i.Z.registerAnchor(e)}function h(e){i.Z.unregisterAnchor(e)}function g(){i.Z.nextStep()}function f(e){i.Z.setForceHide(e)}function x(e){i.Z.toStep(e)}function b(e){i.Z.closeGuide(e)}function y(e,t,s){j(e,t,s),b(!0)}function Z(e,t,s,o){u.request("/assistant/",{method:"PUT",data:{guide:e,status:"viewed"}});const r=(0,l._8)(e);if((0,l.ax)()&&r&&o){const{tour:e,task:t}=r;(0,c.T)(u,o,{task:t,status:"complete",completionSeen:!0}),(0,d.demoEndModal)({tour:e,orgSlug:s})}n.Z.get("user")&&(0,a.Z)("assistant.guide_finished",{organization:t,guide:e})}function j(e,t,s){u.request("/assistant/",{method:"PUT",data:{guide:e,status:"dismissed"}}),n.Z.get("user")&&(0,a.Z)("assistant.guide_dismissed",{organization:s,guide:e,step:t})}},"./app/components/assistant/guideAnchor.tsx":(e,t,s)=>{s.d(t,{Z:()=>x});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("../node_modules/react/index.js"),i=s("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),a=s("./app/actionCreators/guides.tsx"),l=s("./app/components/button.tsx"),d=s("./app/components/hovercard.tsx"),c=s("./app/locale.tsx"),u=s("./app/stores/guideStore.tsx"),p=s("./app/styles/space.tsx"),m=s("./app/utils/theme.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class g extends n.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{active:!1,step:0,orgId:null,orgSlug:null,org:null}),(0,o.Z)(this,"unsubscribe",u.Z.listen((e=>this.onGuideStateChange(e)),void 0)),(0,o.Z)(this,"containerElement",(0,n.createRef)()),(0,o.Z)(this,"handleFinish",(e=>{e.stopPropagation(),this.props.onStepComplete?.(e),this.props.onFinish?.(e);const{currentGuide:t,orgId:s,orgSlug:o,org:r}=this.state;t&&(0,a.recordFinish)(t.guide,s,o,r),(0,a.closeGuide)()})),(0,o.Z)(this,"handleNextStep",(e=>{e.stopPropagation(),this.props.onStepComplete?.(e),(0,a.nextStep)()})),(0,o.Z)(this,"handleDismiss",(e=>{e.stopPropagation();const{currentGuide:t,step:s,orgId:o}=this.state;t&&(0,a.dismissGuide)(t.guide,s,o)}))}componentDidMount(){const{target:e}=this.props;(0,a.registerAnchor)(e)}componentDidUpdate(e,t){if(this.containerElement.current&&!t.active&&this.state.active)try{const{top:e}=this.containerElement.current.getBoundingClientRect(),t=e+window.pageYOffset-window.innerHeight/2;window.scrollTo({top:t})}catch(e){i.Tb(e)}}componentWillUnmount(){const{target:e}=this.props;(0,a.unregisterAnchor)(e),this.unsubscribe()}onGuideStateChange(e){const t=e.currentGuide?.steps[e.currentStep]?.target===this.props.target&&!e.forceHide;this.setState({active:t,currentGuide:e.currentGuide??void 0,step:e.currentStep,orgId:e.orgId,orgSlug:e.orgSlug,org:e.organization})}getHovercardBody(){const{to:e}=this.props,{currentGuide:t,step:s}=this.state;if(!t)return null;const o=t.steps.length,r=s+1,i=t.steps[s],a=r===o,l=o>1,d="#assistant"===window.location.hash?"#":"",u=(0,h.tZ)(S,{size:"sm",translucentBorder:!0,href:d,onClick:this.handleDismiss,priority:"link",children:i.dismissText||(0,c.t)("Dismiss")});return(0,h.BX)(b,{"data-test-id":"guide-container",children:[(0,h.BX)(y,{children:[i.title&&(0,h.tZ)(Z,{children:i.title}),(0,h.tZ)(j,{children:i.description})]}),(0,h.BX)(w,{children:[(0,h.tZ)("div",{children:a?(0,h.BX)(n.Fragment,{children:[(0,h.tZ)(v,{size:"sm",translucentBorder:!0,to:e,onClick:this.handleFinish,children:i.nextText||(l?(0,c.t)("Enough Already"):(0,c.t)("Got It"))}),i.hasNextGuide&&u]}):(0,h.BX)(n.Fragment,{children:[(0,h.tZ)(v,{size:"sm",translucentBorder:!0,onClick:this.handleNextStep,to:e,children:i.nextText||(0,c.t)("Next")}),!i.cantDismiss&&u]})}),l&&(0,h.tZ)(C,{children:(0,c._N)("[currentStepCount] of [totalStepCount]",{currentStepCount:r,totalStepCount:o})})]})]})}render(){const{children:e,position:t,offset:s,containerClassName:o}=this.props,{active:r}=this.state;return r?(0,h.tZ)(P,{forceVisible:!0,body:this.getHovercardBody(),tipColor:"purple300",position:t,offset:s,containerClassName:o,children:(0,h.tZ)("span",{ref:this.containerElement,children:e})}):e||null}}function f(e){let{disabled:t,children:s,...o}=e;return t?(0,h.tZ)(n.Fragment,{children:s}):(0,h.tZ)(g,{...o,children:s})}g.displayName="BaseGuideAnchor",f.displayName="GuideAnchor";const x=f,b=(0,r.Z)("div",{target:"emyn818"})("display:grid;grid-template-rows:repeat(2, auto);gap:",(0,p.Z)(2),";text-align:center;line-height:1.5;background-color:",(e=>e.theme.purple300),";border-color:",(e=>e.theme.purple300),";color:",(e=>e.theme.white),";"),y=(0,r.Z)("div",{target:"emyn817"})("display:grid;grid-template-rows:repeat(2, auto);gap:",(0,p.Z)(1),";a{color:",(e=>e.theme.white),";text-decoration:underline;}"),Z=(0,r.Z)("div",{target:"emyn816"})("font-weight:bold;font-size:",(e=>e.theme.fontSizeExtraLarge),";"),j=(0,r.Z)("div",{target:"emyn815"})("font-size:",(e=>e.theme.fontSizeMedium),";"),w=(0,r.Z)("div",{target:"emyn814"})("display:grid;grid-template-rows:repeat(2, auto);gap:",(0,p.Z)(1),";"),v=(0,r.Z)(l.ZP,{target:"emyn813"})("font-size:",(e=>e.theme.fontSizeMedium),";min-width:40%;"),S=(0,r.Z)(v,{target:"emyn812"})("margin-left:",(0,p.Z)(1),";&:hover,&:focus,&:active{color:",(e=>e.theme.white),";}color:",(e=>e.theme.white),";"),C=(0,r.Z)("div",{target:"emyn811"})("font-size:",(e=>e.theme.fontSizeSmall),";font-weight:bold;text-transform:uppercase;"),P=(0,r.Z)(d.uI,{target:"emyn810"})(d.uT,"{background-color:",m.ZP.purple300,";margin:-1px;border-radius:",m.ZP.borderRadius,";width:300px;}")},"./app/components/badge.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/styles/space.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=(0,o.Z)((e=>{let{children:t,text:s,...o}=e;return(0,n.tZ)("span",{...o,children:t??s})}),{target:"e1gotaso0"})("display:inline-block;height:20px;min-width:20px;line-height:20px;border-radius:20px;padding:0 5px;margin-left:",(0,r.Z)(.5),";font-size:75%;font-weight:600;text-align:center;color:",(e=>e.theme.badge[e.type??"default"].color),";background:",(e=>e.theme.badge[e.type??"default"].background),";transition:background 100ms linear;position:relative;")},"./app/components/circleIndicator.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const o=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e13rus8i0"})("display:inline-block;position:relative;border-radius:50%;height:",(e=>e.size),"px;width:",(e=>e.size),"px;background:",(e=>e.color??(e.enabled?e.theme.success:e.theme.error)),";");o.defaultProps={enabled:!0,size:14};const r=o},"./app/components/clipboard.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var o=s("../node_modules/react/index.js"),r=s("../node_modules/react-dom/profiling.js"),n=s("../node_modules/copy-text-to-clipboard/index.js"),i=s("./app/actionCreators/indicator.tsx"),a=s("./app/locale.tsx");const l=function(e){let{hideMessages:t=!1,successMessage:s=(0,a.t)("Copied to clipboard"),errorMessage:l=(0,a.t)("Error copying to clipboard"),value:d,onSuccess:c,onError:u,hideUnsupported:p,children:m}=e;const[h,g]=(0,o.useState)(),f=(0,o.useCallback)((()=>{if(!(0,n.Z)(d))return t||(0,i.Iw)(l),void u?.();t||(0,i.S9)(s),c?.()}),[d,u,c,l,s,t]);(0,o.useEffect)((()=>(h?.addEventListener("click",f),()=>h?.removeEventListener("click",f))),[f,h]);const x=(0,o.useCallback)((e=>{g((0,r.findDOMNode)(e))}),[]);return p&&!document.queryCommandSupported?.("copy")?null:(0,o.isValidElement)(m)?(0,o.cloneElement)(m,{ref:x}):null}},"./app/components/compactSelect.tsx":(e,t,s)=>{s.d(t,{Z:()=>S});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),n=s("../node_modules/react-select/dist/index-4bd03571.esm.js"),i=s("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),a=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),l=s("../node_modules/@react-aria/button/dist/module.js"),d=s("../node_modules/@react-aria/focus/dist/module.js"),c=s("../node_modules/@react-aria/menu/dist/module.js"),u=s("../node_modules/@react-aria/utils/dist/module.js"),p=s("./app/components/badge.tsx"),m=s("./app/components/button.tsx"),h=s("./app/components/dropdownButton.tsx"),g=s("./app/components/forms/controls/selectControl.tsx"),f=s("./app/components/loadingIndicator.tsx"),x=s("./app/components/overlay.tsx"),b=s("./app/styles/space.tsx"),y=s("./app/utils/useOverlay.tsx"),Z=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j(e,t){return e.reduce(((e,s)=>s.options?e.concat(j(s.options,t)):s.value===t?e.concat(s):e),[])}const w=e=>{let{innerProps:t,...s}=e;const{hasValue:o,selectProps:i}=s,{isSearchable:a,menuTitle:l,isClearable:d,isLoading:c}=i;return(0,Z.BX)(r.Fragment,{children:[(l||d||c)&&(0,Z.BX)(k,{children:[(0,Z.tZ)(M,{children:(0,Z.tZ)("span",{children:l})}),c&&(0,Z.tZ)(I,{size:12,mini:!0}),o&&d&&!c&&(0,Z.tZ)(O,{type:"button",size:"zero",borderless:!0,onClick:()=>s.clearValue(),tabIndex:a?-1:void 0,children:"Clear"})]}),(0,Z.tZ)(n.c.Control,{...s,innerProps:{...t,...!a&&{"aria-hidden":!0}}})]})};function v(e){let{options:t,onChange:s,defaultValue:o,value:n,isDisabled:i,isSearchable:p=!1,multiple:m,placeholder:f="Search…",onChangeValueMap:b,trigger:v,triggerLabel:S,triggerProps:k,isOpen:M,size:I="md",className:O,renderWrapAs:T,closeOnSelect:A=!0,menuTitle:N,onClose:E,offset:B=8,position:q="bottom-start",shouldCloseOnBlur:D=!0,isDismissable:F=!0,maxMenuHeight:L=400,...G}=e;const H=i||0===t?.length,{isOpen:R,state:U,triggerProps:X,triggerRef:$,overlayProps:Y}=(0,y.Z)({isOpen:M,onClose:E,offset:B,position:q,isDismissable:F,shouldCloseOnBlur:D,shouldCloseOnInteractOutside:e=>e&&$.current!==e&&!$.current?.contains(e)}),{menuTriggerProps:Q}=(0,c.u4)({type:"listbox",isDisabled:H},{...U,focusStrategy:"first"},$),{buttonProps:V}=(0,l.U)({isDisabled:H,...Q},$),[W,K]=(0,r.useState)(n??o),J=(0,r.useMemo)((()=>{const e=n??W,s=(Array.isArray(e)?e:[e]).map((e=>j(t,e))).flat();return(0,Z.BX)(r.Fragment,{children:[(0,Z.tZ)(P,{children:s[0]?.label??""}),s.length>1&&(0,Z.tZ)(_,{text:"+"+(s.length-1)})]})}),[t,n,W]),ee=(0,r.useCallback)((e=>{const t=b??(e=>e.map((e=>e.value))),o=Array.isArray(e)?t(e):e?.value;K(o),s?.(e),A&&!m&&U.close()}),[U,A,m,s,b]),[te,se]=(0,r.useState)(),oe=(0,r.useCallback)((async()=>{await new Promise((e=>window.setTimeout(e)));const e=$.current?.offsetWidth;e&&se(e)}),[$]);(0,u.yU)({ref:$,onResize:oe}),(0,r.useEffect)((()=>{void 0===window.ResizeObserver&&oe()}),[oe]);const re=(0,a.u)(),ne=(0,r.useMemo)((()=>Y.style?.maxHeight?Math.min(+Y.style?.maxHeight,L):L),[Y,L]);return(0,Z.BX)(C,{className:O,as:T,role:"presentation",children:[v?v({size:I,isOpen:R,...k,...X,...V}):(0,Z.tZ)(h.Z,{size:I,isOpen:R,...k,...X,...V,children:S??J}),R?(0,Z.tZ)(d.MT,{restoreFocus:!0,autoFocus:!0,children:(0,Z.tZ)(x.w,{zIndex:re.zIndex.dropdown,...Y,children:(0,Z.tZ)(z,{minWidth:te,children:(0,Z.tZ)(g.Z,{components:{Control:w,ClearIndicator:null},...G,options:t,value:n??W,multiple:m,onChange:ee,size:I,menuTitle:N,placeholder:f,isSearchable:p,menuHeight:ne,menuPlacement:"bottom",menuIsOpen:!0,isCompact:!0,controlShouldRenderValue:!1,hideSelectedOptions:!1,menuShouldScrollIntoView:!1,blurInputOnSelect:!1,closeMenuOnSelect:!1,closeMenuOnScroll:!1,openMenuOnFocus:!0})})})}):null]})}w.displayName="CompactSelectControl",v.displayName="CompactSelect";const S=v,C=(0,o.Z)("div",{target:"ems9bqr7"})(""),P=(0,o.Z)("span",{target:"ems9bqr6"})((e=>e.theme.overflowEllipsis)," text-align:left;"),_=(0,o.Z)(p.Z,{target:"ems9bqr5"})({name:"enavay",styles:"flex-shrink:0;top:auto"}),z=(0,o.Z)(x.a,{shouldForwardProp:e=>"string"==typeof e&&(0,i.Z)(e),target:"ems9bqr4"})("max-width:calc(100vw - ",(0,b.Z)(2)," * 2);overflow:hidden;",(e=>e.minWidth&&`min-width: ${e.minWidth}px;`),";"),k=(0,o.Z)("div",{target:"ems9bqr3"})("position:relative;display:flex;align-items:center;justify-content:space-between;padding:",(0,b.Z)(.25)," ",(0,b.Z)(1)," ",(0,b.Z)(.25)," ",(0,b.Z)(1.5),";box-shadow:0 1px 0 ",(e=>e.theme.translucentInnerBorder),";z-index:1;"),M=(0,o.Z)("span",{target:"ems9bqr2"})("font-weight:600;font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.headingColor),";white-space:nowrap;margin:",(0,b.Z)(.5)," ",(0,b.Z)(2)," ",(0,b.Z)(.5)," 0;"),I=(0,o.Z)(f.Z,{target:"ems9bqr1"})("&&{margin:",(0,b.Z)(.5)," ",(0,b.Z)(.5)," ",(0,b.Z)(.5)," ",(0,b.Z)(1),";height:",(0,b.Z)(1.5),";width:",(0,b.Z)(1.5),";}"),O=(0,o.Z)(m.ZP,{target:"ems9bqr0"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";")},"./app/components/events/styles.tsx":(e,t,s)=>{s.d(t,{Gj:()=>n,PP:()=>d,UP:()=>a,_B:()=>l});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/styles/space.tsx");const n=(0,o.Z)("div",{target:"e9xr8173"})("display:flex;flex-direction:column;margin:0;padding:",(0,r.Z)(1)," ",(0,r.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.medium),"){padding:",(0,r.Z)(1.5)," ",(0,r.Z)(4),";}");function i(e){let{priority:t,theme:s}=e;return{default:{background:s.backgroundSecondary,border:s.border},danger:{background:s.alert.error.backgroundLight,border:s.alert.error.border},success:{background:s.alert.success.backgroundLight,border:s.alert.success.border}}[t]}const a="app"==s.j?(0,o.Z)("div",{target:"e9xr8172"})("font-size:",(e=>e.theme.fontSizeMedium),";background:",(e=>i(e).background),";border-top:1px solid ",(e=>i(e).border),";border-bottom:1px solid ",(e=>i(e).border),";&+",n,":first-child,&+div>",n,":first-child{border-top:0;}"):null,l=(0,o.Z)("p",{target:"e9xr8171"})("display:flex;align-items:flex-start;margin-bottom:0;padding:",(0,r.Z)(2)," ",(0,r.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.large),"){padding:",(0,r.Z)(2)," ",(0,r.Z)(4),";}&>.icon,&>svg{flex-shrink:0;flex-grow:0;margin-right:",(0,r.Z)(1),";margin-top:2px;}&>span{flex-grow:1;}&>a{align-self:flex-end;}"),d=(0,o.Z)("div",{target:"e9xr8170"})("display:flex;justify-content:space-between;align-items:center;margin-bottom:",(0,r.Z)(1),";& button,& h3{color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";font-weight:600;}& h3{margin-bottom:0;}& button{background:none;border:0;outline:none;padding:0;}")},"./app/components/featureBadge.tsx":(e,t,s)=>{s.d(t,{Z:()=>x});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/react/index.js")),n=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),i=s("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),a=s("./app/components/badge.tsx"),l=s("./app/components/circleIndicator.tsx"),d=s("./app/components/tooltip.tsx"),c=s("./app/locale.tsx"),u=s("./app/styles/space.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m={alpha:(0,c.t)("This feature is internal and available for QA purposes"),beta:(0,c.t)("This feature is available for early adopters and may change"),new:(0,c.t)("This feature is new! Try it out and let us know what you think")},h={alpha:(0,c.t)("alpha"),beta:(0,c.t)("beta"),new:(0,c.t)("new")};function g(e){let{type:t,variant:s="badge",title:o,noTooltip:a,expiresAt:c,...u}=e;const g=(0,n.u)();return c&&c.valueOf()<Date.now()?(Math.random()<.01&&(0,i.$e)((e=>{e.setTag("title",o),e.setTag("type",t),e.setLevel("warning"),(0,i.Tb)(new Error("Expired Feature Badge"))})),null):(0,p.tZ)("div",{...u,children:(0,p.tZ)(d.Z,{title:o??m[t],disabled:a,position:"right",children:(0,p.BX)(r.Fragment,{children:["badge"===s&&(0,p.tZ)(f,{type:t,text:h[t]}),"indicator"===s&&(0,p.tZ)(l.Z,{color:g.badge[t].indicatorColor,size:8})]})})})}g.displayName="BaseFeatureBadge";const f=(0,o.Z)(a.Z,{target:"e1g6bd531"})("margin:0;padding:0 ",(0,u.Z)(.75),";line-height:",(0,u.Z)(2),";height:",(0,u.Z)(2),";font-weight:normal;font-size:",(e=>e.theme.fontSizeExtraSmall),";vertical-align:middle;"),x=(0,o.Z)(g,{target:"e1g6bd530"})("display:inline-flex;align-items:center;margin-left:",(e=>(0,u.Z)(e.space??.75)),";")},"./app/components/globalSelectionLink.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var o=s("../node_modules/react-router/es/index.js"),r=s("../node_modules/query-string/index.js"),n=s("./app/components/links/link.tsx"),i=s("./app/components/organizations/pageFilters/utils.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){const{location:t,to:s}=e,o=(0,i.GN)(t?.query),l=Object.keys(o).length>0,d="object"==typeof s&&s.query?{...o,...s.query}:o;if(t){const t=l?"string"==typeof s?{pathname:s,query:d}:{...s,query:d}:{},o=l?{...e,to:t}:{...e,to:s};return(0,a.tZ)(n.Z,{...o})}let c={};"object"==typeof s&&s.search&&(c=r.parse(s.search)),c={...c,...o},"object"==typeof s&&s.query&&(c={...c,...s.query});const u=r.stringify(c),p=("string"==typeof s?s:s.pathname)+(u?`?${u}`:"");return(0,a.tZ)("a",{...e,href:p})}l.displayName="GlobalSelectionLink";const d=(0,o.withRouter)(l)},"./app/components/hovercard.tsx":(e,t,s)=>{s.d(t,{h4:()=>f,iz:()=>b,uI:()=>h,uT:()=>x});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),n=s("../node_modules/react-dom/profiling.js"),i=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),a=s("../node_modules/@react-aria/utils/dist/module.js"),l=s("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),d=s("./app/components/overlay.tsx"),c=s("./app/styles/space.tsx"),u=s("./app/utils/useHoverOverlay.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{body:t,bodyClassName:s,className:o,tipBorderColor:n,tipColor:l,header:c,hoverOverlayState:{arrowData:u,arrowProps:m,overlayProps:h,placement:b,update:y}}=e;const Z=(0,i.u)(),j=function(e){let{update:t}=e;const s=(0,r.useRef)(null),o=(0,r.useCallback)((()=>{t?.()}),[t]);return(0,a.yU)({ref:s,onResize:o}),s}({update:y});return(0,p.tZ)(d.w,{zIndex:Z.zIndex.hovercard,...h,children:(0,p.BX)(g,{animated:!0,arrowProps:{...m,size:20,background:l,border:n},originPoint:u,placement:b,className:o,ref:j,children:[c?(0,p.tZ)(f,{children:c}):null,t?(0,p.tZ)(x,{className:s,children:t}):null]})})}function h(e){let{body:t,bodyClassName:s,children:o,className:i,containerClassName:a,header:d,offset:c=12,displayTimeout:h=100,tipBorderColor:g="translucentBorder",tipColor:f="backgroundElevated",...x}=e;const{wrapTrigger:b,isOpen:y,...Z}=(0,u._)("hovercard",{offset:c,displayTimeout:h,isHoverable:!0,className:a,...x});if(!t&&!d)return(0,p.tZ)(r.Fragment,{children:b(o)});const j=y&&(0,p.tZ)(m,{body:t,bodyClassName:s,className:i,tipBorderColor:g,tipColor:f,header:d,hoverOverlayState:Z});return(0,p.BX)(r.Fragment,{children:[b(o),(0,n.createPortal)((0,p.tZ)(l.M,{children:j}),document.body)]})}m.displayName="HovercardContent",h.displayName="Hovercard";const g=(0,o.Z)(d.a,{target:"e19qyv1k3"})("width:295px;line-height:1.2;h6{color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeExtraSmall),";margin-bottom:",(0,c.Z)(1),";text-transform:uppercase;}"),f=(0,o.Z)("div",{target:"e19qyv1k2"})("font-size:",(e=>e.theme.fontSizeMedium),";background:",(e=>e.theme.backgroundSecondary),";border-bottom:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadiusTop),";font-weight:600;word-wrap:break-word;padding:",(0,c.Z)(1.5),";"),x=(0,o.Z)("div",{target:"e19qyv1k1"})("padding:",(0,c.Z)(2),";min-height:30px;"),b=(0,o.Z)("div",{target:"e19qyv1k0"})("position:relative;margin-top:",(0,c.Z)(1.5),";margin-bottom:",(0,c.Z)(1),";&:before{display:block;position:absolute;content:'';height:1px;top:50%;left:",(0,c.Z)(2),";right:",(0,c.Z)(2),";background:",(e=>e.theme.innerBorder),";z-index:-1;}h6{display:inline;padding-right:",(0,c.Z)(1),";background:",(e=>e.theme.background),";}")},"./app/components/timeSince.tsx":(e,t,s)=>{s.d(t,{D:()=>y,Z:()=>b});var o=s("../node_modules/react/index.js"),r=s("../node_modules/lodash/isNumber.js"),n=s.n(r),i=s("../node_modules/lodash/isString.js"),a=s.n(i),l=s("../node_modules/moment-timezone/index.js"),d=s.n(l),c=s("./app/locale.tsx"),u=s("./app/stores/configStore.tsx"),p=s("./app/utils/formatters.tsx"),m=s("./app/utils/getDynamicText.tsx"),h=s("./app/components/tooltip.tsx"),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function f(e){return a()(e)||n()(e)?new Date(e):e}function x(e){let{date:t,suffix:s=(0,c.t)("ago"),disabledAbsoluteTooltip:r,tooltipShowSeconds:n,tooltipTitle:i,tooltipBody:a,tooltipUnderlineColor:l,shorten:p,extraShort:x,...b}=e;const Z=(0,o.useRef)(),j=(0,o.useCallback)((()=>y(t,s,p,x)),[t,s,p,x]),[w,v]=(0,o.useState)(j());(0,o.useEffect)((()=>(v(j()),Z.current=window.setTimeout((()=>v(j())),6e4),()=>window.clearTimeout(Z.current))),[j]);const S=f(t),C=u.Z.get("user"),P=C?C.options:null,_=n?"MMM D, YYYY h:mm:ss A z":"MMMM D, YYYY h:mm A z",z=P?.clock24Hours?"MMMM D, YYYY HH:mm z":_,k=(0,m.Z)({fixed:P?.clock24Hours?"November 3, 2020 08:57 UTC":"November 3, 2020 8:58 AM UTC",value:d().tz(S,P?.timezone??"").format(z)});return(0,g.tZ)(h.Z,{disabled:r,underlineColor:l,showUnderline:!0,title:(0,g.BX)(o.Fragment,{children:[i&&(0,g.tZ)("div",{children:i}),a??k]}),children:(0,g.tZ)("time",{dateTime:S?.toISOString(),...b,children:w})})}x.displayName="TimeSince";const b=x;function y(e,t,s,o){const r=f(e);return(s||o)&&t?(0,c.t)("%(time)s %(suffix)s",{time:(0,p.g9)(d()().diff(d()(r),"seconds"),0,s,o),suffix:t}):!s&&!o||t?t?"ago"===t?d()(r).fromNow():(0,c.t)("%(time)s %(suffix)s",{time:d()(r).fromNow(!0),suffix:t}):d()(r).fromNow(!0):(0,p.g9)(d()().diff(d()(r),"seconds"),0,s,o)}},"./app/utils/projects.tsx":(e,t,s)=>{s.d(t,{Z:()=>x});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/react/index.js"),n=s("../node_modules/lodash/memoize.js"),i=s.n(n),a=s("../node_modules/lodash/partition.js"),l=s.n(a),d=s("../node_modules/lodash/uniqBy.js"),c=s.n(d),u=s("./app/stores/projectsStore.tsx"),p=s("./app/utils.tsx"),m=s("./app/utils/parseLinkHeader.tsx"),h=s("./app/utils/withApi.tsx"),g=s("./app/utils/withProjects.tsx");class f extends r.Component{constructor(){var e;super(...arguments),e=this,(0,o.Z)(this,"state",{fetchedProjects:[],projectsFromStore:[],initiallyLoaded:!1,fetching:!1,isIncomplete:null,hasMore:null,prevSearch:null,nextCursor:null,fetchError:null}),(0,o.Z)(this,"fetchQueue",new Set),(0,o.Z)(this,"getProjectsMap",i()((e=>new Map(e.map((e=>[e.slug,e])))))),(0,o.Z)(this,"getProjectsIdMap",i()((e=>new Map(e.map((e=>[parseInt(e.id,10),e])))))),(0,o.Z)(this,"loadSpecificProjects",(()=>{const{slugs:e,projects:t}=this.props,s=this.getProjectsMap(t),[o,r]=l()(e,(e=>s.has(e))),n=o.map((e=>s.get(e))).filter(p.ri);r.forEach((e=>this.fetchQueue.add(e))),this.setState({fetchedProjects:r.map((e=>({slug:e}))),initiallyLoaded:!!o.length,projectsFromStore:n}),r.length&&this.fetchSpecificProjects()})),(0,o.Z)(this,"loadSpecificProjectsFromIds",(()=>{const{projectIds:e,projects:t}=this.props,s=this.getProjectsIdMap(t),[o,r]=l()(e,(e=>s.has(e)));if(r.length)return void this.loadAllProjects();const n=o.map((e=>s.get(e))).filter(p.ri);this.setState({initiallyLoaded:!!o.length,projectsFromStore:n})})),(0,o.Z)(this,"fetchSpecificProjects",(async()=>{const{api:e,orgId:t,passthroughPlaceholderProject:s}=this.props;if(!this.fetchQueue.size)return;this.setState({fetching:!0});let o=[],r=null;try{const{results:s}=await b(e,t,{slugs:Array.from(this.fetchQueue)});o=s}catch(e){console.error(e),r=e}const n=this.getProjectsMap(o),i=Array.from(this.fetchQueue).map((e=>n.has(e)?n.get(e):s?{slug:e}:null)).filter(p.ri);this.setState({fetchedProjects:i,isIncomplete:this.fetchQueue.size!==o.length,initiallyLoaded:!0,fetching:!1,fetchError:r}),this.fetchQueue.clear()})),(0,o.Z)(this,"loadAllProjects",(async()=>{const{api:e,orgId:t,limit:s,allProjects:o}=this.props;this.setState({fetching:!0});try{const{results:r,hasMore:n,nextCursor:i}=await b(e,t,{limit:s,allProjects:o});this.setState({fetching:!1,fetchedProjects:r,initiallyLoaded:!0,hasMore:n,nextCursor:i})}catch(e){console.error(e),this.setState({fetching:!1,fetchedProjects:[],initiallyLoaded:!0,fetchError:e})}})),(0,o.Z)(this,"handleSearch",(async function(t){let{append:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{api:o,orgId:r,limit:n}=e.props,{prevSearch:i}=e.state,a=e.state.nextCursor;e.setState({fetching:!0});try{const{results:l,hasMore:d,nextCursor:u}=await b(o,r,{search:t,limit:n,prevSearch:i,cursor:a});e.setState((e=>{let o;return o=s?c()([...e.fetchedProjects,...l],(e=>{let{slug:t}=e;return t})):l,{fetchedProjects:o,hasMore:d,fetching:!1,prevSearch:t,nextCursor:u}}))}catch(t){console.error(t),e.setState({fetching:!1,fetchError:t})}}))}componentDidMount(){const{slugs:e,projectIds:t}=this.props;e?.length?this.loadSpecificProjects():t?.length?this.loadSpecificProjectsFromIds():this.loadAllProjects()}componentDidUpdate(e){const{projects:t}=this.props;t!==e.projects&&this.updateProjectsFromStore()}updateProjectsFromStore(){const{allProjects:e,projects:t,slugs:s}=this.props;if(e)this.setState({fetchedProjects:t});else if(s?.length){const e=this.getProjectsMap(t),o=s.map((t=>e.get(t))).filter(p.ri);this.setState({projectsFromStore:o})}}render(){const{slugs:e,children:t}=this.props;return t({projects:this.state.initiallyLoaded?[...this.state.fetchedProjects,...this.state.projectsFromStore]:e&&e.map((e=>({slug:e})))||[],isIncomplete:this.state.isIncomplete,fetching:this.state.fetching,hasMore:this.state.hasMore,onSearch:this.handleSearch,initiallyLoaded:this.state.initiallyLoaded,fetchError:this.state.fetchError})}}f.displayName="BaseProjects",(0,o.Z)(f,"defaultProps",{passthroughPlaceholderProject:!0});const x=(0,g.Z)((0,h.Z)(f));async function b(e,t){let{slugs:s,search:o,limit:r,prevSearch:n,cursor:i,allProjects:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l={collapse:["latestDeploys"]};if(s&&s.length&&(l.query=s.map((e=>`slug:${e}`)).join(" ")),o&&(l.query=`${l.query?`${l.query} `:""}${o}`),(n||o)&&n!==o||!i||(l.cursor=i),r&&(l.per_page=r),a){const e=u.Z.getAll();if(!u.Z.isLoading())return{results:e,hasMore:!1};l.all_projects=1}let d=!1,c=null;const[p,,h]=await e.requestPromise(`/organizations/${t}/projects/`,{includeAllArgs:!0,query:l}),g=h?.getResponseHeader("Link");if(g){const e=(0,m.Z)(g);d=e&&(e.next.results||e.previous.results),c=e.next.cursor}return a&&u.Z.loadInitialData(p),{results:p,hasMore:d,nextCursor:c}}},"./app/utils/selectText.tsx":(e,t,s)=>{function o(e){if(e instanceof HTMLInputElement&&"text"===e.type)e.select();else if(e instanceof Node&&window.getSelection){const t=document.createRange();t.selectNode(e);const s=window.getSelection();s?.removeAllRanges(),s?.addRange(t)}}s.d(t,{e:()=>o})},"./app/utils/useApi.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var o=s("../node_modules/react/index.js"),r=s("./app/api.tsx");const n=function(){let{persistInFlight:e,api:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=(0,o.useRef)();void 0===s.current&&void 0===t&&(s.current=new r.KU);const n=t??s.current,i=(0,o.useCallback)((()=>{e||n.clear()}),[n,e]);return(0,o.useEffect)((()=>i),[i]),n}},"./app/utils/useEffectAfterFirstRender.ts":(e,t,s)=>{s.d(t,{K:()=>r});var o=s("../node_modules/react/index.js");const r=(e,t)=>{const s=(0,o.useRef)(!0);(0,o.useEffect)((()=>{s.current?s.current=!1:e()}),t)}},"./app/utils/useOrganization.tsx":(e,t,s)=>{s.d(t,{Z:()=>n}),s("../node_modules/core-js/modules/es.error.cause.js");var o=s("../node_modules/react/index.js"),r=s("./app/views/organizationContext.tsx");const n=function(){const e=(0,o.useContext)(r.g);if(!e)throw new Error("useOrganization called but organization is not set.");return e}},"./app/utils/useOverlay.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var o=s("../node_modules/react/index.js"),r=s("../node_modules/react-popper/lib/esm/usePopper.js"),n=s("../node_modules/@react-aria/button/dist/module.js"),i=s("../node_modules/@react-aria/overlays/dist/module.js"),a=s("../node_modules/@react-aria/utils/dist/module.js"),l=s("../node_modules/@react-stately/overlays/dist/module.js");const d=function(){let{isOpen:e,onClose:t,defaultOpen:s,onOpenChange:d,type:c="dialog",offset:u=8,position:p="top",isDismissable:m=!0,shouldCloseOnBlur:h=!1,isKeyboardDismissDisabled:g,shouldCloseOnInteractOutside:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[x,b]=(0,o.useState)(null),[y,Z]=(0,o.useState)(null),[j,w]=(0,o.useState)(null),v=(0,o.useMemo)((()=>({current:x})),[x]),S=(0,o.useMemo)((()=>({current:y})),[y]),C=(0,l.d)({isOpen:e,defaultOpen:s,onOpenChange:d}),{buttonProps:P}=(0,n.U)({onPress:C.open},v),{triggerProps:_,overlayProps:z}=(0,i.IB)({type:c},C,v),{overlayProps:k}=(0,i.Ir)({onClose:()=>{t?.(),C.close()},isOpen:C.isOpen,isDismissable:m,shouldCloseOnBlur:h,isKeyboardDismissDisabled:g,shouldCloseOnInteractOutside:f},S),M=(0,o.useMemo)((()=>[{name:"hide",enabled:!1},{name:"computeStyles",options:{gpuAcceleration:!1}},{name:"arrow",options:{element:j,padding:4}},{name:"offset",options:{offset:[0,u]}},{name:"preventOverflow",enabled:!0,options:{padding:16,altAxis:!0}}]),[j,u]),{styles:I,state:O}=(0,r.D)(x,y,{modifiers:M,placement:p});return{isOpen:C.isOpen,state:C,triggerRef:v,triggerProps:{ref:b,...(0,a.dG)(P,_)},overlayRef:S,overlayProps:{ref:Z,style:I.popper,...(0,a.dG)(z,k)},arrowProps:{ref:w,style:I.arrow,placement:O?.placement}}}},"./app/utils/useProjects.tsx":(e,t,s)=>{s.d(t,{Z:()=>p}),s("../node_modules/core-js/modules/es.array.includes.js");var o=s("../node_modules/react/index.js"),r=s("../node_modules/lodash/uniqBy.js"),n=s.n(r),i=s("./app/stores/organizationStore.tsx"),a=s("./app/stores/projectsStore.tsx"),l=s("./app/stores/useLegacyStore.tsx"),d=s("./app/utils/parseLinkHeader.tsx"),c=s("./app/utils/useApi.tsx");async function u(e,t){let{slugs:s,search:o,limit:r,lastSearch:n,cursor:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={collapse:["latestDeploys"]};void 0!==s&&s.length>0&&(a.query=s.map((e=>`slug:${e}`)).join(" ")),o&&(a.query=`${a.query??""}${o}`.trim());const l=!n&&!o||n===o;l&&i&&(a.cursor=i),void 0!==r&&(a.per_page=r);let c=!1,u=null;const[p,,m]=await e.requestPromise(`/organizations/${t}/projects/`,{includeAllArgs:!0,query:a}),h=m?.getResponseHeader("Link");if(h){const e=(0,d.Z)(h);c=e?.next?.results||e?.previous?.results,u=e?.next?.cursor}return{results:p,hasMore:c,nextCursor:u}}const p=function(){let{limit:e,slugs:t,orgId:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,c.Z)(),{organization:d}=(0,l.X)(i.Z),p=(0,l.X)(a.Z),m=s??d?.slug,h=new Set(p.projects.map((e=>e.slug))),g=t?.filter((e=>!h.has(e)))??[],f=g.length>0,[x,b]=(0,o.useState)({initiallyLoaded:!p.loading&&!f,fetching:f,hasMore:null,lastSearch:null,nextCursor:null,fetchError:null}),y=(0,o.useRef)(null);async function Z(){if(void 0!==m){b({...x,fetching:!0});try{const{results:t,hasMore:s,nextCursor:o}=await u(r,m,{slugs:g,limit:e}),i=n()([...p.projects,...t],(e=>{let{slug:t}=e;return t}));a.Z.loadInitialData(i),b({...x,hasMore:s,fetching:!1,initiallyLoaded:!0,nextCursor:o})}catch(e){console.error(e),b({...x,fetching:!1,initiallyLoaded:!p.loading,fetchError:e})}}else console.error("Cannot use useProjects({slugs}) without an organization in context")}async function j(t){const{lastSearch:s}=x,o=x.nextCursor;if(""!==t)if(void 0!==m){b({...x,fetching:!0});try{r.clear();const{results:i,hasMore:l,nextCursor:d}=await u(r,m,{search:t,limit:e,lastSearch:s,cursor:o}),c=n()([...p.projects,...i],(e=>{let{slug:t}=e;return t}));c.length>p.projects.length&&a.Z.loadInitialData(c),b({...x,hasMore:l,fetching:!1,lastSearch:t,nextCursor:d})}catch(e){console.error(e),b({...x,fetching:!1,fetchError:e})}}else console.error("Cannot use useProjects.onSearch without an organization in context")}void 0!==t&&(null===y.current&&(y.current=new Set(t)),(t.length!==y.current.size||t.some((e=>!y.current?.has(e))))&&(y.current=new Set(t))),(0,o.useEffect)((()=>{f&&Z()}),[y.current]),(0,o.useEffect)((()=>{const e=!p.loading;x.initiallyLoaded!==e&&(f||b({...x,initiallyLoaded:e}))}),[p.loading]);const{initiallyLoaded:w,fetching:v,fetchError:S,hasMore:C}=x,P=t?p.projects.filter((e=>t.includes(e.slug))):p.projects,_=g.map((e=>({slug:e}))),z={projects:P,placeholders:_,fetching:v||p.loading,initiallyLoaded:w,fetchError:S,hasMore:C,onSearch:j};return z}},"./app/utils/withApi.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var o=s("./app/utils/getDisplayName.tsx"),r=s("./app/utils/useApi.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=s=>{let{api:o,...i}=s;const a=(0,r.Z)({api:o,...t});return(0,n.tZ)(e,{...i,api:a})};return s.displayName=`withApi(${(0,o.Z)(e)})`,s}},"./app/utils/withProjects.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var o=s("./app/utils/getDisplayName.tsx"),r=s("./app/utils/useProjects.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=function(e){const t=t=>{const{projects:s,initiallyLoaded:o}=(0,r.Z)(),i=!o;return(0,n.tZ)(e,{...t,projects:s,loadingProjects:i})};return t.displayName=`withProjects(${(0,o.Z)(e)})`,t}},"./app/views/organizationContext.tsx":(e,t,s)=>{s.d(t,{g:()=>o});const o=(0,s("../node_modules/react/index.js").createContext)(null)}}]);
//# sourceMappingURL=../sourcemaps/app_components_assistant_guideAnchor_tsx-app_components_clipboard_tsx-app_components_compactS-163782.7e3cf769c729f89929780d21100ab80c.js.map