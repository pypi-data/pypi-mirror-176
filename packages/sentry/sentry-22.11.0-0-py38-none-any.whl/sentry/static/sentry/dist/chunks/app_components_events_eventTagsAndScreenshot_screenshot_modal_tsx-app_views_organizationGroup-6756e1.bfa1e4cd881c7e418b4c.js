"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_eventTagsAndScreenshot_screenshot_modal_tsx-app_views_organizationGroup-6756e1"],{"./app/components/acl/role.tsx":(e,t,n)=>{n.d(t,{u:()=>i}),n("../node_modules/core-js/modules/es.array.includes.js");var s=n("../node_modules/react/index.js"),a=n("./app/stores/configStore.tsx"),o=n("./app/utils/isActiveSuperuser.tsx"),r=n("./app/utils/isRenderFunc.tsx");const i=(0,n("./app/utils/withOrganization.tsx").Z)((function(e){let{role:t,organization:n,children:i}=e;const c=a.Z.get("user"),l=(0,s.useMemo)((()=>function(e,t,n){if(!e)return!1;if((0,o.M)())return!0;if(!Array.isArray(t.orgRoleList))return!1;const s=t.orgRoleList.map((e=>e.id));if(!s.includes(n)||!s.includes(t.role??""))return!1;const a=s.indexOf(n);return s.indexOf(t.role??"")>=a}(c,n,t)),[n,t,c]);return(0,r.l)(i)?i({hasRole:l}):l?i:null}))},"./app/components/actions/menuItemActionLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("./app/components/actions/actionLink.tsx"),o=n("./app/components/menuItem.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{className:t,...n}=e;return(0,r.tZ)(o.Z,{noAnchor:!0,withBorder:!0,disabled:n.disabled,className:t,children:(0,r.tZ)(c,{...n})})}i.displayName="MenuItemActionLink";const c=(0,s.Z)(a.Z,{target:"e18s0uh10"})("color:",(e=>e.theme.textColor),";",(e=>e.theme.overflowEllipsis)," &:hover{color:",(e=>e.theme.textColor),";}.dropdown-menu>li>&,.dropdown-menu>span>li>&{&.disabled:hover{background:",(e=>e.theme.background),";}}"),l=i},"./app/components/attachmentUrl.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var s=n("../node_modules/react/index.js"),a=n("./app/components/acl/role.tsx"),o=n("./app/utils/withOrganization.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{attachment:t,organization:n,eventId:s,projectId:o,children:i}=e;return(0,r.tZ)(a.u,{role:n.attachmentsRole,children:e=>{let{hasRole:a}=e;return i(a?`/api/0/projects/${n.slug}/${o}/events/${s}/attachments/${t.id}/`:null)}})}i.displayName="AttachmentUrl";const c=(0,o.Z)((0,s.memo)(i))},"./app/components/dropdownLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>p});var s=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),a=n("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),o=n("../node_modules/classnames/index.js"),r=n.n(o),i=n("./app/components/deprecatedDropdownMenu.tsx"),c=n("./app/icons/index.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=e=>(0,s.iv)(".dropdown-menu{&>li>a{color:",e.textColor,";&:hover,&:focus{color:inherit;background-color:",e.hover,";}}& .disabled{cursor:not-allowed;&:hover{background:inherit;color:inherit;}}}.dropdown-submenu:hover>span{color:",e.textColor,";background:",e.hover,";}","");function u(e){let{anchorMiddle:t,title:n,customTitle:s,children:o,menuClasses:u,className:p,topLevelClasses:m,anchorRight:h=!1,disabled:x=!1,caret:v=!0,alwaysRenderMenu:E=!0,..._}=e;const g=(0,a.u)();return(0,l.tZ)(i.Z,{alwaysRenderMenu:E,..._,children:e=>{let{isOpen:a,getRootProps:i,getActorProps:_,getMenuProps:Z}=e;const y=E||a,b=r()("dropdown-actor",p,{"dropdown-menu-right":h,"dropdown-toggle":!0,hover:a,disabled:x}),I=r()("dropdown",m,{"pull-right":h,"anchor-right":h,"anchor-middle":t,open:a}),{onClick:N,...j}=_({className:b});return(0,l.BX)("span",{css:d(g),...i({className:I}),"data-test-id":"dropdown-link",children:[(0,l.tZ)("a",{onClick:x?void 0:N,...j,children:s||(0,l.BX)("div",{className:"dropdown-actor-title",children:[n,v&&(0,l.tZ)(c.g6,{direction:a?"up":"down",size:"xs"})]})}),y&&(0,l.tZ)("ul",{...Z({className:r()(u,"dropdown-menu")}),children:o})]})}})}u.displayName="DropdownLink";const p=u},"./app/components/events/attachmentViewers/imageViewer.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("./app/components/events/attachmentViewers/utils.tsx"),o=n("./app/components/panels/index.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{className:t,onLoad:n,onError:s,...o}=e;return(0,r.tZ)(l,{className:t,children:(0,r.tZ)("img",{"data-test-id":"image-viewer",src:(0,a.P)(o,!0),onLoad:n,onError:s})})}i.displayName="ImageViewer";const c=i,l=(0,s.Z)(o.Lv,{target:"e1bs8vy90"})({name:"f7ay7b",styles:"justify-content:center"})},"./app/components/events/attachmentViewers/utils.tsx":(e,t,n)=>{function s(e,t){const{orgId:n,projectId:s,eventId:a,attachment:o}=e;return`${t?"/api/0":""}/projects/${n}/${s}/events/${a}/attachments/${o.id}/?download`}n.d(t,{P:()=>s})},"./app/components/events/contexts/app/index.tsx":(e,t,n)=>{n.d(t,{M:()=>u});var s=n("../node_modules/react/index.js"),a=n("./app/components/events/contexts/contextBlock.tsx"),o=n("./app/components/events/contexts/utils.tsx"),r=n("./app/locale.tsx");let i;!function(e){e.ID="app_id",e.START_TIME="app_start_time",e.DEVICE_HASH="device_app_hash",e.TYPE="build_type",e.IDENTIFIER="app_identifier",e.NAME="app_name",e.VERSION="app_version",e.BUILD="app_build"}(i||(i={}));var c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=[i.ID,i.START_TIME,i.DEVICE_HASH,i.IDENTIFIER,i.NAME,i.VERSION,i.BUILD],d=[];function u(e){let{data:t,event:n}=e;const u=n._meta?.contexts?.app??{};return(0,c.BX)(s.Fragment,{children:[(0,c.tZ)(a.Z,{data:(0,o.y4)({data:t,meta:u,knownDataTypes:l,onGetKnownDataDetails:e=>function(e){let{data:t,event:n,type:s}=e;switch(s){case i.ID:return{subject:(0,r.t)("ID"),value:t.app_id};case i.START_TIME:return{subject:(0,r.t)("Start Time"),value:(0,o.bS)(n.dateCreated?n.dateCreated:n.dateReceived,t.app_start_time)};case i.DEVICE_HASH:return{subject:(0,r.t)("Device"),value:t.device_app_hash};case i.TYPE:return{subject:(0,r.t)("Build Type"),value:t.build_type};case i.IDENTIFIER:return{subject:(0,r.t)("Build ID"),value:t.app_identifier};case i.NAME:return{subject:(0,r.t)("Build Name"),value:t.app_name};case i.VERSION:return{subject:(0,r.t)("Version"),value:t.app_version};case i.BUILD:return{subject:(0,r.t)("App Build"),value:t.app_build};default:return}}({...e,event:n})})}),(0,c.tZ)(a.Z,{data:(0,o.lp)({allData:t,knownKeys:[...l,...d],meta:u})})]})}u.displayName="AppEventContext"},"./app/components/events/contexts/browser/index.tsx":(e,t,n)=>{n.d(t,{Y:()=>d});var s=n("../node_modules/react/index.js"),a=n("./app/components/events/contexts/contextBlock.tsx"),o=n("./app/components/events/contexts/utils.tsx"),r=n("./app/locale.tsx");let i;!function(e){e.NAME="name",e.VERSION="version"}(i||(i={}));var c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=[i.NAME,i.VERSION];function d(e){let{data:t,event:n}=e;const d=n._meta?.contexts?.browser??{};return(0,c.BX)(s.Fragment,{children:[(0,c.tZ)(a.Z,{data:(0,o.y4)({data:t,meta:d,knownDataTypes:l,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case i.NAME:return{subject:(0,r.t)("Name"),value:t.name};case i.VERSION:return{subject:(0,r.t)("Version"),value:`${t.version}`};default:return}}(e)})}),(0,c.tZ)(a.Z,{data:(0,o.lp)({allData:t,knownKeys:[...l],meta:d})})]})}d.displayName="BrowserEventContext"},"./app/components/events/contexts/contextBlock.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var s=n("./app/components/errorBoundary.tsx"),a=n("./app/components/events/interfaces/keyValueList/index.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=e=>{let{data:t,raw:n=!1}=e;return 0===t.length?null:(0,o.tZ)(s.Z,{mini:!0,children:(0,o.tZ)(a.Z,{data:t,raw:n,isContextData:!0})})};r.displayName="ContextBlock";const i=r},"./app/components/events/contexts/default.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var s=n("./app/components/events/contexts/contextBlock.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){return Object.entries(e).filter((e=>{let[t]=e;return"type"!==t&&"title"!==t})).map((e=>{let[t,n]=e;return{key:t,subject:t,value:n}}))}const r=e=>{let{data:t}=e;return(0,a.tZ)(s.Z,{data:o(t)})};r.displayName="DefaultContextType";const i=r},"./app/components/events/contexts/device/index.tsx":(e,t,n)=>{n.d(t,{q:()=>E});var s=n("../node_modules/react/index.js"),a=n("./app/components/events/contexts/contextBlock.tsx"),o=n("./app/components/events/contexts/utils.tsx"),r=n("./app/components/deviceName.tsx"),i=n("./app/components/fileSize.tsx"),c=n("./app/locale.tsx"),l=n("./app/utils.tsx");let d;function u(e,t,n){if(!Number.isInteger(e)||e<=0||!Number.isInteger(t)||t<=0)return null;let s=`Total: ${(0,l.F)(e)} / Free: ${(0,l.F)(t)}`;return Number.isInteger(n)&&n>0&&(s=`${s} / Usable: ${(0,l.F)(n)}`),s}function p(e,t,n,s){if(!Number.isInteger(e)||e<=0)return null;let a=`Total: ${(0,l.F)(e)}`;return Number.isInteger(t)&&t>0&&(a=`${a} / Free: ${(0,l.F)(t)}`),Number.isInteger(n)&&n>0&&Number.isInteger(s)&&s>0&&(a=`${a} (External Total: ${(0,l.F)(n)} / Free: ${(0,l.F)(s)})`),a}!function(e){e.ARCH="arch",e.ARCHS="archs",e.BATTERY_LEVEL="battery_level",e.BATTERY_STATUS="battery_status",e.BRAND="brand",e.BOOT_TIME="boot_time",e.CONNECTION_TYPE="connection_type",e.CHARGING="charging",e.CPU_DESCRIPTION="cpu_description",e.DEVICE_TYPE="device_type",e.EXTERNAL_STORAGE_SIZE="external_storage_size",e.EXTERNAL_FREE_STORAGE="external_free_storage",e.FAMILY="family",e.FREE_STORAGE="free_storage",e.FREE_MEMORY="free_memory",e.ID="id",e.LANGUAGE="language",e.LOW_MEMORY="low_memory",e.MANUFACTURER="manufacturer",e.MODEL="model",e.MODEL_ID="model_id",e.MEMORY="memory",e.MEMORY_SIZE="memory_size",e.NAME="name",e.ONLINE="online",e.ORIENTATION="orientation",e.RENDERED_MODEL="renderedModel",e.SIMULATOR="simulator",e.SCREEN_DENSITY="screen_density",e.SCREEN_DPI="screen_dpi",e.SCREEN_HEIGHT_PIXELS="screen_height_pixels",e.SCREEN_RESOLUTION="screen_resolution",e.SCREEN_WIDTH_PIXELS="screen_width_pixels",e.STORAGE_SIZE="storage_size",e.STORAGE="storage",e.TIMEZONE="timezone",e.USABLE_MEMORY="usable_memory"}(d||(d={}));const m={"640x360":"nHD","800x600":"SVGA","1024x768":"XGA","1280x720":"WXGA","1280x800":"WXGA","1280x1024":"SXGA","1360x768":"HD","1366x768":"HD","1440x900":"WXGA+","1536x864":"NA","1600x900":"HD+","1680x1050":"WSXGA+","1920x1080":"FHD","1920x1200":"WUXGA","2048x1152":"QWXGA","2560x1080":"N/A","2560x1440":"QHD","3440x1440":"N/A","3840x2160":"4K UHD"};var h=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=[d.NAME,d.FAMILY,d.CPU_DESCRIPTION,d.ARCH,d.BATTERY_LEVEL,d.BATTERY_STATUS,d.ORIENTATION,d.MEMORY,d.MEMORY_SIZE,d.FREE_MEMORY,d.USABLE_MEMORY,d.LOW_MEMORY,d.STORAGE_SIZE,d.EXTERNAL_STORAGE_SIZE,d.EXTERNAL_FREE_STORAGE,d.STORAGE,d.FREE_STORAGE,d.SIMULATOR,d.BOOT_TIME,d.TIMEZONE,d.DEVICE_TYPE,d.ARCHS,d.BRAND,d.CHARGING,d.CONNECTION_TYPE,d.ID,d.LANGUAGE,d.MANUFACTURER,d.ONLINE,d.SCREEN_DENSITY,d.SCREEN_DPI,d.SCREEN_RESOLUTION,d.SCREEN_HEIGHT_PIXELS,d.SCREEN_WIDTH_PIXELS,d.MODEL,d.MODEL_ID,d.RENDERED_MODEL],v=[];function E(e){let{data:t,event:n}=e;const E=function(e){const t=e[d.SCREEN_RESOLUTION],n=e[d.SCREEN_WIDTH_PIXELS],s=e[d.SCREEN_HEIGHT_PIXELS];if(t){const a=m[t],o={...e,[d.SCREEN_RESOLUTION]:a?`${t} (${a})`:t};if(!(0,l.ri)(n)&&!(0,l.ri)(s)){const[e,n]=t.split("x");if(e&&n)return{...o,[d.SCREEN_WIDTH_PIXELS]:Number(e),[d.SCREEN_HEIGHT_PIXELS]:Number(n)}}return o}if((0,l.ri)(n)&&(0,l.ri)(s)){const t=`${n}x${s}`,a=m[t];return{...e,[d.SCREEN_RESOLUTION]:a?`${t} (${a})`:t}}return e}(t),_=n._meta?.contexts?.device??{};return(0,h.BX)(s.Fragment,{children:[(0,h.tZ)(a.Z,{data:(0,o.y4)({data:E,meta:_,knownDataTypes:x,onGetKnownDataDetails:e=>function(e){let{data:t,event:n,type:s}=e;switch(s){case d.NAME:return{subject:(0,c.t)("Name"),value:t.name};case d.FAMILY:return{subject:(0,c.t)("Family"),value:t.family};case d.MODEL_ID:return{subject:(0,c.t)("Model Id"),value:t.model_id};case d.MODEL:return{subject:(0,c.t)("Model"),value:"string"==typeof t.model?(0,h.tZ)(r.H,{value:`${t.model} ${t?.model_id?`(${t.model_id})`:""}`}):void 0};case d.RENDERED_MODEL:return{subject:(0,c.t)("Rendered Model"),value:t.renderedModel};case d.CPU_DESCRIPTION:return{subject:(0,c.t)("CPU Description"),value:t.cpu_description};case d.ARCH:return{subject:(0,c.t)("Architecture"),value:t.arch};case d.BATTERY_LEVEL:return{subject:(0,c.t)("Battery Level"),value:(0,l.ri)(t.battery_level)?`${t.battery_level}%`:void 0};case d.BATTERY_STATUS:return{subject:(0,c.t)("Battery Status"),value:t.battery_status};case d.ORIENTATION:return{subject:(0,c.t)("Orientation"),value:t.orientation};case d.MEMORY:const{memory_size:e,free_memory:s,usable_memory:a}=t;return{subject:(0,c.t)("Memory"),value:e&&s&&a?u(e,s,a):void 0};case d.STORAGE:const{storage_size:m,free_storage:x,external_storage_size:v,external_free_storage:E}=t;return{subject:(0,c.t)("Capacity"),value:m&&x&&v&&E?p(m,x,v,E):void 0};case d.FREE_STORAGE:return{subject:(0,c.t)("Free Storage"),value:t.free_storage?(0,h.tZ)(i.Z,{bytes:t.free_storage}):void 0};case d.STORAGE_SIZE:return{subject:(0,c.t)("Storage Size"),value:t.storage_size?(0,h.tZ)(i.Z,{bytes:t.storage_size}):void 0};case d.EXTERNAL_STORAGE_SIZE:return{subject:(0,c.t)("External Storage Size"),value:t.external_storage_size?(0,h.tZ)(i.Z,{bytes:t.external_storage_size}):void 0};case d.EXTERNAL_FREE_STORAGE:return{subject:(0,c.t)("External Free Storage"),value:t.external_free_storage?(0,h.tZ)(i.Z,{bytes:t.external_free_storage}):void 0};case d.SIMULATOR:return{subject:(0,c.t)("Simulator"),value:t.simulator};case d.BOOT_TIME:return{subject:(0,c.t)("Boot Time"),value:(0,o.bS)(n.dateCreated?n.dateCreated:n.dateReceived,t.boot_time)};case d.TIMEZONE:return{subject:(0,c.t)("Timezone"),value:t.timezone};case d.DEVICE_TYPE:return{subject:(0,c.t)("Device Type"),value:t.device_type};case d.ARCHS:return{subject:(0,c.t)("Architectures"),value:t.archs};case d.BRAND:return{subject:(0,c.t)("Brand"),value:t.brand};case d.CHARGING:return{subject:(0,c.t)("Charging"),value:t.charging};case d.CONNECTION_TYPE:return{subject:(0,c.t)("Connection Type"),value:t.connection_type};case d.ID:return{subject:(0,c.t)("Id"),value:t.id};case d.LANGUAGE:return{subject:(0,c.t)("Language"),value:(0,l.ri)(t.language)?(0,o.Hs)(t.language):void 0};case d.LOW_MEMORY:return{subject:(0,c.t)("Low Memory"),value:t.low_memory};case d.FREE_MEMORY:return{subject:(0,c.t)("Free Memory"),value:t.free_memory?(0,h.tZ)(i.Z,{bytes:t.free_memory}):void 0};case d.MEMORY_SIZE:return{subject:(0,c.t)("Memory Size"),value:t.memory_size?(0,h.tZ)(i.Z,{bytes:t.memory_size}):void 0};case d.USABLE_MEMORY:return{subject:(0,c.t)("Usable Memory"),value:t.usable_memory?(0,h.tZ)(i.Z,{bytes:t.usable_memory}):void 0};case d.MANUFACTURER:return{subject:(0,c.t)("Manufacturer"),value:t.manufacturer};case d.ONLINE:return{subject:(0,c.t)("Online"),value:t.online};case d.SCREEN_DENSITY:return{subject:(0,c.t)("Screen Density"),value:t.screen_density};case d.SCREEN_DPI:return{subject:(0,c.t)("Screen DPI"),value:t.screen_dpi};case d.SCREEN_HEIGHT_PIXELS:return{subject:(0,c.t)("Screen Height Pixels"),value:t.screen_height_pixels};case d.SCREEN_RESOLUTION:return{subject:(0,c.t)("Screen Resolution"),value:t.screen_resolution};case d.SCREEN_WIDTH_PIXELS:return{subject:(0,c.t)("Screen Width Pixels"),value:t.screen_width_pixels};default:return}}({...e,event:n})}).map((e=>({...e,subjectDataTestId:`device-context-${e.key.toLowerCase()}-value`})))}),(0,h.tZ)(a.Z,{data:(0,o.lp)({allData:E,knownKeys:[...x,...v],meta:_})})]})}E.displayName="DeviceEventContext"},"./app/components/events/contexts/gpu/index.tsx":(e,t,n)=>{n.d(t,{d:()=>p});var s=n("../node_modules/react/index.js"),a=n("./app/components/events/contexts/contextBlock.tsx"),o=n("./app/components/events/contexts/utils.tsx"),r=n("./app/locale.tsx"),i=n("./app/utils.tsx");let c;!function(e){e.ID="id",e.NAME="name",e.VERSION="version",e.VENDOR_NAME="vendor_name",e.VENDOR_ID="vendor_id",e.MEMORY="memory",e.NPOT_SUPPORT="npot_support",e.MULTI_THREAD_RENDERING="multi_threaded_rendering",e.API_TYPE="api_type"}(c||(c={}));var l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=[c.NAME,c.VERSION,c.VENDOR_NAME,c.MEMORY,c.NPOT_SUPPORT,c.MULTI_THREAD_RENDERING,c.API_TYPE],u=[];function p(e){let{event:t,data:n}=e;const p=t._meta?.contexts?.gpu??{},m=[...d];return n.vendor_id>0&&m.unshift(c.VENDOR_ID),n.id>0&&m.unshift(c.ID),(0,l.BX)(s.Fragment,{children:[(0,l.tZ)(a.Z,{data:(0,o.y4)({data:n,meta:p,knownDataTypes:m,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case c.NAME:return{subject:(0,r.t)("Name"),value:t.name};case c.VERSION:return{subject:(0,r.t)("Version"),value:t.version};case c.MEMORY:return{subject:(0,r.t)("Memory"),value:t.memory_size?(s=t.memory_size,!Number.isInteger(s)||s<=0?null:(0,i.F)(1048576*s)):void 0};case c.NPOT_SUPPORT:return{subject:(0,r.t)("NPOT Support"),value:t.npot_support};case c.VENDOR_NAME:return{subject:(0,r.t)("Vendor Name"),value:t.vendor_name};case c.MULTI_THREAD_RENDERING:return{subject:(0,r.t)("Multi-Thread rendering"),value:t.multi_threaded_rendering};case c.API_TYPE:return{subject:(0,r.t)("API Type"),value:t.api_type};case c.VENDOR_ID:return{subject:(0,r.t)("Vendor ID"),value:t.vendor_id};case c.ID:return{subject:(0,r.t)("GPU ID"),value:t.id};default:return}var s}(e)})}),(0,l.tZ)(a.Z,{data:(0,o.lp)({allData:n,knownKeys:[...m,...u],meta:p})})]})}p.displayName="GPUEventContext"},"./app/components/events/contexts/operatingSystem/index.tsx":(e,t,n)=>{n.d(t,{J:()=>m});var s=n("../node_modules/react/index.js"),a=n("./app/components/events/contexts/contextBlock.tsx"),o=n("./app/components/events/contexts/utils.tsx"),r=n("./app/locale.tsx"),i=n("./app/utils.tsx");let c,l;!function(e){e.NAME="name",e.VERSION="version",e.KERNEL_VERSION="kernel_version",e.ROOTED="rooted"}(c||(c={})),function(e){e.BUILD="build"}(l||(l={}));var d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=[c.NAME,c.VERSION,c.KERNEL_VERSION,c.ROOTED],p=[l.BUILD];function m(e){let{data:t,event:n}=e;const l=n._meta?.contexts?.os??{};return(0,d.BX)(s.Fragment,{children:[(0,d.tZ)(a.Z,{data:(0,o.y4)({data:t,meta:l,knownDataTypes:u,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case c.NAME:return{subject:(0,r.t)("Name"),value:t.name};case c.VERSION:return{subject:(0,r.t)("Version"),value:`${t.version}${t.build?`(${t.build})`:""}`};case c.KERNEL_VERSION:return{subject:(0,r.t)("Kernel Version"),value:t.kernel_version};case c.ROOTED:return{subject:(0,r.t)("Rooted"),value:(0,i.ri)(t.rooted)?t.rooted?(0,r.t)("yes"):(0,r.t)("no"):null};default:return}}(e)})}),(0,d.tZ)(a.Z,{data:(0,o.lp)({allData:t,knownKeys:[...u,...p],meta:l})})]})}m.displayName="OperatingSystemEventContext"},"./app/components/events/contexts/redux.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var s=n("../node_modules/react/index.js"),a=n("./app/components/clippedBox.tsx"),o=n("./app/components/events/contexts/contextBlock.tsx"),r=n("./app/locale.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends s.Component{getKnownData(){return[{key:"value",subject:(0,r.t)("Latest State"),value:this.props.data}]}render(){return(0,i.tZ)(a.Z,{clipHeight:250,children:(0,i.tZ)(o.Z,{data:this.getKnownData()})})}}c.displayName="ReduxContextType";const l=c},"./app/components/events/contexts/runtime/index.tsx":(e,t,n)=>{n.d(t,{o:()=>p});var s=n("../node_modules/react/index.js"),a=n("./app/components/events/contexts/contextBlock.tsx"),o=n("./app/components/events/contexts/utils.tsx"),r=n("./app/locale.tsx");let i,c;!function(e){e.NAME="name",e.VERSION="version"}(i||(i={})),function(e){e.BUILD="build"}(c||(c={}));var l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=[i.NAME,i.VERSION],u=[c.BUILD];function p(e){let{data:t,event:n}=e;const c=n._meta?.contexts?.runtime??{};return(0,l.BX)(s.Fragment,{children:[(0,l.tZ)(a.Z,{data:(0,o.y4)({data:t,meta:c,knownDataTypes:d,onGetKnownDataDetails:e=>function(e){let{type:t,data:n}=e;switch(t){case i.NAME:return{subject:(0,r.t)("Name"),value:n.name};case i.VERSION:return{subject:(0,r.t)("Version"),value:`${n.version}${n.build?`(${n.build})`:""}`};default:return}}(e)})}),(0,l.tZ)(a.Z,{data:(0,o.lp)({allData:t,knownKeys:[...d,...u],meta:c})})]})}p.displayName="RuntimeEventContext"},"./app/components/events/contexts/state.tsx":(e,t,n)=>{n.d(t,{s:()=>l}),n("../node_modules/core-js/modules/es.array.includes.js");var s=n("../node_modules/lodash/upperFirst.js"),a=n.n(s),o=n("./app/components/clippedBox.tsx"),r=n("./app/components/events/contexts/contextBlock.tsx"),i=n("./app/locale.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{data:t,event:n}=e;const s=n._meta?.contexts?.state??{};function l(e,t){return`${e}${t?` (${a()(t)})`:""}`}return(0,c.BX)(o.Z,{clipHeight:250,children:[(0,c.tZ)(r.Z,{data:t.state?[{key:"state",subject:l((0,i.t)("State"),t.state.type),value:t.state.value,meta:s.state?.value?.[""]}]:[]}),(0,c.tZ)(r.Z,{data:Object.entries(t).filter((e=>{let[t]=e;return!["type","title","state"].includes(t)})).map((e=>{let[t,n]=e;return{key:t,value:n.value,subject:l(t,n.type),meta:s[t]?.value?.[""]}}))})]})}l.displayName="StateEventContext"},"./app/components/events/contexts/trace/index.tsx":(e,t,n)=>{n.d(t,{y:()=>x});var s=n("./app/components/errorBoundary.tsx"),a=n("./app/components/events/interfaces/keyValueList/index.tsx"),o=n("./app/utils/useOrganization.tsx"),r=n("./app/components/events/contexts/utils.tsx"),i=(n("../node_modules/core-js/modules/es.array.includes.js"),n("./app/components/button.tsx")),c=n("./app/components/quickTrace/utils.tsx"),l=n("./app/locale.tsx"),d=n("./app/views/performance/transactionSummary/utils.tsx");let u;!function(e){e.TRACE_ID="trace_id",e.SPAN_ID="span_id",e.PARENT_SPAN_ID="parent_span_id",e.OP_NAME="op",e.STATUS="status",e.TRANSACTION_NAME="transaction_name"}(u||(u={}));var p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=[u.STATUS,u.TRACE_ID,u.SPAN_ID,u.PARENT_SPAN_ID,u.TRANSACTION_NAME,u.OP_NAME],h=[];function x(e){let{event:t,data:n}=e;const x=(0,o.Z)(),v=t._meta?.contexts?.trace??{};return(0,p.BX)(s.Z,{mini:!0,children:[(0,p.tZ)(a.Z,{data:(0,r.y4)({data:n,meta:v,knownDataTypes:m,onGetKnownDataDetails:e=>function(e){let{data:t,event:n,organization:s,type:a}=e;switch(a){case u.TRACE_ID:{const e=t.trace_id||"";if(!e)return;return s.features.includes("discover-basic")?{subject:(0,l.t)("Trace ID"),value:e,actionButton:(0,p.tZ)(i.ZP,{size:"xs",to:(0,c.aV)(n,s),children:(0,l.t)("Search by Trace")})}:{subject:(0,l.t)("Trace ID"),value:e}}case u.SPAN_ID:return{subject:(0,l.t)("Span ID"),value:t.span_id||""};case u.PARENT_SPAN_ID:return{subject:(0,l.t)("Parent Span ID"),value:t.parent_span_id||""};case u.OP_NAME:return{subject:(0,l.t)("Operation Name"),value:t.op||""};case u.STATUS:return{subject:(0,l.t)("Status"),value:t.status||""};case u.TRANSACTION_NAME:{const e=n?.tags.find((e=>"transaction"===e.key));if(!e||"string"!=typeof e.value)return;const t=e.value,a=(0,d.e1)({orgSlug:s.slug,transaction:t,projectID:n.projectID,query:{}});return s.features.includes("performance-view")?{subject:(0,l.t)("Transaction"),value:t,actionButton:(0,p.tZ)(i.ZP,{size:"xs",to:a,children:(0,l.t)("View Summary")})}:{subject:(0,l.t)("Transaction"),value:t}}default:return}}({...e,organization:x,event:t})}).map((e=>({...e,subjectDataTestId:`trace-context-${e.key.toLowerCase()}-value`}))),isSorted:!1,raw:!1,isContextData:!0}),(0,p.tZ)(a.Z,{data:(0,r.lp)({allData:n,knownKeys:[...m,...h],meta:v}),isSorted:!1,raw:!1,isContextData:!0})]})}x.displayName="TraceEventContext"},"./app/components/events/contexts/user/index.tsx":(e,t,n)=>{n.d(t,{TD:()=>y,l:()=>E});var s=n("./app/components/avatar/userAvatar.tsx"),a=n("./app/components/errorBoundary.tsx"),o=n("./app/components/events/contexts/contextBlock.tsx"),r=n("./app/components/events/interfaces/keyValueList/index.tsx"),i=n("./app/components/events/interfaces/utils.tsx"),c=n("./app/utils.tsx"),l=n("./app/components/events/contexts/utils.tsx"),d=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),u=n("./app/components/links/externalLink.tsx"),p=n("./app/icons/index.tsx"),m=n("./app/locale.tsx"),h=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=/[^@]+@[^\.]+\..+/,v=(0,d.Z)(p.h,{target:"e1hw43d30"})({name:"1989ovb",styles:"vertical-align:middle"});let E,_;!function(e){e.ID="id",e.EMAIL="email",e.USERNAME="username",e.IP_ADDRESS="ip_address",e.NAME="name"}(E||(E={})),function(e){e.DATA="data"}(_||(_={}));const g=[E.ID,E.EMAIL,E.USERNAME,E.IP_ADDRESS,E.NAME],Z=[_.DATA];function y(e){let{data:t,event:n}=e;const d=n._meta?.user??n._meta?.contexts?.user??{};return(0,h.BX)("div",{className:"user-widget",children:[(0,h.tZ)("div",{className:"pull-left",children:(0,h.tZ)(s.Z,{user:(0,i.HW)(t),size:48,gravatar:!1})}),(0,h.tZ)(o.Z,{data:(0,l.y4)({data:t,meta:d,knownDataTypes:g,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case E.NAME:return{subject:(0,m.t)("Name"),value:t.name};case E.USERNAME:return{subject:(0,m.t)("Username"),value:t.username};case E.ID:return{subject:(0,m.t)("ID"),value:t.id};case E.IP_ADDRESS:return{subject:(0,m.t)("IP Address"),value:t.ip_address};case E.EMAIL:return{subject:(0,m.t)("Email"),value:t.email,subjectIcon:(0,c.ri)(t.email)&&x.test(t.email)&&(0,h.tZ)(u.Z,{href:`mailto:${t.email}`,className:"external-icon",children:(0,h.tZ)(v,{size:"xs"})})};default:return}}(e)}).map((e=>({...e,subjectDataTestId:`user-context-${e.key.toLowerCase()}-value`})))}),(0,h.tZ)(o.Z,{data:(0,l.lp)({allData:t,knownKeys:[...g,...Z],meta:d})}),(0,c.ri)(t?.data)&&(0,h.tZ)(a.Z,{mini:!0,children:(0,h.tZ)(r.Z,{data:Object.entries(t.data).map((e=>{let[t,n]=e;return{key:t,value:n,subject:t,meta:d[t]?.[""]}})),isContextData:!0})})]})}y.displayName="UserEventContext"},"./app/components/events/contexts/utils.tsx":(e,t,n)=>{n.d(t,{FD:()=>_,Hs:()=>Z,aJ:()=>E,bS:()=>g,lp:()=>b,y4:()=>y});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),o=n("../node_modules/lodash/startCase.js"),r=n.n(o),i=n("../node_modules/moment-timezone/index.js"),c=n.n(i),l=n("./app/components/contextData/index.tsx"),d=n("./app/locale.tsx"),u=n("./app/plugins/index.tsx"),p=n("./app/stores/configStore.tsx"),m=n("./app/styles/space.tsx"),h=n("./app/utils.tsx"),x=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v={default:n("./app/components/events/contexts/default.tsx").Z,app:n("./app/components/events/contexts/app/index.tsx").M,device:n("./app/components/events/contexts/device/index.tsx").q,browser:n("./app/components/events/contexts/browser/index.tsx").Y,os:n("./app/components/events/contexts/operatingSystem/index.tsx").J,runtime:n("./app/components/events/contexts/runtime/index.tsx").o,user:n("./app/components/events/contexts/user/index.tsx").TD,gpu:n("./app/components/events/contexts/gpu/index.tsx").d,trace:n("./app/components/events/contexts/trace/index.tsx").y,"redux.state":n("./app/components/events/contexts/redux.tsx").Z,state:n("./app/components/events/contexts/state.tsx").s};function E(e){return v[e]||u.ZP.contexts[e]||v.default}function _(e,t){if(v[t])return null;for(const n of e)if(n.contexts.indexOf(t)>=0)return n;return null}function g(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(0,h.ri)(t))return t;const s=c()(t);if(!s.isValid())return t;const o=`(${s.from(e,!0)} ${(0,d.t)("before this event")})`;return n?(0,x.BX)(a.Fragment,{children:[t,(0,x.tZ)(I,{children:o})]}):(0,x.tZ)(I,{children:o})}function Z(e){const t=p.Z.get("languageCode"),[n,s]=e.includes("_")?e.split("_"):e.split("-");try{const e=new Intl.DisplayNames(t,{type:"language"}).of(n);if(s){return`${e} (${new Intl.DisplayNames(t,{type:"region"}).of(s.toUpperCase())})`}return e}catch{return e}}function y(e){let{data:t,knownDataTypes:n,meta:s,raw:a,onGetKnownDataDetails:o}=e;return n.filter((e=>!("number"!=typeof t[e]&&"boolean"!=typeof t[e]&&!t[e]&&!s?.[e]))).map((e=>{const n=o({data:t,type:e});return n?{key:e,...n,value:a?n.value:(0,x.tZ)(l.Z,{data:n.value,meta:s?.[e],withAnnotatedText:!0})}:null})).filter(h.ri)}function b(e){let{allData:t,knownKeys:n,meta:s}=e;return Object.entries(t).filter((e=>{let[a]=e;return!("type"===a||"title"===a||n.includes(a)||"number"!=typeof t[a]&&!t[a]&&!s?.[a]?.[""])})).map((e=>{let[t,n]=e;return{key:t,value:n,subject:r()(t),meta:s?.[t]?.[""]}}))}g.displayName="getRelativeTimeFromEventDateCreated";const I=(0,s.Z)("span",{target:"e1iorejm0"})("color:",(e=>e.theme.subText),";margin-left:",(0,m.Z)(.5),";")},"./app/components/events/eventAttachmentActions.tsx":(e,t,n)=>{n.d(t,{Z:()=>x});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("../node_modules/react/index.js"),o=n("./app/components/button.tsx"),r=n("./app/components/buttonBar.tsx"),i=n("./app/components/confirm.tsx"),c=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),u=n("./app/utils/withApi.tsx"),p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends a.Component{handlePreview(){const{onPreview:e,attachmentId:t}=this.props;e&&e(t)}render(){const{url:e,withPreviewButton:t,hasPreview:n,previewIsOpen:s,onDelete:a,attachmentId:d}=this.props;return(0,p.BX)(r.ZP,{gap:1,children:[(0,p.tZ)(i.Z,{confirmText:(0,l.t)("Delete"),message:(0,l.t)("Are you sure you wish to delete this file?"),priority:"danger",onConfirm:()=>a(d),disabled:!e,children:(0,p.tZ)(o.ZP,{size:"xs",icon:(0,p.tZ)(c.Fz,{size:"xs"}),"aria-label":(0,l.t)("Delete"),disabled:!e,title:e?void 0:(0,l.t)("Insufficient permissions to delete attachments")})}),(0,p.tZ)(h,{size:"xs",icon:(0,p.tZ)(c.Dj,{size:"xs"}),href:e?`${e}?download=1`:"",disabled:!e,title:e?void 0:(0,l.t)("Insufficient permissions to download attachments"),"aria-label":(0,l.t)("Download")}),t&&(0,p.tZ)(h,{size:"xs",disabled:!e||!n,priority:s?"primary":"default",icon:(0,p.tZ)(c.fn,{size:"xs"}),onClick:()=>this.handlePreview(),title:e?n?void 0:(0,l.t)("This attachment cannot be previewed"):(0,l.t)("Insufficient permissions to preview attachments"),children:(0,l.t)("Preview")})]})}}m.displayName="EventAttachmentActions";const h=(0,s.Z)(o.ZP,{target:"erg6n450"})("margin-right:",(0,d.Z)(.5),";"),x=(0,u.Z)(m)},"./app/components/events/eventTagsAndScreenshot/screenshot/imageVisualization.tsx":(e,t,n)=>{n.d(t,{Z:()=>o});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("./app/components/events/attachmentViewers/imageViewer.tsx");const o=(0,s.Z)(a.Z,{target:"enue1270"})({name:"1yuenz7",styles:"padding:0;height:100%;img{width:auto;height:100%;}"})},"./app/components/events/eventTagsAndScreenshot/screenshot/modal.tsx":(e,t,n)=>{n.d(t,{Z:()=>S,f:()=>O});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("../node_modules/react/index.js"),o=n("./app/components/button.tsx"),r=n("./app/components/buttonBar.tsx"),i=n("./app/components/confirm.tsx"),c=n("./app/components/dateTime.tsx"),l=n("./app/components/events/contexts/utils.tsx"),d=n("./app/components/links/link.tsx"),u=n("./app/components/notAvailable.tsx"),p=n("./app/locale.tsx"),m=n("./app/styles/space.tsx"),h=n("./app/utils.tsx"),x=n("./app/utils/getDynamicText.tsx"),v=n("./app/utils/parseLinkHeader.tsx"),E=n("./app/utils/useApi.tsx"),_=n("./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachments.tsx"),g=n("./app/components/events/eventTagsAndScreenshot/screenshot/imageVisualization.tsx"),Z=n("../node_modules/react-router/es/index.js"),y=n("./app/icons/index.tsx"),b=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const I=e=>{let{location:t,onCursor:n,pageLinks:s,previousDisabled:a,nextDisabled:i}=e;if(!s)return null;const c=t.pathname,l=t.query,d=(0,v.Z)(s);return(0,b.tZ)(N,{children:(0,b.BX)(r.ZP,{merged:!0,children:[(0,b.tZ)(o.ZP,{icon:(0,b.tZ)(y.g6,{direction:"left",size:"sm"}),"aria-label":(0,p.t)("Previous"),size:"md",disabled:a,onClick:()=>{n?.(d.previous?.cursor,c,l,-1)}}),(0,b.tZ)(o.ZP,{icon:(0,b.tZ)(y.g6,{direction:"right",size:"sm"}),"aria-label":(0,p.t)("Next"),size:"md",disabled:i,onClick:()=>{n?.(d.next?.cursor,c,l,1)}})]})})};I.displayName="ScreenshotPagination";const N=(0,s.Z)("div",{target:"eytnv7w0"})({name:"pkkaxc",styles:"display:flex;align-items:center;justify-content:flex-end;margin:0"}),j=(0,Z.withRouter)(I);function A(e){let{eventAttachment:t,orgSlug:n,projectSlug:s,Header:d,Body:m,Footer:g,event:Z,onDelete:y,downloadUrl:I,onDownload:N,pageLinks:A,attachmentIndex:S,attachments:O,enablePagination:C,groupId:M}=e;const L=(0,E.Z)(),[P,k]=(0,a.useState)(t),[B,z]=(0,a.useState)(S),[$,G]=(0,a.useState)(O),[U,V]=(0,a.useState)(A),{dateCreated:H,size:X,mimetype:F}=P,Y=U?(0,v.Z)(U):void 0,K=!1===Y?.previous?.results&&0===B,q=!1===Y?.next?.results&&B===_.m-1;return(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(d,{closeButton:!0,children:(0,p.t)("Screenshot")}),(0,b.BX)(m,{children:[(0,b.BX)(R,{children:[M&&C&&(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(f,{children:(0,p.t)("Event ID")}),(0,b.tZ)(D,{children:(0,b.tZ)(w,{to:`/organizations/${n}/issues/${M}/events/${P.event_id}/`,children:P.event_id})})]}),(0,b.tZ)(f,{coloredBg:!0,children:(0,p.t)("Date Created")}),(0,b.tZ)(D,{coloredBg:!0,children:H?(0,b.BX)(a.Fragment,{children:[(0,b.tZ)(c.Z,{date:(0,x.Z)({value:H,fixed:new Date(150820808e4)})}),Z&&(0,l.bS)(Z.dateCreated?Z.dateCreated:Z.dateReceived,H,!1)]}):(0,b.tZ)(u.Z,{})}),(0,b.tZ)(f,{children:(0,p.t)("Size")}),(0,b.tZ)(D,{children:(0,h.ri)(X)?(0,h.F)(X):(0,b.tZ)(u.Z,{})}),(0,b.tZ)(f,{coloredBg:!0,children:(0,p.t)("MIME Type")}),(0,b.tZ)(D,{coloredBg:!0,children:F??(0,b.tZ)(u.Z,{})})]}),(0,b.tZ)(T,{attachment:P,orgId:n,projectId:s,eventId:P.event_id})]}),(0,b.tZ)(g,{children:(0,b.BX)(r.ZP,{gap:1,children:[(0,b.tZ)(i.Z,{confirmText:(0,p.t)("Delete"),header:(0,p.t)("Screenshots help identify what the user saw when the event happened"),message:(0,p.t)("Are you sure you wish to delete this screenshot?"),priority:"danger",onConfirm:y,children:(0,b.tZ)(o.ZP,{priority:"danger",children:(0,p.t)("Delete")})}),(0,b.tZ)(o.ZP,{onClick:N,href:I,children:(0,p.t)("Download")}),C&&(0,b.tZ)(j,{onCursor:(e,t,n,s)=>{if((0,h.ri)(B)&&$?.length){const t=B+s;if(t===_.m||-1===t)return void L.requestPromise(`/issues/${M}/attachments/`,{method:"GET",includeAllArgs:!0,query:{...n,per_page:_.m,types:void 0,screenshot:1,cursor:e}}).then((e=>{let[n,s,a]=e;t===_.m?(z(0),k(n[0])):(z(_.m-1),k(n[_.m-1])),G(n),V(a?.getResponseHeader("Link"))}));z(t),k($[t])}},pageLinks:U,previousDisabled:K,nextDisabled:q})]})})]})}A.displayName="Modal";const S=A,R=(0,s.Z)("div",{target:"eld5zh74"})("display:grid;grid-template-columns:max-content 1fr;margin-bottom:",(0,m.Z)(3),";"),f=(0,s.Z)("div",{target:"eld5zh73"})("color:",(e=>e.theme.textColor),";padding:",(0,m.Z)(1)," ",(0,m.Z)(1.5)," ",(0,m.Z)(1)," ",(0,m.Z)(1),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";"),D=(0,s.Z)(f,{target:"eld5zh72"})("white-space:pre-wrap;word-break:break-all;color:",(e=>e.theme.subText),";padding:",(0,m.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";"),T=(0,s.Z)(g.Z,{target:"eld5zh71"})("img{border-radius:",(e=>e.theme.borderRadius),";max-height:calc(100vh - 300px);}"),w=(0,s.Z)(d.Z,{target:"eld5zh70"})((e=>e.theme.overflowEllipsis),";font-weight:normal;"),O={name:"17eo2uz",styles:"width:auto;height:100%;max-width:700px"}},"./app/components/notAvailable.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("./app/components/tooltip.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{tooltip:t,className:n}=e;return(0,o.tZ)(a.Z,{title:t,skipWrapper:!0,disabled:void 0===t,children:(0,o.tZ)(i,{className:n,children:"—"})})}r.displayName="NotAvailable";const i=(0,s.Z)("div",{target:"e1ickyb10"})("color:",(e=>e.theme.gray200),";"),c=r},"./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachments.tsx":(e,t,n)=>{n.d(t,{m:()=>se,Z:()=>oe});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react-router/es/index.js"),r=n("../node_modules/lodash/pick.js"),i=n.n(r),c=n("../node_modules/lodash/xor.js"),l=n.n(c),d=n("./app/actionCreators/indicator.tsx"),u=n("./app/components/asyncComponent.tsx"),p=n("./app/components/emptyStateWarning.tsx"),m=n("./app/components/layouts/thirds.tsx"),h=n("./app/components/loadingIndicator.tsx"),x=n("./app/components/pagination.tsx"),v=n("./app/components/panels/index.tsx"),E=n("./app/locale.tsx"),_=n("./app/styles/space.tsx"),g=n("./app/utils/queryString.tsx"),Z=n("./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsFilter.tsx"),y=n("./app/components/attachmentUrl.tsx"),b=n("./app/components/dateTime.tsx"),I=n("./app/components/events/eventAttachmentActions.tsx"),N=n("./app/components/fileSize.tsx"),j=n("./app/components/links/link.tsx");const A={"event.minidump":(0,E.t)("Minidump"),"event.applecrashreport":(0,E.t)("Apple Crash Report"),"event.attachment":(0,E.t)("Other")};var S=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const R=e=>{let{attachment:t,projectId:n,onDelete:s,isDeleted:a,orgId:o,groupId:r}=e;return(0,S.BX)(f,{isDeleted:a,children:[(0,S.tZ)("td",{children:(0,S.BX)("h5",{children:[t.name,(0,S.tZ)("br",{}),(0,S.BX)("small",{children:[(0,S.tZ)(b.Z,{date:t.dateCreated})," ·"," ",(0,S.tZ)(j.Z,{to:`/organizations/${o}/issues/${r}/events/${t.event_id}/`,children:t.event_id})]})]})}),(0,S.tZ)("td",{children:A[t.type]||(0,E.t)("Other")}),(0,S.tZ)("td",{children:(0,S.tZ)(N.Z,{bytes:t.size})}),(0,S.tZ)("td",{children:(0,S.tZ)(D,{children:(0,S.tZ)(y.Z,{projectId:n,eventId:t.event_id,attachment:t,children:e=>a?null:(0,S.tZ)(I.Z,{url:e,onDelete:s,attachmentId:t.id})})})})]})};R.displayName="GroupEventAttachmentsTableRow";const f=(0,a.Z)("tr",{target:"egfj2n61"})("opacity:",(e=>e.isDeleted?.3:1),";td{text-decoration:",(e=>e.isDeleted?"line-through":"normal"),";}"),D=(0,a.Z)("div",{target:"egfj2n60"})({name:"1r5gb7q",styles:"display:inline-block"}),T=R,w=e=>{let{attachments:t,orgId:n,projectId:s,groupId:a,onDelete:o,deletedAttachments:r}=e;const i=[(0,E.t)("Name"),(0,E.t)("Type"),(0,E.t)("Size"),(0,E.t)("Actions")];return(0,S.BX)("table",{className:"table events-table",children:[(0,S.tZ)("thead",{children:(0,S.tZ)("tr",{children:i.map((e=>(0,S.tZ)("th",{children:e},e)))})}),(0,S.tZ)("tbody",{children:t.map((e=>(0,S.tZ)(T,{attachment:e,orgId:n,projectId:s,groupId:a,onDelete:o,isDeleted:r.some((t=>e.id===t))},e.id)))})]})};w.displayName="GroupEventAttachmentsTable";const O=w;var C=n("../node_modules/react/index.js"),M=n("../node_modules/react-lazyload/lib/index.js"),L=n("./app/actionCreators/modal.tsx"),P=n("./app/components/actions/menuItemActionLink.tsx"),k=n("./app/components/button.tsx"),B=n("./app/components/card.tsx"),z=n("./app/components/dropdownLink.tsx"),$=n("./app/components/events/eventTagsAndScreenshot/screenshot/imageVisualization.tsx"),G=n("./app/components/events/eventTagsAndScreenshot/screenshot/modal.tsx"),U=n("./app/icons/iconEllipsis.tsx"),V=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),H=n("./app/utils/useOrganization.tsx");function X(e){let{eventAttachment:t,projectSlug:n,eventId:s,groupId:a,onDelete:o,pageLinks:r,attachmentIndex:i,attachments:c}=e;const l=(0,H.Z)(),[d,u]=(0,C.useState)(!0),p=`/api/0/projects/${l.slug}/${n}/events/${s}/attachments/${t.id}/?download=1`;function m(){(0,V.Z)("issue_details.attachment_tab.screenshot_modal_deleted",{organization:l}),o(t.id)}const x=`/organizations/${l.slug}/issues/${a}/events/`;return(0,S.BX)(B.Z,{children:[(0,S.tZ)(K,{children:(0,S.BX)(Q,{children:[(0,S.tZ)(F,{onClick:()=>(0,V.Z)("issue_details.attachment_tab.screenshot_title_clicked",{organization:l}),to:`${x}${s}/`,children:s}),(0,S.tZ)(Y,{children:(0,S.tZ)(b.Z,{date:t.dateCreated})})]})}),(0,S.tZ)(q,{children:(0,S.tZ)(J,{onClick:()=>((0,V.Z)("issue_details.attachment_tab.screenshot_modal_opened",{organization:l}),void(0,L.openModal)((e=>(0,S.tZ)(G.Z,{...e,orgSlug:l.slug,projectSlug:n,eventAttachment:t,downloadUrl:p,onDelete:m,pageLinks:r,attachments:c,attachmentIndex:i,groupId:a,enablePagination:!0,onDownload:()=>(0,V.Z)("issue_details.attachment_tab.screenshot_modal_download",{organization:l})})),{modalCss:G.f})),"data-test-id":`screenshot-${t.id}`,children:(0,S.BX)(M.ZP,{children:[(0,S.tZ)(te,{attachment:t,orgId:l.slug,projectId:n,eventId:s,onLoad:()=>u(!1),onError:()=>u(!1)}),d&&(0,S.tZ)(ee,{children:(0,S.tZ)(h.Z,{mini:!0})})]})})}),(0,S.BX)(W,{children:[(0,S.tZ)("div",{children:t.name}),(0,S.BX)(z.Z,{caret:!1,customTitle:(0,S.tZ)(k.ZP,{"aria-label":(0,E.t)("Actions"),size:"xs",icon:(0,S.tZ)(U.Y,{direction:"down",size:"sm"}),borderless:!0}),anchorRight:!0,children:[(0,S.tZ)(P.Z,{shouldConfirm:!1,href:`${p}`,children:(0,E.t)("Download")}),(0,S.tZ)(P.Z,{shouldConfirm:!0,confirmPriority:"danger",confirmLabel:(0,E.t)("Delete"),onAction:()=>o(t.id),header:(0,E.t)("This image was captured around the time that the event occurred."),message:(0,E.t)("Are you sure you wish to delete this image?"),children:(0,E.t)("Delete")})]})]})]})}X.displayName="ScreenshotCard";const F=(0,a.Z)(j.Z,{target:"ev8j3478"})((e=>e.theme.overflowEllipsis),";font-weight:normal;"),Y=(0,a.Z)("div",{target:"ev8j3477"})("font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.gray300),";",(e=>e.theme.overflowEllipsis),";line-height:1.5;"),K=(0,a.Z)("div",{target:"ev8j3476"})("display:flex;padding:",(0,_.Z)(1.5)," ",(0,_.Z)(2),";"),q=(0,a.Z)("div",{target:"ev8j3475"})("background:",(e=>e.theme.gray100),";padding:",(0,_.Z)(1.5)," ",(0,_.Z)(2),";max-height:250px;min-height:250px;overflow:hidden;border-bottom:1px solid ",(e=>e.theme.gray100),";"),W=(0,a.Z)("div",{target:"ev8j3474"})("display:flex;justify-content:space-between;align-items:center;padding:",(0,_.Z)(1)," ",(0,_.Z)(2),";.dropdown{height:24px;}"),Q=(0,a.Z)("div",{target:"ev8j3473"})("flex-grow:1;overflow:hidden;margin-right:",(0,_.Z)(1),";"),J=(0,a.Z)(v.N,{target:"ev8j3472"})({name:"vaphgs",styles:"height:100%;min-height:48px;overflow:hidden;cursor:pointer;position:relative;display:flex;align-items:center;justify-content:center;flex:1"}),ee=(0,a.Z)("div",{target:"ev8j3471"})({name:"r2z3qx",styles:"position:absolute;display:flex;align-items:center;justify-content:center;height:100%"}),te=(0,a.Z)($.Z,{target:"ev8j3470"})({name:"1oxakv6",styles:"height:100%;z-index:1;border:0"});var ne;!function(e){e.ALL="all",e.CRASH_REPORTS="onlyCrash",e.SCREENSHOTS="screenshot"}(ne||(ne={}));const se=12;class ae extends u.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleDelete",(async e=>{const{params:t,project:n}=this.props,s=this.state?.eventAttachments?.find((t=>t.id===e));if(s){this.setState((t=>({deletedAttachments:[...t.deletedAttachments,e]})));try{await this.api.requestPromise(`/projects/${t.orgId}/${n.slug}/events/${s.event_id}/attachments/${s.id}/`,{method:"DELETE"})}catch(e){(0,d.Iw)("An error occurred while deleteting the attachment")}}}))}getDefaultState(){return{...super.getDefaultState(),deletedAttachments:[]}}getActiveAttachmentsTab(){const{location:e}=this.props,t=(0,g.qP)(e.query.types);return 0===t.length?ne.ALL:t[0]===Z._L?ne.SCREENSHOTS:0===l()(Z.MC,t).length?ne.CRASH_REPORTS:ne.ALL}getEndpoints(){const{params:e,location:t}=this.props;return this.getActiveAttachmentsTab()===ne.SCREENSHOTS?[["eventAttachments",`/issues/${e.groupId}/attachments/`,{query:{...t.query,types:void 0,screenshot:1,per_page:se}}]]:[["eventAttachments",`/issues/${e.groupId}/attachments/`,{query:{...i()(t.query,["cursor","environment","types"]),per_page:50}}]]}renderNoQueryResults(){return(0,S.tZ)(p.Z,{children:(0,S.tZ)("p",{children:(0,E.t)("No crash reports found")})})}renderNoScreenshotsResults(){return(0,S.tZ)(p.Z,{children:(0,S.tZ)("p",{children:(0,E.t)("No screenshots found")})})}renderEmpty(){return(0,S.tZ)(p.Z,{children:(0,S.tZ)("p",{children:(0,E.t)("No attachments found")})})}renderLoading(){return this.renderBody()}renderInnerBody(){const{project:e,params:t}=this.props,{loading:n,eventAttachments:s,deletedAttachments:a}=this.state;return n?(0,S.tZ)(h.Z,{}):s&&s.length>0?(0,S.tZ)(O,{attachments:s,orgId:t.orgId,projectId:e.slug,groupId:t.groupId,onDelete:this.handleDelete,deletedAttachments:a}):this.getActiveAttachmentsTab()===ne.CRASH_REPORTS?this.renderNoQueryResults():this.renderEmpty()}renderScreenshotGallery(){const{eventAttachments:e,loading:t}=this.state,{project:n,params:s}=this.props;return t?(0,S.tZ)(h.Z,{}):e&&e.length>0?(0,S.tZ)(re,{children:e?.map(((t,a)=>(0,S.tZ)(X,{eventAttachment:t,eventId:t.event_id,projectSlug:n.slug,groupId:s.groupId,onDelete:this.handleDelete,pageLinks:this.state.eventAttachmentsPageLinks,attachments:e,attachmentIndex:a},`${a}-${t.id}`)))}):this.renderNoScreenshotsResults()}renderAttachmentsTable(){return(0,S.tZ)(v.s_,{className:"event-list",children:(0,S.tZ)(v.N,{children:this.renderInnerBody()})})}renderBody(){const{project:e}=this.props;return(0,S.tZ)(m.uT,{children:(0,S.BX)(m.or,{fullWidth:!0,children:[(0,S.tZ)(Z.ZP,{project:e}),this.getActiveAttachmentsTab()===ne.SCREENSHOTS?this.renderScreenshotGallery():this.renderAttachmentsTable(),(0,S.tZ)(x.Z,{pageLinks:this.state.eventAttachmentsPageLinks})]})})}}const oe=(0,o.withRouter)(ae),re=(0,a.Z)("div",{target:"e1o00k1t0"})("display:grid;grid-template-columns:minmax(100px, 1fr);grid-template-rows:repeat(2, max-content);gap:",(0,_.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:repeat(3, minmax(100px, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints.large),"){grid-template-columns:repeat(4, minmax(100px, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints.xxlarge),"){grid-template-columns:repeat(6, minmax(100px, 1fr));}")},"./app/views/organizationGroupDetails/groupEventAttachments/groupEventAttachmentsFilter.tsx":(e,t,n)=>{n.d(t,{MC:()=>v,ZP:()=>Z,_L:()=>E});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react-router/es/index.js")),o=n("../node_modules/lodash/omit.js"),r=n.n(o),i=n("../node_modules/lodash/xor.js"),c=n.n(i),l=n("./app/components/button.tsx"),d=n("./app/components/buttonBar.tsx"),u=n("./app/locale.tsx"),p=n("./app/styles/space.tsx"),m=n("./app/utils/platform.tsx"),h=n("./app/utils/useOrganization.tsx"),x=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v=["event.minidump","event.applecrashreport"],E="event.screenshot",_=e=>{const{project:t}=e,{query:n,pathname:s}=e.location,{types:a}=n,o=r()(n,"types"),i={...n,types:v},p=(0,h.Z)(),_={...n,types:E};let Z="";return void 0===a?Z="all":a===E?Z="screenshot":0===c()(v,a).length&&(Z="onlyCrash"),(0,x.tZ)(g,{children:(0,x.BX)(d.ZP,{merged:!0,active:Z,children:[(0,x.tZ)(l.ZP,{barId:"all",size:"sm",to:{pathname:s,query:o},children:(0,u.t)("All Attachments")}),p.features.includes("mobile-screenshot-gallery")&&(0,m.a)(t.platform)&&(0,x.tZ)(l.ZP,{barId:"screenshot",size:"sm",to:{pathname:s,query:_},children:(0,u.t)("Screenshots")}),(0,x.tZ)(l.ZP,{barId:"onlyCrash",size:"sm",to:{pathname:s,query:i},children:(0,u.t)("Only Crash Reports")})]})})};_.displayName="GroupEventAttachmentsFilter";const g=(0,s.Z)("div",{target:"eftnont0"})("display:flex;justify-content:flex-end;margin-bottom:",(0,p.Z)(3),";"),Z=(0,a.withRouter)(_)}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_eventTagsAndScreenshot_screenshot_modal_tsx-app_views_organizationGroup-6756e1.e36fea70809fd399801bd412fa771cb9.js.map