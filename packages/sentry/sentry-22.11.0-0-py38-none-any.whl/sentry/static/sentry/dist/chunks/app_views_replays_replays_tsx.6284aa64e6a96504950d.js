"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_replays_replays_tsx"],{"./app/components/onboardingPanel.tsx":(e,t,a)=>{a.d(t,{Z:()=>d});var s=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=a("./app/components/panels/index.tsx"),r=a("./app/styles/space.tsx"),i=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{image:t,children:a,...s}=e;return(0,i.tZ)(n.s_,{...s,children:(0,i.BX)(p,{children:[t?(0,i.tZ)(c,{children:t}):null,(0,i.tZ)(l,{centered:!t,children:a})]})})}o.displayName="OnboardingPanel";const p=(0,s.Z)("div",{target:"e19tujos2"})("padding:",(0,r.Z)(3),";position:relative;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:wrap;min-height:300px;max-width:1000px;margin:0 auto;}@media (min-width: ",(e=>e.theme.breakpoints.medium),"){min-height:350px;}"),l=(0,s.Z)("div",{target:"e19tujos1"})("z-index:1;",(e=>e.centered?"text-align: center;":"")," ",(e=>e.centered?"max-width: 600px;":""),"@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:2;}"),c=(0,s.Z)(l,{target:"e19tujos0"})("position:relative;min-height:100px;max-width:300px;margin:",(0,r.Z)(2)," auto;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:1;margin:",(0,r.Z)(3),";max-width:auto;}"),d=o},"./app/components/replays/replaysFeatureBadge.tsx":(e,t,a)=>{a.d(t,{Z:()=>i});var s=a("./app/components/featureBadge.tsx"),n=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){return(0,n.tZ)(s.Z,{...e,type:"beta"})}r.displayName="ReplaysFeatureBadge";const i=r},"./app/utils/replays/hooks/useReplayList.tsx":(e,t,a)=>{a.d(t,{Z:()=>o});var s=a("../node_modules/react/index.js"),n=a("./app/utils/replays/fetchReplayList.tsx"),r=a("./app/utils/useApi.tsx"),i=a("./app/utils/useLocation.tsx");const o=function(e){let{eventView:t,organization:a}=e;const o=(0,r.Z)(),p=(0,i.T)(),l=(0,s.useRef)(),c=(0,s.useRef)(null),[d,u]=(0,s.useState)({fetchError:void 0,isFetching:!0,pageLinks:null,replays:[]}),m=(0,s.useCallback)((async e=>{u((e=>({...e,isFetching:!0})));const s=await(0,n.ZP)({api:o,organization:a,location:p,eventView:t});e.aborted||u(s)}),[o,a,p,t]);return(0,s.useEffect)((()=>{l.current&&l.current===p.search||(c.current=new AbortController,l.current=p.search,m(c.current.signal))}),[m,p.search]),(0,s.useEffect)((()=>{const e=c?.current;return()=>{e&&e.abort()}}),[]),d}},"./app/views/replays/replays.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>ne});var s=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=a("../node_modules/react/index.js"),r=a("../node_modules/react-router/es/index.js"),i=a("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),o=a("./app/components/button.tsx"),p=a("./app/components/layouts/thirds.tsx"),l=a("./app/components/organizations/pageFilters/container.tsx"),c=a("./app/components/pageHeading.tsx"),d=a("./app/components/pagination.tsx"),u=a("./app/components/replays/replaysFeatureBadge.tsx"),m=a("./app/components/sidebar/types.tsx"),h=a("./app/constants/pageFilters.tsx"),x=a("./app/locale.tsx"),y=a("./app/stores/sidebarPanelStore.tsx"),g=a("./app/styles/organization.tsx"),Z=a("./app/utils/discover/eventView.tsx"),f=a("./app/utils/queryString.tsx"),b=a("./app/utils/replays/fetchReplayList.tsx"),w=a("./app/utils/replays/hooks/useReplayList.tsx"),v=a("./app/utils/tokenizeSearch.tsx"),j=a("./app/utils/useMedia.tsx"),k=a("./app/utils/useOrganization.tsx"),P=a("./app/utils/usePageFilters.tsx"),R=a("./app/utils/useProjects.tsx"),B=a("./app/utils/useRouteContext.tsx"),F=a("./app/components/datePageFilter.tsx"),z=a("./app/components/environmentPageFilter.tsx"),_=a("./app/components/organizations/pageFilterBar.tsx"),S=a("./app/components/projectPageFilter.tsx"),q=a("./app/styles/space.tsx"),L=a("./app/utils/useLocation.tsx"),C=a("./app/components/smartSearchBar/index.tsx"),E=a("./app/constants/index.tsx"),O=a("./app/types/index.tsx"),T=a("./app/utils/fields/index.ts"),X=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const N=new RegExp(`^${E.c$}|\\${E.ir}`,"g");function M(e){return e.replace(N,"")}const A=e=>(0,T.pw)(e,"replay"),H=(V=T.re,Object.fromEntries(V.map((e=>[e,{key:e,name:e,kind:A(e)?.kind}]))));var V;function D(e){return(0,X.tZ)(C.Z,{...e,onGetTagValues:void 0,supportedTags:H,placeholder:(0,x.t)("Search for users, duration, countErrors, and more"),prepareQuery:M,maxQueryLength:E.dI,searchSource:"replay_index",savedSearchType:O.L4.REPLAY,maxMenuHeight:500,hasRecentSearches:!0,highlightUnsupportedTags:!0,fieldDefinitionGetter:A})}D.displayName="SearchBar";const G=D;function Q(){const{selection:e}=(0,P.Z)(),t=(0,L.T)(),a=(0,k.Z)(),{pathname:s,query:n}=t;return(0,X.BX)($,{children:[(0,X.BX)(_.Z,{condensed:!0,children:[(0,X.tZ)(S.Z,{resetParamsOnChange:["cursor"]}),(0,X.tZ)(z.Z,{resetParamsOnChange:["cursor"]}),(0,X.tZ)(F.Z,{alignDropdown:"left",resetParamsOnChange:["cursor"]})]}),(0,X.tZ)(G,{organization:a,pageFilters:e,defaultQuery:(0,f.ro)(t.query?.query,""),onSearch:e=>{r.browserHistory.push({pathname:s,query:{...n,cursor:void 0,query:e.trim()}})}})]})}Q.displayName="ReplaysFilters";const $=(0,s.Z)("div",{target:"e1b9rkza0"})("display:inline-grid;grid-template-columns:minmax(0, max-content) minmax(20rem, 1fr);gap:",(0,q.Z)(2),";width:100%;margin-bottom:",(0,q.Z)(2),";@media (max-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:minmax(0, 1fr);}"),Y=Q;var I=a("./app/components/buttonBar.tsx"),J=a("./app/components/onboardingPanel.tsx");function U(e){return(0,X.BX)(J.Z,{image:null,children:[(0,X.tZ)("h3",{children:(0,x.t)("Playback of Your App")}),(0,X.tZ)("p",{children:(0,x.t)("Get to the root cause of an error or latency issue faster by seeing all the technical details related to that issue in one visual replay of your web application.")}),(0,X.tZ)(W,{gap:1,children:e.children})]})}U.displayName="ReplayOnboardingPanel";const W=(0,s.Z)(I.ZP,{target:"e1bdmwax0"})({name:"12os2rd",styles:"grid-template-columns:repeat(auto-fit, minmax(130px, max-content));justify-content:center"});var K=a("./app/views/replays/replayTable.tsx");function ee(e){let{location:t}=e;const a=(0,k.Z)(),s=(0,i.u)(),c=(0,j.Z)(`(min-width: ${s.breakpoints.small})`),g=(0,n.useMemo)((()=>{const e=(0,f.ro)(t.query.query,""),a=new v.MY(e);return Z.ZP.fromNewQueryWithLocation({id:"",name:"",version:2,fields:b.p8,projects:[],query:a.formatString(),orderby:(0,f.ro)(t.query.sort,b.yw)},t)}),[t]),{replays:F,pageLinks:z,isFetching:_,fetchError:S}=(0,w.Z)({organization:a,eventView:g}),{enabled:q,activate:L}=function(){const{location:e}=(0,B.s)(),t=function(){const{projects:e}=(0,R.Z)(),{selection:t}=(0,P.Z)(),a=(0,n.useMemo)((()=>{const a=function(e,t){if(e[0]===h.mP||0===e.length)return t;const a=t.reduce(((e,t)=>(e[t.id]=t,e)),{});return e.map((e=>a[e])).filter(Boolean)}(t.projects,e);return!a.some((e=>e.hasReplays))}),[t.projects,e]);return a}();(0,n.useEffect)((()=>{t&&"#replay-sidequest"===e.hash&&y.Z.activatePanel(m.z.ReplaysOnboarding)}),[t,e.hash]);const a=(0,n.useCallback)((e=>{e.preventDefault(),window.location.hash="replay-sidequest",y.Z.activatePanel(m.z.ReplaysOnboarding)}),[]);return{enabled:t,activate:a}}();return(0,X.BX)(n.Fragment,{children:[(0,X.tZ)(p.h4,{children:(0,X.tZ)(te,{children:(0,X.BX)(ae,{children:[(0,x.t)("Replays")," ",(0,X.tZ)(u.Z,{space:1})]})})}),(0,X.tZ)(l.Z,{children:(0,X.BX)(se,{children:[(0,X.tZ)(Y,{}),q?(0,X.BX)(U,{children:[(0,X.tZ)(o.ZP,{onClick:L,priority:"primary",children:(0,x.t)("Get Started")}),(0,X.tZ)(o.ZP,{href:"https://github.com/getsentry/sentry-replay/blob/main/README.md",external:!0,children:(0,x.t)("See Readme")})]}):(0,X.BX)(n.Fragment,{children:[(0,X.tZ)(K.Z,{isFetching:_,fetchError:S,replays:F,showProjectColumn:c,sort:g.sorts[0]}),(0,X.tZ)(d.Z,{pageLinks:z,onCursor:(e,t,a)=>{r.browserHistory.push({pathname:t,query:{...a,cursor:e}})}})]})]})})]})}ee.displayName="Replays";const te=(0,s.Z)(p.oB,{target:"e23fllz2"})({name:"1iix8hw",styles:"display:flex;justify-content:space-between;flex-direction:row"}),ae=(0,s.Z)(c.Z,{target:"e23fllz1"})({name:"7abko6",styles:"line-height:40px;display:flex"}),se=(0,s.Z)(g.JH,{target:"e23fllz0"})("box-shadow:0px 0px 1px ",(e=>e.theme.gray200),";background-color:",(e=>e.theme.background),";"),ne=ee}}]);
//# sourceMappingURL=../sourcemaps/app_views_replays_replays_tsx.405f2fc15c2fe77a2cc6ffadbd10370d.js.map