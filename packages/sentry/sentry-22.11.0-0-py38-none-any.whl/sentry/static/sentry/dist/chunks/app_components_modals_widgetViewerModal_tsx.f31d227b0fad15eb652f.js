"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_widgetViewerModal_tsx"],{"./app/components/gridEditable/sortLink.tsx":(e,t,i)=>{i.d(t,{Z:()=>y});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=i("../node_modules/react-router/es/index.js"),n=i("../node_modules/lodash/omit.js"),o=i.n(n),r=i("./app/components/links/link.tsx"),l=i("./app/icons/index.tsx"),d=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{align:t,title:i,canSort:s,generateSortLink:n,onClick:o,direction:r,replace:l}=e;const p=n();if(!p||!s)return(0,d.tZ)(u,{align:t,children:i});const y=r?(0,d.tZ)(g,{size:"xs",direction:"desc"===r?"down":"up"}):null;return(0,d.BX)(c,{align:t,to:p,onClick:e=>{l&&(e.preventDefault(),a.browserHistory.replace(p)),o?.(e)},children:[i," ",y]})}p.displayName="SortLink";const c=(0,s.Z)((e=>{const t=o()(e,["align","css"]);return(0,d.tZ)(r.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),u=(0,s.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),g=(0,s.Z)(l.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),y=p},"./app/components/modals/widgetViewerModal.tsx":(e,t,i)=>{i.r(t),i.d(t,{default:()=>Se,modalCss:()=>Ze});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(i("../node_modules/core-js/modules/es.array.includes.js"),i("../node_modules/react/index.js")),n=i("../node_modules/react-router/es/index.js"),o=i("../node_modules/react-select/dist/index-4bd03571.esm.js"),r=i("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),l=i("../node_modules/@sentry/utils/esm/string.js"),d=i("../node_modules/lodash/cloneDeep.js"),p=i.n(d),c=i("../node_modules/lodash/isEqual.js"),u=i.n(c),g=i("../node_modules/lodash/trimStart.js"),y=i.n(g),m=i("../node_modules/moment/moment.js"),h=i.n(m),w=i("./app/actionCreators/events.tsx"),b=i("./app/components/alert.tsx"),Z=i("./app/components/button.tsx"),x=i("./app/components/buttonBar.tsx"),v=i("./app/components/forms/controls/selectControl.tsx"),R=i("./app/components/forms/controls/selectOption.tsx"),f=i("./app/components/gridEditable/index.tsx"),T=i("./app/components/pagination.tsx"),E=i("./app/components/questionTooltip.tsx"),S=i("./app/components/searchSyntax/parser.tsx"),_=i("./app/components/searchSyntax/renderer.tsx"),O=i("./app/locale.tsx"),C=i("./app/styles/space.tsx"),q=i("./app/utils.tsx"),k=i("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),L=i("./app/utils/dates.tsx"),z=i("./app/utils/discover/fields.tsx"),B=i("./app/utils/parseLinkHeader.tsx"),D=i("./app/utils/performance/contexts/metricsCardinality.tsx"),A=i("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),F=i("./app/utils/queryString.tsx"),P=i("./app/utils/useApi.tsx"),I=i("./app/utils/withPageFilters.tsx"),V=i("./app/views/dashboardsV2/types.tsx"),j=i("./app/views/dashboardsV2/utils.tsx"),N=i("./app/views/dashboardsV2/widgetCard/chart.tsx"),M=i("./app/views/dashboardsV2/widgetCard/dashboardsMEPContext.tsx"),H=i("./app/views/dashboardsV2/widgetCard/issueWidgetQueries.tsx"),U=i("./app/views/dashboardsV2/widgetCard/releaseWidgetQueries.tsx"),G=i("./app/views/dashboardsV2/widgetCard/widgetCardChartContainer.tsx"),X=i("./app/views/dashboardsV2/widgetCard/widgetQueries.tsx"),Q=i("./app/views/eventsV2/utils.tsx"),$=i("./app/views/organizationContext.tsx"),W=i("./app/views/performance/landing/metricsDataSwitcher.tsx"),Y=i("./app/components/modals/widgetViewerModal/utils.tsx"),J=i("./app/components/gridEditable/sortLink.tsx"),K=(i("./app/components/links/link.tsx"),i("./app/components/tooltip.tsx")),ee=i("./app/utils/dashboards/issueFieldRenderers.tsx"),te=i("./app/utils/discover/eventView.tsx"),ie=i("./app/utils/discover/fieldRenderers.tsx"),se=(i("./app/utils/discover/urls.tsx"),i("./app/views/dashboardsV2/widgetBuilder/issueWidget/fields.tsx")),ae=i("./app/views/eventsV2/table/topResultsIndicator.tsx"),ne=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const oe=e=>{let{location:t,widget:i,tableData:s,organization:a,onHeaderClick:n}=e;return(e,o)=>{const r=s?.meta,l=(0,z.qG)(e.name,e.type,r),d=(0,ee.N)(String(e.key));return(0,ne.tZ)(J.Z,{align:l,title:(0,ne.tZ)(pe,{title:e.name,children:e.name}),direction:i.queries[0].orderby===d?"desc":void 0,canSort:!!d,generateSortLink:()=>({...t,query:{...t.query,[Y.R.SORT]:d,[Y.R.PAGE]:void 0,[Y.R.CURSOR]:void 0}}),onClick:()=>{n?.(),(0,k.Z)("dashboards_views.widget_viewer.sort",{organization:a,widget_type:V.l9.ISSUE,display_type:i.displayType,column:e.name,order:"desc"})}})}},re=e=>{let{location:t,selection:i,widget:s,tableData:a,organization:n,onHeaderClick:o,isMetricsData:r}=e;return(e,l)=>{const{orderby:d}=s.queries[0],p=`${d.startsWith("-")?"-":""}${(0,z.LY)(y()(d,"-"))}`,c=(0,j.tT)(s.title,{...s.queries[0],orderby:p},i,s.displayType),u=a?.meta,g=(0,z.qG)(e.name,e.type,u),m={field:String(e.key),width:e.width},h=c.sortForField(m,u),w=!(r&&"title"===m.field)&&(0,te.M3)(m,u),b=(0,z.uI)(e.name)?c.getEquations()[(0,z.G5)(e.name)]:e.name;return(0,ne.tZ)(J.Z,{align:g,title:(0,ne.tZ)(pe,{title:b,children:b}),direction:h?h.kind:void 0,canSort:w,generateSortLink:function(){if(!u)return;const e=c.sortOnField(m,u,void 0,!0).generateQueryStringObject();return{...t,query:{...t.query,[Y.R.SORT]:e.sort,[Y.R.PAGE]:void 0,[Y.R.CURSOR]:void 0}}},onClick:()=>{o?.(),(0,k.Z)("dashboards_views.widget_viewer.sort",{organization:n,widget_type:V.l9.DISCOVER,display_type:s.displayType,column:e.name,order:"desc"===h?.kind?"asc":"desc"})}})}},le=e=>{let{location:t,organization:i,widget:s,tableData:n,isFirstPage:o}=e;return(e,r,l,d)=>{const p=String(e.key),c=s.displayType===V.FO.TOP_N;let u;const g=!i.features.includes("discover-frontend-use-events-endpoint")&&s.widgetType!==V.l9.RELEASE;switch(s.widgetType){case V.l9.ISSUE:u=((0,ee.O)(p)??(0,ie.Js)(p,se.$L))(r,{organization:i,location:t});break;case V.l9.DISCOVER:default:if(!n||!n.meta)return r[e.key];const s=n.meta.units?.[e.key];u=(0,ie.Js)(p,n.meta,g)(r,{organization:i,location:t,unit:s});const a=(0,z.LY)(p),o=r[a];if("integer"===n.meta[a]&&(0,q.ri)(o)&&o>999)return(0,ne.tZ)(K.Z,{title:o.toLocaleString(),containerDisplayMode:"block",position:"right",children:u})}const y=n?Math.min(n?.data.length,5):5;return(0,ne.BX)(a.Fragment,{children:[c&&o&&l<5&&0===d?(0,ne.tZ)(ae.Z,{count:y,index:l}):null,u]})}},de=e=>{let{location:t,widget:i,tableData:s,organization:a,onHeaderClick:n}=e;return(e,o)=>{const r=s?.meta,l=(0,z.qG)(e.name,e.type,r),d=i.queries[0].orderby,p={kind:d.startsWith("-")?"desc":"asc",field:d.startsWith("-")?d.slice(1):d},c=(0,z.h1)(e.name),u=e.name;return(0,ne.tZ)(J.Z,{align:l,title:(0,ne.tZ)(pe,{title:u,children:u}),direction:p.field===e.name?p.kind:void 0,canSort:c,generateSortLink:function(){const i=e.name===p.field?{...p,kind:"desc"===p.kind?"asc":"desc"}:{kind:"desc",field:e.name};return{...t,query:{...t.query,[Y.R.SORT]:"desc"===i.kind?`-${i.field}`:i.field,[Y.R.PAGE]:void 0,[Y.R.CURSOR]:void 0}}},onClick:()=>{n?.(),(0,k.Z)("dashboards_views.widget_viewer.sort",{organization:a,widget_type:V.l9.RELEASE,display_type:i.displayType,column:e.name,order:"desc"===p?.kind?"asc":"desc"})}})}},pe=(0,s.Z)(K.Z,{target:"e1fqlj201"})({name:"168giuu",styles:"display:initial"}),ce="geo.country_code",ue="(Empty Query Condition)",ge=(e,t)=>{const i=t.selection===e.selection,s=t.location.query[Y.R.SORT]===e.location.query[Y.R.SORT],a=u()(t.chartZoomOptions,e.chartZoomOptions),n=t.widget.displayType!==V.FO.TOP_N&&!(0,q.ri)(t.widget.limit);return i&&a&&(s||n)},ye=(0,a.memo)(G.b,ge),me=(0,a.memo)(N.Z,ge);function he(e){const{organization:t,widget:i,selection:s,location:n,Footer:d,Body:c,Header:u,closeModal:g,onEdit:m,router:E,routes:I,params:G,seriesData:J,tableData:K,totalIssuesCount:ee,pageLinks:te,seriesResultsType:ie}=e,se=t.features.includes("widget-viewer-modal-minimap"),ae=(0,F.ro)(n.query[Y.R.START]),pe=(0,F.ro)(n.query[Y.R.END]),ge=i.displayType===V.FO.TABLE,he=(0,a.useMemo)((()=>ae&&pe?{...s,datetime:{start:ae,end:pe,period:null,utc:null}}:s),[ae,pe,s]),[Ze,Se]=(0,a.useState)(!0),[_e,Oe]=(0,a.useState)({start:0,end:100}),[Ce,qe]=(0,a.useState)(he),ke=(0,a.useRef)(Ce);(0,a.useEffect)((()=>{"POP"===n.action&&(qe(he),Oe(ae&&pe?{startValue:1e3*h().utc(ae).unix(),endValue:1e3*h().utc(pe).unix()}:{start:0,end:100}))}),[pe,n,he,ae]);const[Le,ze]=(0,a.useState)((0,F.qP)(n.query[Y.R.LEGEND]).reduce(((e,t)=>(e[t]=!1,e)),{})),[Be,De]=(0,a.useState)(),Ae=(0,F._q)(n.query[Y.R.QUERY])??0,Fe=(0,F._q)(n.query[Y.R.PAGE])??0,Pe=(0,F.ro)(n.query[Y.R.CURSOR]),Ie=(0,F.qP)(n.query[Y.R.WIDTH]),Ve=(0,F.ro)(n.query[Y.R.SORT]),je=p()(Ve?i.queries.map((e=>({...e,orderby:Ve}))):i.queries),Ne=i.displayType===V.FO.TOP_N||void 0!==i.limit?{...i,queries:je}:i,Me=(0,P.Z)(),He={...p()({...i,queries:[je[Ae]]}),displayType:V.FO.TABLE},{aggregates:Ue,columns:Ge}=He.queries[0],{orderby:Xe}=i.queries[0],Qe=Xe.startsWith("-"),$e=y()(Xe,"-"),We=(0,q.ri)(He.queries[0].fields)?He.queries[0].fields:[...Ge,...Ue];i.widgetType!==V.l9.DISCOVER||!Xe||(0,z.uI)($e)||We.includes($e)||(We.push($e),[He,Ne].forEach((e=>{(0,z.h1)($e)||(0,z.GO)($e)?e.queries.forEach((e=>{e.aggregates.includes($e)||e.aggregates.push($e)})):e.queries.forEach((e=>{e.columns.includes($e)||e.columns.push($e)}))}))),(0,z.GO)($e)&&He.queries[0].orderby===Xe&&(He.queries[0].orderby=`${Qe?"-":""}equation[${(0,j.yd)(We)-1}]`),i.displayType!==V.FO.WORLD_MAP||Ge.includes(ce)||(We.unshift(ce),Ge.unshift(ce));const Ye=[V.FO.AREA,V.FO.LINE,V.FO.BIG_NUMBER,V.FO.BAR].includes(i.displayType)&&i.widgetType&&[V.l9.DISCOVER,V.l9.RELEASE].includes(i.widgetType)&&!(0,q.ri)(i.limit);if(ge||(0,j.Mf)(We).forEach((e=>{(0,z.h1)(e)&&!Ue.includes(e)&&Ue.unshift(e),(0,z.h1)(e)||Ge.includes(e)||Ge.unshift(e)})),Ge.forEach((e=>{We.includes(e)||We.unshift(e)})),Ye)switch(i.widgetType){case V.l9.DISCOVER:1===We.length&&(He.queries[0].orderby=He.queries[0].orderby||`-${We[0]}`),We.unshift("title"),Ge.unshift("title");break;case V.l9.RELEASE:We.unshift("release"),Ge.unshift("release")}const Je=(0,j.tT)(He.title,He.queries[0],Ce,He.displayType);let Ke=(0,Q.Hg)(We.map((e=>({field:e}))),t.features.includes("discover-frontend-use-events-endpoint"));const et=Je.getSorts();Ke=Ke.map(((e,t)=>({...e,width:parseInt(Ie[t],10)||-1})));const tt=je.map(((e,t)=>{let{name:i,conditions:s}=e;const a=!i&&s?(0,S.UG)(s):null;return{label:(0,l.$G)(i||s,120),value:t,getHighlightedQuery:e=>null!==a?(0,ne.tZ)(fe,{...e,children:(0,ne.tZ)(_.Z,{parsedQuery:a})}):void 0}})),it=(e,t)=>{const i=t.width?Number(t.width):f.z7,s=new Array(Math.max(e,Ie.length)).fill(f.z7);Ie.forEach(((e,t)=>s[t]=parseInt(e,10))),s[e]=i,E.replace({pathname:n.pathname,query:{...n.query,[Y.R.WIDTH]:s}})};function st(e){let{selected:s}=e;ze(s),E.replace({pathname:n.pathname,query:{...n.query,[Y.R.LEGEND]:Object.keys(s).filter((e=>!s[e]))}}),(0,k.Z)("dashboards_views.widget_viewer.toggle_legend",{organization:t,widget_type:i.widgetType??V.l9.DISCOVER,display_type:i.displayType})}function at(s){let{tableResults:o,loading:r,pageLinks:l}=s;const{isMetricsData:d}=(0,M.XA)(),p=(0,B.Z)(l??null),c=!1===p.previous?.results;return(0,ne.BX)(a.Fragment,{children:[(0,ne.tZ)(f.ZP,{isLoading:r,data:o?.[0]?.data??[],columnOrder:Ke,columnSortBy:et,grid:{renderHeadCell:re({...e,widget:He,tableData:o?.[0],onHeaderClick:()=>{([V.FO.TOP_N,V.FO.TABLE].includes(i.displayType)||(0,q.ri)(i.limit))&&Se(!1)},isMetricsData:d}),renderBodyCell:le({...e,tableData:o?.[0],isFirstPage:c}),onResizeColumn:it},location:n}),(p?.previous?.results||p?.next?.results)&&(0,ne.tZ)(T.Z,{pageLinks:l,onCursor:e=>{E.replace({pathname:n.pathname,query:{...n.query,[Y.R.CURSOR]:e}}),i.displayType===V.FO.TABLE&&Se(!1),(0,k.Z)("dashboards_views.widget_viewer.paginate",{organization:t,widget_type:V.l9.DISCOVER,display_type:i.displayType})}})]})}(0,a.useEffect)((()=>{(async()=>{i.widgetType===V.l9.DISCOVER&&De(await async function(e,t,i,s){if(s.isValid())try{return(await(0,w.JE)(e,t.slug,s.getEventsAPIPayload(i))).toLocaleString()}catch(e){return void r.Tb(e)}}(Me,t,n,Je))})()}),[Ae]);const nt=e=>{let{tableResults:o,loading:r,pageLinks:l,totalCount:d}=e;void 0===Be&&d&&De(d);const p=(0,B.Z)(l??null);return(0,ne.BX)(a.Fragment,{children:[(0,ne.tZ)(f.ZP,{isLoading:r,data:o?.[0]?.data??[],columnOrder:Ke,columnSortBy:et,grid:{renderHeadCell:oe({location:n,organization:t,selection:s,widget:He,onHeaderClick:()=>{Se(!1)}}),renderBodyCell:le({location:n,organization:t,selection:s,widget:He}),onResizeColumn:it},location:n}),(p?.previous?.results||p?.next?.results)&&(0,ne.tZ)(T.Z,{pageLinks:l,onCursor:(e,s,a,o)=>{let r=isNaN(Fe)?o:Fe+o,l=e;r<=0&&(l=void 0,r=0),E.replace({pathname:n.pathname,query:{...n.query,[Y.R.CURSOR]:l,[Y.R.PAGE]:r}}),i.displayType===V.FO.TABLE&&Se(!1),(0,k.Z)("dashboards_views.widget_viewer.paginate",{organization:t,widget_type:V.l9.ISSUE,display_type:i.displayType})}})]})},ot=s=>{let{tableResults:o,loading:r,pageLinks:l}=s;const d=(0,B.Z)(l??null),p=!1===d.previous?.results;return(0,ne.BX)(a.Fragment,{children:[(0,ne.tZ)(f.ZP,{isLoading:r,data:o?.[0]?.data??[],columnOrder:Ke,columnSortBy:et,grid:{renderHeadCell:de({...e,widget:He,tableData:o?.[0],onHeaderClick:()=>{([V.FO.TOP_N,V.FO.TABLE].includes(i.displayType)||(0,q.ri)(i.limit))&&Se(!1)}}),renderBodyCell:le({...e,tableData:o?.[0],isFirstPage:p}),onResizeColumn:it},location:n}),!He.queries[0].orderby.match(/^-?release$/)&&(d?.previous?.results||d?.next?.results)&&(0,ne.tZ)(T.Z,{pageLinks:l,onCursor:e=>{E.replace({pathname:n.pathname,query:{...n.query,[Y.R.CURSOR]:e}}),(0,k.Z)("dashboards_views.widget_viewer.paginate",{organization:t,widget_type:V.l9.RELEASE,display_type:i.displayType})}})]})},rt=(e,s)=>{const a=s.getModel(),{seriesStart:o,seriesEnd:r}=e;let l,d;l=a._payload.batch?.[0].startValue,d=a._payload.batch?.[0].endValue;const p=o?new Date(o).getTime():void 0,c=r?new Date(r).getTime():void 0;if(void 0===l||void 0===d){if(!p||!c)return;{const e=c-p;l=e*a._payload.start*.01+p,d=e*a._payload.end*.01+p}}Oe({startValue:l,endValue:d});const u=(0,L.v5)(h().utc(l)),g=(0,L.v5)(h().utc(d));qe({...Ce,datetime:{...Ce.datetime,start:u,end:g,period:null}}),E.push({pathname:n.pathname,query:{...n.query,[Y.R.START]:u,[Y.R.END]:g}}),(0,k.Z)("dashboards_views.widget_viewer.zoom",{organization:t,widget_type:i.widgetType??V.l9.DISCOVER,display_type:i.displayType})};function lt(){switch(i.widgetType){case V.l9.ISSUE:return K&&Ze&&i.displayType===V.FO.TABLE?nt({tableResults:K,loading:!1,errorMessage:void 0,pageLinks:te,totalCount:ee}):(0,ne.tZ)(H.Z,{api:Me,organization:t,widget:He,selection:Ce,limit:i.displayType===V.FO.TABLE?20:10,cursor:Pe,children:nt});case V.l9.RELEASE:return K&&Ze&&i.displayType===V.FO.TABLE?ot({tableResults:K,loading:!1,pageLinks:te}):(0,ne.tZ)(U.ZP,{api:Me,organization:t,widget:He,selection:Ce,limit:i.displayType===V.FO.TABLE?20:10,cursor:Pe,children:ot});case V.l9.DISCOVER:default:return K&&Ze&&i.displayType===V.FO.TABLE?(0,ne.tZ)(at,{tableResults:K,loading:!1,pageLinks:te}):(0,ne.tZ)(X.ZP,{api:Me,organization:t,widget:He,selection:Ce,limit:i.displayType===V.FO.TABLE?20:10,cursor:Pe,children:e=>{let{tableResults:t,loading:i,pageLinks:s}=e;return(0,ne.tZ)(at,{tableResults:t,loading:i,pageLinks:s})}})}}return(0,ne.tZ)(a.Fragment,{children:(0,ne.tZ)($.g.Provider,{value:t,children:(0,ne.tZ)(M.KC,{children:(0,ne.tZ)(D.BT,{organization:t,location:n,children:(0,ne.tZ)(W.d,{organization:t,eventView:Je,location:n,hideLoadingIndicator:!0,children:e=>(0,ne.BX)(A.kP,{location:n,forceTransactions:e.forceTransactionsOnly,children:[(0,ne.tZ)(u,{closeButton:!0,children:(0,ne.tZ)("h3",{children:i.title})}),(0,ne.tZ)(c,{children:(0,ne.BX)(a.Fragment,{children:[i.displayType!==V.FO.TABLE&&(0,ne.tZ)(xe,{height:i.displayType!==V.FO.BIG_NUMBER?300+(se&&[V.FO.AREA,V.FO.LINE,V.FO.BAR,V.FO.TOP_N].includes(i.displayType)?N.R:0):null,children:(J||K)&&Ze?(0,ne.tZ)(me,{timeseriesResults:J,timeseriesResultsTypes:ie,tableResults:K,errorMessage:void 0,loading:!1,location:n,widget:i,selection:s,router:E,organization:t,onZoom:rt,onLegendSelectChanged:st,legendOptions:{selected:Le},expandNumbers:!0,showSlider:se,noPadding:!0,chartZoomOptions:_e}):(0,ne.tZ)(ye,{location:n,router:E,routes:I,params:G,api:Me,organization:t,selection:ke.current,widget:Ne,onZoom:rt,onLegendSelectChanged:st,legendOptions:{selected:Le},expandNumbers:!0,showSlider:se,noPadding:!0,chartZoomOptions:_e})}),i.queries.length>1&&(0,ne.tZ)(b.Z,{type:"info",showIcon:!0,children:(0,O.t)("This widget was built with multiple queries. Table data can only be displayed for one query at a time. To edit any of the queries, edit the widget.")}),(i.queries.length>1||i.queries[0].conditions)&&(0,ne.BX)(ve,{children:[(0,ne.tZ)(v.Z,{value:Ae,options:tt,onChange:e=>{E.replace({pathname:n.pathname,query:{...n.query,[Y.R.QUERY]:e.value,[Y.R.PAGE]:void 0,[Y.R.CURSOR]:void 0}}),(0,k.Z)("dashboards_views.widget_viewer.select_query",{organization:t,widget_type:i.widgetType??V.l9.DISCOVER,display_type:i.displayType})},components:{SingleValue:e=>(0,ne.tZ)(o.c.SingleValue,{...e,getStyles:()=>({wordBreak:"break-word",flex:1,display:"flex",padding:`0 ${(0,C.Z)(.5)}`}),children:tt[Ae].getHighlightedQuery({display:"block"})??(tt[Ae].label||(0,ne.tZ)(Ee,{children:ue}))}),Option:e=>{const t=e.data.getHighlightedQuery({display:"flex"});return(0,ne.tZ)(R.Z,{...t?{...e,label:t}:e.label?e:{...e,label:(0,ne.tZ)(Ee,{children:ue})}})},...i.queries.length<2?{IndicatorsContainer:e=>null}:{}},isSearchable:!1,isDisabled:i.queries.length<2}),1===i.queries.length&&(0,ne.tZ)(Re,{title:(0,O.t)("To edit this query, you must edit the widget."),size:"sm"})]}),lt()]})}),(0,ne.tZ)(d,{children:(0,ne.BX)(Te,{children:[be(Be,i.widgetType),(0,ne.BX)(x.ZP,{gap:1,children:[m&&i.id&&(0,ne.tZ)(Z.ZP,{type:"button",onClick:()=>{g(),m(),(0,k.Z)("dashboards_views.widget_viewer.edit",{organization:t,widget_type:i.widgetType??V.l9.DISCOVER,display_type:i.displayType})},children:(0,O.t)("Edit Widget")}),i.widgetType&&(0,ne.tZ)(we,{widget:Ne,organization:t,selection:Ce,selectedQueryIndex:Ae})]})]})})]})})})})})})}function we(e){let t,i,{widget:s,selection:a,organization:n,selectedQueryIndex:o}=e;const{isMetricsData:r}=(0,M.XA)();switch(s.widgetType){case V.l9.ISSUE:t=(0,O.t)("Open in Issues"),i=(0,j.hS)(s,a,n);break;case V.l9.RELEASE:t=(0,O.t)("Open in Releases"),i=(0,j.Cg)(s,a,n);break;case V.l9.DISCOVER:default:t=(0,O.t)("Open in Discover"),i=(0,j.z1)({...s,queries:[s.queries[o]]},a,n,0,r)}return(0,ne.tZ)(Z.ZP,{to:i,priority:"primary",type:"button",onClick:()=>{(0,k.Z)("dashboards_views.widget_viewer.open_source",{organization:n,widget_type:s.widgetType??V.l9.DISCOVER,display_type:s.displayType})},children:t})}function be(e,t){if(void 0===e)return(0,ne.tZ)("span",{});switch(t){case V.l9.ISSUE:return(0,ne.tZ)("span",{children:(0,O._N)("[description:Total Issues:] [total]",{description:(0,ne.tZ)("strong",{}),total:"1000"===e?"1000+":e})});case V.l9.DISCOVER:return(0,ne.tZ)("span",{children:(0,O._N)("[description:Total Events:] [total]",{description:(0,ne.tZ)("strong",{}),total:e})});default:return(0,ne.tZ)("span",{})}}he.displayName="WidgetViewerModal",we.displayName="OpenButton";const Ze={name:"zhkibu",styles:"width:100%;max-width:1200px"},xe=(0,s.Z)("div",{target:"eteb5ir5"})("height:",(e=>e.height?`${e.height}px`:"auto"),";position:relative;padding-bottom:",(0,C.Z)(3),";"),ve=(0,s.Z)("div",{target:"eteb5ir4"})("margin-bottom:",(0,C.Z)(2),";position:relative;"),Re=(0,s.Z)(E.Z,{target:"eteb5ir3"})("position:absolute;top:",(0,C.Z)(1.5),";right:",(0,C.Z)(2),";"),fe=(0,s.Z)("span",{target:"eteb5ir2"})("display:",(e=>e.display),";gap:",(0,C.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:2;flex:1;"),Te=(0,s.Z)("div",{target:"eteb5ir1"})("display:flex;flex-grow:1;flex-direction:column;gap:",(0,C.Z)(1),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){align-items:center;flex-direction:row;justify-content:space-between;}"),Ee=(0,s.Z)("span",{target:"eteb5ir0"})("color:",(e=>e.theme.disabled),";"),Se=(0,n.withRouter)((0,I.Z)(he))},"./app/components/pagination.tsx":(e,t,i)=>{i.d(t,{Z:()=>h});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=i("../node_modules/react-router/es/index.js"),n=i("./app/components/button.tsx"),o=i("./app/components/buttonBar.tsx"),r=i("./app/icons/index.tsx"),l=i("./app/locale.tsx"),d=i("./app/styles/space.tsx"),p=i("./app/utils/parseLinkHeader.tsx"),c=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=(e,t,i,s)=>a.browserHistory.push({pathname:t,query:{...i,cursor:e}}),g=e=>{let{to:t,location:i,className:s,onCursor:a=u,paginationAnalyticsEvent:d,pageLinks:g,size:h="sm",caption:w,disabled:b=!1}=e;if(!g)return null;const Z=t??i.pathname,x=i.query,v=(0,p.Z)(g),R=b||!1===v.previous?.results,f=b||!1===v.next?.results;return(0,c.BX)(y,{className:s,children:[w&&(0,c.tZ)(m,{children:w}),(0,c.BX)(o.ZP,{merged:!0,children:[(0,c.tZ)(n.ZP,{icon:(0,c.tZ)(r.g6,{direction:"left",size:"sm"}),"aria-label":(0,l.t)("Previous"),size:h,disabled:R,onClick:()=>{a?.(v.previous?.cursor,Z,x,-1),d?.("Previous")},type:"button"}),(0,c.tZ)(n.ZP,{icon:(0,c.tZ)(r.g6,{direction:"right",size:"sm"}),"aria-label":(0,l.t)("Next"),size:h,disabled:f,onClick:()=>{a?.(v.next?.cursor,Z,x,1),d?.("Next")},type:"button"})]})]})};g.displayName="Pagination";const y=(0,s.Z)("div",{target:"ewgwd3b1"})("display:flex;align-items:center;justify-content:flex-end;margin:",(0,d.Z)(3)," 0 0 0;"),m=(0,s.Z)("span",{target:"ewgwd3b0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,d.Z)(2),";"),h=(0,a.withRouter)(g)}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_widgetViewerModal_tsx.cb3be28a16d007ecbf336607256e887f.js.map