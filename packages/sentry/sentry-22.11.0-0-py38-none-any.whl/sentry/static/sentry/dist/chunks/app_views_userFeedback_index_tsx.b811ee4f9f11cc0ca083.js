"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_userFeedback_index_tsx"],{"./app/components/events/errorLevel.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const r="13px",i=(0,n.Z)("span",{target:"e145dcfe0"})("padding:0;position:relative;width:",(e=>e.size||r),";height:",(e=>e.size||r),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.level?e.theme.level[e.level]:e.theme.level.error),";")},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var n=s("./app/components/asyncComponent.tsx"),r=s("./app/components/sentryDocumentTitle.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends n.Z{getTitle(){return""}render(){return(0,i.tZ)(r.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/userFeedback/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/@sentry/react/esm/profiler.js"),i=s("../node_modules/lodash/omit.js"),o=s.n(i),a=s("./app/components/button.tsx"),p=s("./app/components/buttonBar.tsx"),d=s("./app/components/datePageFilter.tsx"),c=s("./app/components/environmentPageFilter.tsx"),l=s("./app/components/events/userFeedback.tsx"),m=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=s("../node_modules/react/index.js"),g=s("./app/actionCreators/group.tsx"),h=s("./app/actionCreators/indicator.tsx"),Z=s("./app/components/eventOrGroupTitle.tsx"),x=s("./app/components/events/errorLevel.tsx"),v=s("./app/components/links/link.tsx"),b=s("./app/components/panels/index.tsx"),y=s("./app/icons/index.tsx"),j=s("./app/locale.tsx"),k=s("./app/stores/groupStore.tsx"),f=s("./app/styles/space.tsx"),z=s("./app/utils/events.tsx"),w=s("./app/utils/withApi.tsx"),I=s("./app/utils/withOrganization.tsx"),B=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function F(e){let{data:t,organization:s,projectId:n,eventId:r}=e;const i=`/organizations/${s.slug}/issues/`,o=r?`/organizations/${s.slug}/projects/${n}/events/${r}/?referrer=compact-issue`:`${i}${t.id}/?referrer=compact-issue`,a=t.subscriptionDetails&&"mentioned"===t.subscriptionDetails.reason?"success":"textColor";return(0,B.BX)(u.Fragment,{children:[(0,B.BX)(N,{children:[(0,B.tZ)(X,{size:"12px",level:t.level,title:t.level}),(0,B.tZ)("h3",{className:"truncate",children:(0,B.BX)($,{to:o||"",children:["ignored"===t.status&&(0,B.tZ)(y.i1,{size:"xs"}),t.isBookmarked&&(0,B.tZ)(y.GK,{isSolid:!0,size:"xs"}),(0,B.tZ)(Z.Z,{data:t})]})})]}),(0,B.BX)("div",{className:"event-extra",children:[(0,B.tZ)("span",{className:"project-name",children:(0,B.tZ)("strong",{children:t.project.slug})}),0!==t.numComments&&(0,B.tZ)("span",{children:(0,B.BX)($,{to:`${i}${t.id}/activity/`,className:"comments",children:[(0,B.tZ)(y.f7,{size:"xs",color:a}),(0,B.tZ)("span",{className:"tag-count",children:t.numComments})]})}),(0,B.tZ)("span",{className:"culprit",children:(0,z.FC)(t)})]})]})}F.displayName="CompactIssueHeader";class _ extends u.Component{constructor(){super(...arguments),(0,m.Z)(this,"state",{issue:this.props.data||k.Z.get(this.props.id)}),(0,m.Z)(this,"listener",k.Z.listen((e=>this.onGroupChange(e)),void 0))}componentWillReceiveProps(e){e.id!==this.props.id&&this.setState({issue:k.Z.get(this.props.id)})}componentWillUnmount(){this.listener()}onGroupChange(e){if(!e.has(this.props.id))return;const t=this.props.id,s=k.Z.get(t);this.setState({issue:s})}onUpdate(e){const t=this.state.issue;t&&((0,h.E3)((0,j.t)("Saving changesâ€¦")),(0,g.Gv)(this.props.api,{orgId:this.props.organization.slug,projectId:t.project.slug,itemIds:[t.id],data:e},{complete:()=>{(0,h.B8)()}}))}render(){const e=this.state.issue,{organization:t}=this.props;if(void 0===e.status)return null;let s="issue";return e.isBookmarked&&(s+=" isBookmarked"),e.hasSeen&&(s+=" hasSeen"),"resolved"===e.status&&(s+=" isResolved"),"ignored"===e.status&&(s+=" isIgnored"),(0,B.BX)(L,{className:s,children:[(0,B.tZ)(F,{data:e,organization:t,projectId:e.project.slug,eventId:this.props.eventId}),this.props.children]})}}_.displayName="CompactIssue";const C=(0,w.Z)((0,I.Z)(_)),N=(0,n.Z)("div",{target:"e1wgifuz3"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),X=(0,n.Z)(x.Z,{target:"e1wgifuz2"})("display:block;margin-right:",(0,f.Z)(1),";"),$=(0,n.Z)(v.Z,{target:"e1wgifuz1"})("&>svg{margin-right:",(0,f.Z)(.5),";}"),L=(0,n.Z)(b.Lv,{target:"e1wgifuz0"})("padding-top:",(0,f.Z)(1.5),";padding-bottom:",(0,f.Z)(.75),";flex-direction:column;");var P=s("./app/components/loadingIndicator.tsx"),S=s("./app/components/noProjectMessage.tsx"),A=s("./app/components/organizations/pageFilterBar.tsx"),T=s("./app/components/organizations/pageFilters/container.tsx"),q=s("./app/components/pageHeading.tsx"),D=s("./app/components/pagination.tsx"),E=s("./app/components/projectPageFilter.tsx"),G=s("./app/styles/organization.tsx"),U=s("./app/views/asyncView.tsx"),H=s("./app/views/userFeedback/userFeedbackEmpty.tsx"),R=s("../node_modules/lodash/pick.js"),O=s.n(R),V=s("../node_modules/query-string/index.js"),W=s("./app/constants/pageFilters.tsx");function J(e){const t=V.parse(e);return{status:void 0!==t.status?t.status:"unresolved",...O()(t,["cursor",...Object.values(W.nF)])}}class K extends U.Z{getEndpoints(){const{organization:e,location:{search:t}}=this.props;return[["reportList",`/organizations/${e.slug}/user-feedback/`,{query:J(t)}]]}getTitle(){return`${(0,j.t)("User Feedback")} - ${this.props.organization.slug}`}get projectIds(){const{project:e}=this.props.location.query;return Array.isArray(e)?e:"string"==typeof e?[e]:[]}renderResults(){const{orgId:e}=this.props.params;return(0,B.tZ)(b.s_,{className:"issue-list","data-test-id":"user-feedback-list",children:this.state.reportList.map((t=>{const s=t.issue;return(0,B.tZ)(C,{id:s.id,data:s,eventId:t.eventID,children:(0,B.tZ)(ee,{report:t,orgId:e,issueId:s.id})},t.id)}))})}renderEmpty(){return(0,B.tZ)(H.X,{projectIds:this.projectIds})}renderLoading(){return this.renderBody()}renderStreamBody(){const{loading:e,reportList:t}=this.state;return e?(0,B.tZ)(b.s_,{children:(0,B.tZ)(P.Z,{})}):t.length?this.renderResults():this.renderEmpty()}renderBody(){const{organization:e}=this.props,{location:t}=this.props,{pathname:s,search:n,query:r}=t,{status:i}=J(n),{reportListPageLinks:l}=this.state,m=o()(r,"status"),u={...r,status:""};return(0,B.tZ)(T.Z,{children:(0,B.tZ)(G.JH,{children:(0,B.tZ)(S.Z,{organization:e,children:(0,B.BX)("div",{"data-test-id":"user-feedback",children:[(0,B.tZ)(Q,{children:(0,B.tZ)(q.Z,{children:(0,j.t)("User Feedback")})}),(0,B.BX)(Y,{children:[(0,B.BX)(A.Z,{children:[(0,B.tZ)(E.Z,{}),(0,B.tZ)(c.Z,{}),(0,B.tZ)(d.Z,{alignDropdown:"right"})]}),(0,B.BX)(p.ZP,{active:Array.isArray(i)?"":i||"",merged:!0,children:[(0,B.tZ)(a.ZP,{barId:"unresolved",to:{pathname:s,query:m},children:(0,j.t)("Unresolved")}),(0,B.tZ)(a.ZP,{barId:"",to:{pathname:s,query:u},children:(0,j.t)("All Issues")})]})]}),this.renderStreamBody(),(0,B.tZ)(D.Z,{pageLinks:l})]})})})})}}const M=(0,I.Z)((0,r.zH)(K)),Q=(0,n.Z)("div",{target:"e9pbchc2"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:",(0,f.Z)(2),";"),Y=(0,n.Z)("div",{target:"e9pbchc1"})("display:grid;grid-template-columns:minmax(0, max-content) max-content;justify-content:start;gap:",(0,f.Z)(2),";margin-bottom:",(0,f.Z)(2),";@media (max-width: ",(e=>e.theme.breakpoints.medium),"){grid-template-columns:minmax(0, 1fr) max-content;}@media (max-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:minmax(0, 1fr);}"),ee=(0,n.Z)(l.Z,{target:"e9pbchc0"})("margin:",(0,f.Z)(2)," 0 0;")}}]);
//# sourceMappingURL=../sourcemaps/app_views_userFeedback_index_tsx.ccc1e51a340d21260498353918283bd3.js.map