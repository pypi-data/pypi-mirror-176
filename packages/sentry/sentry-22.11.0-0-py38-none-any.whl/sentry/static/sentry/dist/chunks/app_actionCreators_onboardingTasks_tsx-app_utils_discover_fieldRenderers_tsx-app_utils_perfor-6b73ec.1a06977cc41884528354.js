"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_onboardingTasks_tsx-app_utils_discover_fieldRenderers_tsx-app_utils_perfor-6b73ec"],{"./app/actionCreators/discoverSavedQueries.tsx":(e,t,r)=>{r.d(t,{EQ:()=>u,GH:()=>o,M6:()=>l,Yi:()=>i,qF:()=>c});var n=r("./app/actionCreators/indicator.tsx"),a=r("./app/api.tsx"),s=r("./app/locale.tsx");function i(e,t,r){const a=e.requestPromise(`/organizations/${t}/discover/saved/${r}/`,{method:"GET"});return a.catch((()=>{(0,n.Iw)((0,s.t)("Unable to load saved query"))})),a}function o(e,t,r){const a=e.requestPromise(`/organizations/${t}/discover/saved/`,{method:"POST",data:r});return a.catch((()=>{(0,n.Iw)((0,s.t)("Unable to create your saved query"))})),a}function l(e,t,r){const a=e.requestPromise(`/organizations/${t}/discover/saved/${r.id}/`,{method:"PUT",data:r});return a.catch((()=>{(0,n.Iw)((0,s.t)("Unable to update your saved query"))})),a}function u(e,t){return(new a.KU).requestPromise(`/organizations/${e}/discover/saved/${t}/visit/`,{method:"POST"})}function c(e,t,r){const a=e.requestPromise(`/organizations/${t}/discover/saved/${r}/`,{method:"DELETE"});return a.catch((()=>{(0,n.Iw)((0,s.t)("Unable to delete the saved query"))})),a}},"./app/actionCreators/onboardingTasks.tsx":(e,t,r)=>{r.d(t,{T:()=>s});var n=r("./app/stores/configStore.tsx"),a=r("./app/stores/organizationStore.tsx");function s(e,t,r){null!==e&&e.requestPromise(`/organizations/${t.slug}/onboarding-tasks/`,{method:"POST",data:r});const s=t.onboardingTasks.find((e=>e.task===r.task)),i=n.Z.get("user"),o=s?t.onboardingTasks.map((e=>e.task===r.task?{...e,...r}:e)):[...t.onboardingTasks,{...r,user:i}];a.Z.onUpdate({onboardingTasks:o})}},"./app/utils/discover/fieldRenderers.tsx":(e,t,r)=>{r.d(t,{D0:()=>U,Js:()=>se,NW:()=>G,Yd:()=>V,a_:()=>M,as:()=>ee,eg:()=>B,en:()=>W,fK:()=>ie});var n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/react/index.js")),s=r("../node_modules/react-router/es/index.js"),i=r("../node_modules/lodash/partial.js"),o=r.n(i),l=r("./app/components/button.tsx"),u=r("./app/components/count.tsx"),c=r("./app/components/dropdownMenuControl.tsx"),d=r("./app/components/duration.tsx"),p=r("./app/components/fileSize.tsx"),m=r("./app/components/idBadge/projectBadge.tsx"),y=r("./app/components/idBadge/userBadge.tsx"),v=r("./app/components/links/externalLink.tsx"),h=r("./app/components/links/link.tsx"),f=r("./app/components/performance/waterfall/rowBar.tsx"),g=r("./app/components/performance/waterfall/utils.tsx"),b=r("./app/components/tooltip.tsx"),_=r("./app/components/userMisery.tsx"),F=r("./app/components/version.tsx"),Z=r("./app/icons/index.tsx"),w=r("./app/locale.tsx"),x=r("./app/styles/space.tsx"),q=r("./app/utils.tsx"),T=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),S=r("./app/utils/discover/fields.tsx"),P=r("./app/utils/events.tsx"),C=r("./app/utils/formatters.tsx"),E=r("./app/utils/getDynamicText.tsx"),R=r("./app/utils/projects.tsx"),D=r("./app/views/eventsV2/table/quickContext.tsx"),I=r("./app/views/performance/transactionSummary/filter.tsx"),A=r("./app/utils/queryString.tsx"),L=r("./app/utils/discover/arrayValue.tsx"),z=r("./app/utils/discover/styles.tsx"),k=r("./app/utils/discover/teamKeyTransactionField.tsx"),$=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const O=(0,n.Z)("span",{target:"ettn0cm6"})("color:",(e=>e.theme.gray300),";"),j=(0,$.tZ)(O,{children:(0,w.t)("(no value)")}),N=(0,$.tZ)(O,{children:(0,w.t)("(empty string)")});function U(e){switch(e){case null:return j;case"":return N;default:return e}}const W={bit:1/8,byte:1,kibibyte:1024,mebibyte:1048576,gibibyte:1024**3,tebibyte:1024**4,pebibyte:1024**5,exbibyte:1024**6,kilobyte:1e3,megabyte:1e6,gigabyte:1e3**3,terabyte:1e3**4,petabyte:1e3**5,exabyte:1e3**6},Q=["kilobyte","megabyte","gigabyte","terabyte","petabyte","exabyte"],M={nanosecond:1e-6,microsecond:.001,millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5},B="app"==r.j?["ratio","percent"]:null,V={boolean:{isSortable:!0,renderFunc:(e,t)=>{const r=t[e]?(0,w.t)("true"):(0,w.t)("false");return(0,$.tZ)(z.W2,{children:r})}},date:{isSortable:!0,renderFunc:(e,t,r)=>(0,$.tZ)(z.W2,{children:t[e]?(0,E.Z)({value:(0,$.tZ)(z.Ik,{date:t[e],year:!0,seconds:!0,timeZone:!0,utc:"true"===(0,A.ro)(r?.location?.query?.utc)}),fixed:"timestamp"}):j})},duration:{isSortable:!0,renderFunc:(e,t,r)=>{const{unit:n}=r??{};return(0,$.tZ)(z.Hw,{children:"number"==typeof t[e]?(0,$.tZ)(d.Z,{seconds:t[e]*((n&&M[n])??1)/1e3,fixedDigits:2,abbreviation:!0}):j})}},integer:{isSortable:!0,renderFunc:(e,t)=>(0,$.tZ)(z.Hw,{children:"number"==typeof t[e]?(0,$.tZ)(u.Z,{value:t[e]}):j})},number:{isSortable:!0,renderFunc:(e,t)=>(0,$.tZ)(z.Hw,{children:"number"==typeof t[e]?(0,C.$1)(t[e],4):j})},percentage:{isSortable:!0,renderFunc:(e,t)=>(0,$.tZ)(z.Hw,{children:"number"==typeof t[e]?(0,C.rl)(t[e]):j})},size:{isSortable:!0,renderFunc:(e,t,r)=>{const{unit:n}=r??{};return(0,$.tZ)(z.Hw,{children:n&&W[n]&&"number"==typeof t[e]?(0,$.tZ)(p.Z,{bytes:t[e]*W[n],base:Q.includes(n)?10:2}):j})}},string:{isSortable:!0,renderFunc:(e,t)=>{const r=Array.isArray(t[e])?t[e].slice(-1):(0,q.ri)(t[e])?t[e]:j;return(0,q.CB)(r)?(0,$.tZ)(z.W2,{children:(0,$.tZ)(v.Z,{href:r,"data-test-id":"group-tag-url",children:r})}):(0,$.tZ)(z.W2,{children:U(r)})}},array:{isSortable:!0,renderFunc:(e,t)=>{const r=Array.isArray(t[e])?t[e]:[t[e]];return(0,$.tZ)(L.Z,{value:r})}}},H=(0,n.Z)("span",{target:"ettn0cm5"})("padding-left:",(0,x.Z)(.75),";"),Y=(0,n.Z)("span",{target:"ettn0cm4"})({name:"14gdj5h",styles:"margin-left:auto;margin-right:0"}),K={attachments:{sortField:null,renderFunc:(e,t)=>{let{organization:r,projectSlug:n}=t;const s=e.attachments.filter((e=>"event.minidump"!==e.type)).map((e=>({key:e.id,label:e.name,onAction:()=>window.open(`/api/0/projects/${r.slug}/${n}/events/${e.event_id}/attachments/${e.id}/?download=1`)})));return(0,$.tZ)(Y,{children:(0,$.tZ)(c.Z,{position:"left",size:"xs",triggerProps:{showChevron:!1,icon:(0,$.BX)(a.Fragment,{children:[(0,$.tZ)(Z.Dj,{color:"gray500",size:"sm"}),(0,$.tZ)(H,{children:s.length})]})},items:s})})}},minidump:{sortField:null,renderFunc:(e,t)=>{let{organization:r,projectSlug:n}=t;const a=e.attachments.find((e=>"event.minidump"===e.type));return(0,$.tZ)(Y,{children:(0,$.BX)(l.ZP,{size:"xs",disabled:!a,onClick:a?()=>{window.open(`/api/0/projects/${r.slug}/${n}/events/${a.event_id}/attachments/${a.id}/?download=1`)}:void 0,children:[(0,$.tZ)(Z.Dj,{color:"gray500",size:"sm"}),(0,$.tZ)(H,{children:a?1:0})]})})}},id:{sortField:"id",renderFunc:e=>{const t=e?.id;return"string"!=typeof t?null:(0,$.tZ)(z.W2,{children:(0,P.XQ)(t)})}},trace:{sortField:"trace",renderFunc:e=>{const t=e?.trace;return"string"!=typeof t?j:(0,$.tZ)(z.W2,{children:(0,P.XQ)(t)})}},"issue.id":{sortField:"issue.id",renderFunc:(e,t)=>{let{organization:r}=t;const n={pathname:`/organizations/${r.slug}/issues/${e["issue.id"]}/`};return(0,$.tZ)(z.W2,{children:(0,$.tZ)(z.Jo,{to:n,"aria-label":e["issue.id"],children:e["issue.id"]})})}},replayId:{sortField:"replayId",renderFunc:e=>{const t=e?.replayId;return"string"==typeof t&&t?(0,$.tZ)(z.W2,{children:(0,$.tZ)(l.ZP,{size:"xs",children:(0,$.tZ)(Z.JF,{size:"xs"})})}):j}},issue:{sortField:null,renderFunc:(e,t)=>{let{organization:r}=t;const n=e["issue.id"];if(!n)return(0,$.tZ)(z.W2,{children:(0,$.tZ)(z.PV,{shortId:`${e.issue}`})});const a={pathname:`/organizations/${r.slug}/issues/${n}/`};return(0,$.tZ)(z.W2,{children:r.features.includes("discover-quick-context")?(0,$.tZ)(D.V,{dataRow:e,contextType:D.z.ISSUE,children:(0,$.tZ)(ae,{to:a,"aria-label":n,children:(0,$.tZ)(z.F8,{shortId:`${e.issue}`})})}):(0,$.tZ)(ae,{to:a,"aria-label":n,children:(0,$.tZ)(z.F8,{shortId:`${e.issue}`})})})}},project:{sortField:"project",renderFunc:(e,t)=>{let r,n,{organization:a}=t;return"number"==typeof e.project?n=[e.project]:r=[e.project],(0,$.tZ)(z.W2,{children:(0,$.tZ)(R.Z,{orgId:a.slug,slugs:r,projectIds:n,children:t=>{let r,{projects:n}=t;return r="number"==typeof e.project?n.find((t=>t.id===e.project.toString())):n.find((t=>t.slug===e.project)),(0,$.tZ)(m.Z,{project:r||{slug:e.project},avatarSize:16})}})})}},user:{sortField:"user",renderFunc:e=>{if(e.user){const[t,r]=e.user.split(":"),n={id:"",name:"",email:"",username:"",ip_address:""};n[t]=r;const a=(0,$.tZ)(y.Z,{user:n,hideEmail:!0,avatarSize:16});return(0,$.tZ)(z.W2,{children:a})}return(0,$.tZ)(z.W2,{children:j})}},"user.display":{sortField:"user.display",renderFunc:e=>{if(e["user.display"]){const t={id:"",name:e["user.display"],email:"",username:"",ip_address:""},r=(0,$.tZ)(y.Z,{user:t,hideEmail:!0,avatarSize:16});return(0,$.tZ)(z.W2,{children:r})}return(0,$.tZ)(z.W2,{children:j})}},"count_unique(user)":{sortField:"count_unique(user)",renderFunc:e=>{const t=e.count_unique_user??e["count_unique(user)"];return"number"==typeof t?(0,$.BX)(z.Ej,{children:[(0,$.tZ)(z.Hw,{children:(0,$.tZ)(u.Z,{value:t})}),(0,$.tZ)(z.tB,{size:"20"})]}):(0,$.tZ)(z.W2,{children:j})}},release:{sortField:"release",renderFunc:(e,t)=>{let{organization:r}=t;return e.release?(0,$.tZ)(z.cz,{children:r.features.includes("discover-quick-context")?(0,$.tZ)(D.V,{dataRow:e,contextType:D.z.RELEASE,organization:r,children:(0,$.tZ)(F.Z,{version:e.release,tooltipRawVersion:!0,truncate:!0})}):(0,$.tZ)(F.Z,{version:e.release,tooltipRawVersion:!0,truncate:!0})}):(0,$.tZ)(z.W2,{children:j})}},"error.handled":{sortField:"error.handled",renderFunc:e=>{const t=e["error.handled"];if(null===t||0===t?.length)return(0,$.tZ)(z.W2,{children:j});const r=Array.isArray(t)?t:[t];return(0,$.tZ)(z.W2,{children:r.every((e=>[1,null].includes(e)))?"true":"false"})}},team_key_transaction:{sortField:null,renderFunc:(e,t)=>{let{organization:r}=t;return(0,$.tZ)(z.W2,{children:(0,$.tZ)(k.Z,{isKeyTransaction:0!==(e.team_key_transaction??0),organization:r,projectSlug:e.project,transactionName:e.transaction})})}},"trend_percentage()":{sortField:"trend_percentage()",renderFunc:e=>(0,$.tZ)(z.Hw,{children:"number"==typeof e.trend_percentage?(0,C.rl)(e.trend_percentage-1):j})},"timestamp.to_hour":{sortField:"timestamp.to_hour",renderFunc:e=>(0,$.tZ)(z.W2,{children:(0,E.Z)({value:(0,$.tZ)(z.Ik,{date:e["timestamp.to_hour"],year:!0,timeZone:!0}),fixed:"timestamp.to_hour"})})},"timestamp.to_day":{sortField:"timestamp.to_day",renderFunc:e=>(0,$.tZ)(z.W2,{children:(0,E.Z)({value:(0,$.tZ)(z.Ik,{date:e["timestamp.to_day"],dateOnly:!0,year:!0,utc:!0}),fixed:"timestamp.to_day"})})}},X={user_misery:e=>t=>{const r=e;if(!(r in t))return(0,$.tZ)(z.Hw,{children:j});const n=t[r];if(null===n||isNaN(n))return(0,$.tZ)(z.Hw,{children:j});const a="project_threshold_config";let s="",i=parseInt(r.split("(").pop()?.slice(0,-1)||"",10);isNaN(i)?(s="count_miserable(user)",i=a in t?t[a][1]:void 0):s=`count_miserable(user,${i})`;const o=t["count_unique(user)"];let l;if(s in t){const e=parseInt(r.split("(").pop()?.slice(0,-1)||"",10);l=e===i||isNaN(e)?t[s]:void 0}return(0,$.tZ)(z.Uz,{children:(0,$.tZ)(_.Z,{bars:10,barHeight:20,miseryLimit:i,totalUsers:o,userMisery:n,miserableUsers:l})})}};function G(e,t){if(K.hasOwnProperty(e))return K[e].sortField;if(!t)return e;if((0,S.GO)(e))return e;for(const t in S.lx)if(e.startsWith(t))return S.lx[t].isSortable?e:null;const r=t[e];return V.hasOwnProperty(r)&&V[r].isSortable?e:null}const J=(e,t)=>t in e&&"number"==typeof e[t],ee=(e,t,r)=>{let{location:n,organization:a,eventView:i}=t;const{enableOnClick:o=!0}=r??{},l=S.$4.reduce(((t,r)=>J(e,r)?t+e[r]:t),0),u=Math.max(l,e["transaction.duration"]);if(S.$4.every((t=>!J(e,t)))||0===u)return V.duration.renderFunc(S.zD,e);let c,p=1;const m=i?.sorts?.[0]?.field;return c=m&&S.$4.includes(m)?[m,...S.$4.filter((e=>e!==m))]:S.$4,(0,$.BX)(te,{"data-test-id":"relative-ops-breakdown",children:[c.map((t=>{if(!J(e,t))return null;const r=(0,S.Ki)(t)??"op",i=e[t],l=i/u;return p-=l,0===l?null:(0,$.tZ)("div",{style:{width:(0,g.yI)(l||0)},children:(0,$.tZ)(b.Z,{title:(0,$.BX)("div",{children:[(0,$.tZ)("div",{children:r}),(0,$.tZ)("div",{children:(0,$.tZ)(d.Z,{seconds:i/1e3,fixedDigits:2,abbreviation:!0})})]}),containerDisplayMode:"block",children:(0,$.tZ)(re,{style:{backgroundColor:(0,g.hd)(r),cursor:o?"pointer":"default"},onClick:e=>{if(!o)return;e.stopPropagation();const t=(0,I.uy)(r);t!==I.f1.None&&((0,T.Z)("performance_views.relative_breakdown.selection",{action:t,organization:a}),s.browserHistory.push({pathname:n.pathname,query:{...n.query,...(0,I.bz)(t)}}))}})})},r)})),(0,$.tZ)("div",{style:{width:(0,g.yI)(p||0)},children:(0,$.tZ)(b.Z,{title:(0,$.tZ)("div",{children:(0,w.t)("Other")}),containerDisplayMode:"block",children:(0,$.tZ)(ne,{})})},"other")]})};ee.displayName="spanOperationRelativeBreakdownRenderer";const te=(0,n.Z)("div",{target:"ettn0cm3"})({name:"8k1832",styles:"position:relative;display:flex"}),re=(0,n.Z)(f.e,{target:"ettn0cm2"})({name:"pw7jst",styles:"position:relative;width:100%"}),ne=(0,n.Z)(re,{target:"ettn0cm1"})("background-color:",(e=>e.theme.gray100),";"),ae=(0,n.Z)(h.Z,{target:"ettn0cm0"})({name:"qhxz92",styles:"max-width:100%"});function se(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(K.hasOwnProperty(e))return K[e].renderFunc;if((0,S.sU)(e))return ee;const n=r?(0,S.LY)(e):e,a=t[n];for(const e in X)if(n.startsWith(e))return X[e](n);return V.hasOwnProperty(a)?o()(V[a].renderFunc,n):o()(V.string.renderFunc,n)}function ie(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=r?(0,S.LY)(e):e,a=t[n];return V.hasOwnProperty(a)?o()(V[a].renderFunc,n):o()(V.string.renderFunc,n)}},"./app/utils/discover/types.tsx":(e,t,r)=>{r.d(t,{CU:()=>u,DC:()=>s,GY:()=>l,Rx:()=>d,as:()=>i,hY:()=>a,lJ:()=>c,px:()=>p,v2:()=>o});var n=r("./app/locale.tsx");const a=5;let s,i;!function(e){e.DEFAULT="default",e.PREVIOUS="previous",e.TOP5="top5",e.DAILY="daily",e.DAILYTOP5="dailytop5",e.WORLDMAP="worldmap",e.BAR="bar"}(s||(s={})),function(e){e.DISCOVER="discover",e.METRICS="metrics",e.METRICS_ENHANCED="metricsEnhanced"}(i||(i={}));const o=[s.TOP5,s.DAILYTOP5],l=[s.DEFAULT,s.PREVIOUS,s.TOP5,s.BAR],u=[{value:s.DEFAULT,label:(0,n.t)("Total Period")},{value:s.PREVIOUS,label:(0,n.t)("Previous Period")},{value:s.TOP5,label:(0,n.t)("Top 5 Period")},{value:s.DAILY,label:(0,n.t)("Total Daily")},{value:s.DAILYTOP5,label:(0,n.t)("Top 5 Daily")},{value:s.WORLDMAP,label:(0,n.t)("World Map")},{value:s.BAR,label:(0,n.t)("Bar Chart")}],c={[s.DEFAULT]:s.DEFAULT,[s.PREVIOUS]:s.DEFAULT,[s.TOP5]:s.DEFAULT,[s.DAILY]:s.DEFAULT,[s.DAILYTOP5]:s.DAILY,[s.WORLDMAP]:s.DEFAULT,[s.BAR]:s.DEFAULT},d=[{label:"count()",value:"count()"},{label:"count_unique(user)",value:"count_unique(user)"}],p=[s.DEFAULT,s.DAILY,s.PREVIOUS,s.BAR]},"./app/utils/events.tsx":(e,t,r)=>{r.d(t,{FC:()=>i,K2:()=>l,UF:()=>b,XQ:()=>d,YQ:()=>c,k$:()=>o}),r("../node_modules/core-js/modules/es.array.includes.js");var n=r("./app/types/index.tsx"),a=r("./app/utils/platform.tsx");function s(e){return!e.hasOwnProperty("type")}function i(e){if(s(e))return e.culprit||"";const{metadata:t,type:r,culprit:a}=e;switch(r){case n.eP.ERROR:case n.eP.TRANSACTION:return t.value;case n.eP.CSP:return t.message;case n.eP.EXPECTCT:case n.eP.EXPECTSTAPLE:case n.eP.HPKP:return"";default:return a||""}}function o(e){if(!s(e))return e.type===n.eP.ERROR&&(0,a.g)(e.platform)&&e.metadata.filename||void 0}function l(e){if("string"==typeof e)return e;const t=e?.function||e?.package||e?.filebase||e?.type,r=e?.classbase;return r?t?`${r}.${t}`:r:t||"<unknown>"}function u(e){const{type:t,current_tree_label:r,finest_tree_label:n}=e,a=r||n,s=a?a.map((e=>l(e))).join(" | "):void 0;return t?s?{title:`${t} | ${s}`,treeLabel:[{type:t},...a??[]]}:{title:t,treeLabel:void 0}:{title:s||e.function||"<unknown>",treeLabel:a}}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{metadata:s,type:i,culprit:o,title:l}=e,c=t.includes("custom-event-title")&&s?.title?s.title:void 0;switch(i){case n.eP.ERROR:return c?{title:c,subtitle:o,treeLabel:void 0}:t.includes("grouping-title-ui")&&(r||(0,a.g)(e.platform)||(0,a.a)(e.platform))?{subtitle:o,...u(s)}:{subtitle:o,title:s.type||s.function||"<unknown>",treeLabel:void 0};case n.eP.CSP:return{title:c??s.directive??"",subtitle:s.uri??"",treeLabel:void 0};case n.eP.EXPECTCT:case n.eP.EXPECTSTAPLE:case n.eP.HPKP:return{title:c??(s.message||l),subtitle:s.origin??"",treeLabel:void 0};case n.eP.DEFAULT:return{title:c??s.title??"",subtitle:"",treeLabel:void 0};case n.eP.TRANSACTION:const i=e.issueCategory===n.qE.PERFORMANCE;return{title:i?s.title:c??l,subtitle:i?o:"",treeLabel:void 0};default:return{title:c??l,subtitle:"",treeLabel:void 0}}}function d(e){return e.substring(0,8)}function p(e){return e.errors?.map((e=>e.type)).join(",")||""}function m(e){return"error"===e.type&&!!e.contexts?.trace}function y(e){return e.entries?.some((e=>"exception"===e.type&&e.data.values?.some((e=>!!e.rawStacktrace&&!!e.stacktrace))))}function v(e){return e.entries?.filter((e=>"exception"===e.type))}function h(e){const t=v(e)?.map((e=>(e.data.values||[]).reduce(((e,t)=>{const r=t.stacktrace?.frames?.length||0;return Math.max(e,r)}),0)))||[];return t.length?Math.max(...t):0}function f(e){const t=v(e)?.map((e=>(e.data.values||[]).reduce(((e,t)=>{const r=t.stacktrace?.frames?.filter((e=>e.inApp))||[];return Math.max(e,r.length)}),0)))||[];return t.length?Math.max(...t):0}function g(e){const t=(e.entries?.filter((e=>"threads"===e.type))||[]).map((e=>e.data?.values?.filter((e=>!!e.name)).length||0))||[];return t.length?Math.max(...t):0}function b(e){return{event_id:e?.eventID||"-1",num_commits:e?.release?.commitCount||0,num_stack_frames:e?h(e):0,num_in_app_stack_frames:e?f(e):0,num_threads_with_names:e?g(e):0,event_platform:e?.platform,event_type:e?.type,has_release:!!e?.release,has_source_maps:!!e&&y(e),has_trace:!!e&&m(e),has_commit:!!e?.release?.lastCommit,event_errors:e?p(e):"",sdk_name:e?.sdk?.name,sdk_version:e?.sdk?.version}}},"./app/utils/performance/vitals/constants.tsx":(e,t,r)=>{r.d(t,{AR:()=>l,TT:()=>o,r9:()=>i});var n=r("./app/locale.tsx"),a=r("./app/utils/discover/fields.tsx"),s=r("./app/utils/fields/index.ts");const i={[s.Zl.FP]:{slug:"fp",name:(0,n.t)("First Paint"),acronym:"FP",description:(0,n.t)("Render time of the first pixel loaded in the viewport (may overlap with FCP)."),poorThreshold:3e3,type:(0,a.Cq)(s.Zl.FP)},[s.Zl.FCP]:{slug:"fcp",name:(0,n.t)("First Contentful Paint"),acronym:"FCP",description:(0,n.t)("Render time of the first image, text or other DOM node in the viewport."),poorThreshold:3e3,type:(0,a.Cq)(s.Zl.FCP)},[s.Zl.LCP]:{slug:"lcp",name:(0,n.t)("Largest Contentful Paint"),acronym:"LCP",description:(0,n.t)("Render time of the largest image, text or other DOM node in the viewport."),poorThreshold:4e3,type:(0,a.Cq)(s.Zl.LCP)},[s.Zl.FID]:{slug:"fid",name:(0,n.t)("First Input Delay"),acronym:"FID",description:(0,n.t)("Response time of the browser to a user interaction (clicking, tapping, etc)."),poorThreshold:300,type:(0,a.Cq)(s.Zl.FID)},[s.Zl.CLS]:{slug:"cls",name:(0,n.t)("Cumulative Layout Shift"),acronym:"CLS",description:(0,n.t)("Sum of layout shift scores that measure the visual stability of the page."),poorThreshold:.25,type:(0,a.Cq)(s.Zl.CLS)},[s.Zl.TTFB]:{slug:"ttfb",name:(0,n.t)("Time to First Byte"),acronym:"TTFB",description:(0,n.t)("The time that it takes for a user's browser to receive the first byte of page content."),poorThreshold:600,type:(0,a.Cq)(s.Zl.TTFB)},[s.Zl.RequestTime]:{slug:"ttfb.requesttime",name:(0,n.t)("Request Time"),acronym:"RT",description:(0,n.t)("Captures the time spent making the request and receiving the first byte of the response."),poorThreshold:600,type:(0,a.Cq)(s.Zl.RequestTime)}},o={[s.$n.AppStartCold]:{slug:"app_start_cold",name:(0,n.t)("App Start Cold"),description:(0,n.t)("Cold start is a measure of the application start up time from scratch."),type:(0,a.Cq)(s.$n.AppStartCold)},[s.$n.AppStartWarm]:{slug:"app_start_warm",name:(0,n.t)("App Start Warm"),description:(0,n.t)("Warm start is a measure of the application start up time while still in memory."),type:(0,a.Cq)(s.$n.AppStartWarm)},[s.$n.FramesTotal]:{slug:"frames_total",name:(0,n.t)("Total Frames"),description:(0,n.t)("Total frames is a count of the number of frames recorded within a transaction."),type:(0,a.Cq)(s.$n.FramesTotal)},[s.$n.FramesSlow]:{slug:"frames_slow",name:(0,n.t)("Slow Frames"),description:(0,n.t)("Slow frames is a count of the number of slow frames recorded within a transaction."),type:(0,a.Cq)(s.$n.FramesSlow)},[s.$n.FramesFrozen]:{slug:"frames_frozen",name:(0,n.t)("Frozen Frames"),description:(0,n.t)("Frozen frames is a count of the number of frozen frames recorded within a transaction."),type:(0,a.Cq)(s.$n.FramesFrozen)},[s.$n.FramesSlowRate]:{slug:"frames_slow_rate",name:(0,n.t)("Slow Frames Rate"),description:(0,n.t)("Slow Frames Rate is the percentage of frames recorded within a transaction that is considered slow."),type:(0,a.Cq)(s.$n.FramesSlowRate)},[s.$n.FramesFrozenRate]:{slug:"frames_frozen_rate",name:(0,n.t)("Frozen Frames Rate"),description:(0,n.t)("Frozen Frames Rate is the percentage of frames recorded within a transaction that is considered frozen."),type:(0,a.Cq)(s.$n.FramesFrozenRate)},[s.$n.StallCount]:{slug:"stall_count",name:(0,n.t)("Stalls"),description:(0,n.t)("Stalls is the number of times the application stalled within a transaction."),type:(0,a.Cq)(s.$n.StallCount)},[s.$n.StallTotalTime]:{slug:"stall_total_time",name:(0,n.t)("Total Stall Time"),description:(0,n.t)("Stall Total Time is the total amount of time the application is stalled within a transaction."),type:(0,a.Cq)(s.$n.StallTotalTime)},[s.$n.StallLongestTime]:{slug:"stall_longest_time",name:(0,n.t)("Longest Stall Time"),description:(0,n.t)("Stall Longest Time is the longest amount of time the application is stalled within a transaction."),type:(0,a.Cq)(s.$n.StallLongestTime)},[s.$n.StallPercentage]:{slug:"stall_percentage",name:(0,n.t)("Stall Percentage"),description:(0,n.t)("Stall Percentage is the percentage of the transaction duration the application was stalled."),type:(0,a.Cq)(s.$n.StallPercentage)}};let l;!function(e){e.CHROME="Chrome",e.EDGE="Edge",e.OPERA="Opera",e.FIREFOX="Firefox",e.SAFARI="Safari",e.IE="IE"}(l||(l={}))},"./app/utils/platform.tsx":(e,t,r)=>{r.d(t,{a:()=>s,g:()=>a}),r("../node_modules/core-js/modules/es.array.includes.js");var n=r("./app/data/platformCategories.tsx");function a(e){switch(e){case"cocoa":case"objc":case"native":case"swift":case"c":return!0;default:return!1}}function s(e){return!!e&&[...n.ai].includes(e)}},"./app/utils/queryClient.tsx":(e,t,r)=>{r.d(t,{DEFAULT_QUERY_CLIENT_CONFIG:()=>s,useQuery:()=>i});var n=r("../node_modules/@tanstack/react-query/build/umd/index.production.js"),a=r("./app/utils/useApi.tsx");r.o(n,"QueryClient")&&r.d(t,{QueryClient:function(){return n.QueryClient}}),r.o(n,"QueryClientProvider")&&r.d(t,{QueryClientProvider:function(){return n.QueryClientProvider}}),r.o(n,"useMutation")&&r.d(t,{useMutation:function(){return n.useMutation}}),r.o(n,"useQueryClient")&&r.d(t,{useQueryClient:function(){return n.useQueryClient}});const s={};function i(e,t,r){const s=(0,a.Z)(),[i,o]=e,l="function"==typeof t?t:()=>s.requestPromise(i,{method:"GET",query:o?.query});return n.useQuery(e,l,r)}},"./app/views/dashboardsV2/types.tsx":(e,t,r)=>{r.d(t,{$V:()=>a,EN:()=>u,FO:()=>s,ZU:()=>n,l9:()=>i,n3:()=>l,qA:()=>o});const n=30,a=5;let s,i,o,l,u;!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.TABLE="table",e.WORLD_MAP="world_map",e.BIG_NUMBER="big_number",e.TOP_N="top_n"}(s||(s={})),function(e){e.DISCOVER="discover",e.ISSUE="issue",e.RELEASE="metrics"}(i||(i={})),function(e){e.RELEASE="release"}(o||(o={})),function(e){e.VIEW="view",e.EDIT="edit",e.CREATE="create",e.PENDING_DELETE="pending_delete",e.PREVIEW="preview"}(l||(l={})),function(e){e.DISCOVERV2="discoverv2",e.DASHBOARDS="dashboards",e.LIBRARY="library",e.ISSUE_DETAILS="issueDetail"}(u||(u={}))},"./app/views/eventsV2/data.tsx":(e,t,r)=>{r.d(t,{He:()=>i,Qu:()=>s,eP:()=>a,gh:()=>o});var n=r("./app/locale.tsx");const a={id:void 0,name:(0,n.t)("All Events"),query:"",projects:[],fields:["title","event.type","project","user.display","timestamp"],orderby:"-timestamp",version:2,range:"24h"},s=[{id:void 0,name:(0,n.t)("Transactions by Volume"),fields:["transaction","project","count()","avg(transaction.duration)","p75()","p95()"],orderby:"-count",query:"event.type:transaction",projects:[],version:2,range:"24h"}],i=[{id:void 0,name:(0,n.t)("Web Vitals"),fields:["transaction","epm()","p75(measurements.fp)","p75(measurements.fcp)","p75(measurements.lcp)","p75(measurements.fid)","p75(measurements.cls)"],orderby:"-epm",query:"event.type:transaction transaction.op:pageload",projects:[],version:2,range:"24h",yAxis:["epm()"]}],o=[a,{id:void 0,name:(0,n.t)("Errors by Title"),fields:["title","count()","count_unique(user)","project"],orderby:"-count",query:"event.type:error",projects:[],version:2,range:"24h",display:"top5"},{id:void 0,name:(0,n.t)("Errors by URL"),fields:["url","count()","count_unique(issue)"],orderby:"-count",query:"event.type:error has:url",projects:[],version:2,range:"24h",display:"top5"}]},"./app/views/eventsV2/savedQuery/utils.tsx":(e,t,r)=>{if(r.d(t,{MF:()=>f,O$:()=>m,RF:()=>h,Uc:()=>v,b2:()=>c,pb:()=>y,zz:()=>_}),"app"==r.j)var n=r("./app/actionCreators/discoverHomepageQueries.tsx");var a=r("./app/actionCreators/discoverSavedQueries.tsx"),s=r("./app/actionCreators/indicator.tsx"),i=r("./app/locale.tsx"),o=r("./app/utils/analytics.tsx"),l=r("./app/utils/discover/types.tsx"),u=r("./app/views/dashboardsV2/types.tsx");function c(e,t,r,n){let l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const u=r.toNewQuery();u.yAxis=n,(0,o.ec)({...g(l,"request"),organization_id:parseInt(t.id,10),...b(u)});const c=(0,a.GH)(e,t.slug,u);return c.then((e=>((0,s.S9)((0,i.t)("Query saved")),(0,o.ec)({...g(l,"success"),organization_id:parseInt(t.id,10),...b(u)}),e))).catch((e=>{(0,s.Iw)((0,i.t)("Query not saved")),(0,o.ec)({...g(l,"failed"),organization_id:parseInt(t.id,10),...b(u),error:e&&e.message||`Could not save a ${l?"new":"existing"} query`})})),c}const d={request:"Discoverv2: Request to save a saved query as a new query",success:"Discoverv2: Successfully saved a saved query as a new query",failed:"Discoverv2: Failed to save a saved query as a new query"},p={request:"Discoverv2: Request to save a new query",success:"Discoverv2: Successfully saved a new query",failed:"Discoverv2: Failed to save a new query"};function m(e,t,r,n){const l=r.toNewQuery();if(l.yAxis=n,!r.name)return(0,s.Iw)((0,i.t)("Please name your query")),Promise.reject();(0,o.ec)({eventKey:"discover_v2.update_query_request",eventName:"Discoverv2: Request to update a saved query",organization_id:parseInt(t.id,10),...b(l)});const u=(0,a.M6)(e,t.slug,l);return u.then((e=>((0,s.S9)((0,i.t)("Query updated")),(0,o.ec)({eventKey:"discover_v2.update_query_success",eventName:"Discoverv2: Successfully updated a saved query",organization_id:parseInt(t.id,10),...b(l)}),e))).catch((e=>{(0,s.Iw)((0,i.t)("Query not updated")),(0,o.ec)({eventKey:"discover_v2.update_query_failed",eventName:"Discoverv2: Failed to update a saved query",organization_id:parseInt(t.id,10),...b(l),error:e&&e.message||"Failed to update a query"})})),u}function y(e,t,r){const n=r.toNewQuery();(0,o.ec)({eventKey:"discover_v2.update_query_name_request",eventName:"Discoverv2: Request to update a saved query's name",organization_id:parseInt(t.id,10),...b(n)});const l=(0,a.M6)(e,t.slug,n);return l.then((e=>{(0,s.S9)((0,i.t)("Query name saved")),(0,o.ec)({eventKey:"discover_v2.update_query_name_success",eventName:"Discoverv2: Successfully updated a saved query's name",organization_id:parseInt(t.id,10),...b(n)})})).catch((e=>{(0,s.Iw)((0,i.t)("Query name not saved")),(0,o.ec)({eventKey:"discover_v2.update_query_failed",eventName:"Discoverv2: Failed to update a saved query's name",organization_id:parseInt(t.id,10),...b(n),error:e&&e.message||"Failed to update a query name"})})),l}function v(e,t,r){(0,o.ec)({eventKey:"discover_v2.delete_query_request",eventName:"Discoverv2: Request to delete a saved query",organization_id:parseInt(t.id,10),...b(r.toNewQuery())});const n=(0,a.qF)(e,t.slug,r.id);return n.then((()=>{(0,s.S9)((0,i.t)("Query deleted")),(0,o.ec)({eventKey:"discover_v2.delete_query_success",eventName:"Discoverv2: Successfully deleted a saved query",organization_id:parseInt(t.id,10),...b(r.toNewQuery())})})).catch((e=>{(0,s.Iw)((0,i.t)("Query not deleted")),(0,o.ec)({eventKey:"discover_v2.delete_query_failed",eventName:"Discoverv2: Failed to delete a saved query",organization_id:parseInt(t.id,10),...b(r.toNewQuery()),error:e&&e.message||"Failed to delete query"})})),n}function h(e,t,r){return(0,n.YC)(e,t.slug,r).then((e=>((0,s.S9)((0,i.t)("Saved as Discover default")),e))).catch((()=>{(0,s.Iw)((0,i.t)("Unable to set query as Discover default"))}))}function f(e,t){return(0,n.uk)(e,t.slug).then((()=>{(0,s.S9)((0,i.t)("Successfully removed Discover default"))})).catch((()=>{(0,s.Iw)((0,i.t)("Unable to remove Discover default"))}))}function g(e,t){return{eventKey:e?"discover_v2.save_new_query_"+t:"discover_v2.save_existing_query_"+t,eventName:e?p[t]:d[t]}}function b(e){const{projects:t,fields:r,query:n}=e;return{projects:t,fields:r,query:n}}function _(e){switch(e){case l.DC.BAR:return u.FO.BAR;case l.DC.WORLDMAP:return u.FO.WORLD_MAP;case l.DC.TOP5:return u.FO.TOP_N;default:return u.FO.LINE}}}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_onboardingTasks_tsx-app_utils_discover_fieldRenderers_tsx-app_utils_perfor-6b73ec.40e919346e062a3a9834d801a98245a6.js.map