"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_echarts_lib_chart_heatmap_js"],{"../node_modules/echarts/lib/chart/heatmap.js":(e,t,a)=>{var i=a("../node_modules/echarts/lib/extension.js"),r=a("../node_modules/echarts/node_modules/tslib/tslib.es6.js"),n=a("../node_modules/echarts/lib/util/graphic.js"),s=a("../node_modules/zrender/lib/graphic/shape/Rect.js"),o=a("../node_modules/zrender/lib/graphic/Image.js"),l=a("../node_modules/echarts/lib/util/states.js"),d=a("../node_modules/zrender/lib/core/platform.js");const h=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=d.qW.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,a,i,r,n){var s=this._getBrush(),o=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),d=this.pointSize+this.blurSize,h=this.canvas,u=h.getContext("2d"),p=e.length;h.width=t,h.height=a;for(var c=0;c<p;++c){var g=e[c],m=g[0],y=g[1],v=i(g[2]);u.globalAlpha=v,u.drawImage(s,m-d,y-d)}if(!h.width||!h.height)return h;for(var f=u.getImageData(0,0,h.width,h.height),b=f.data,S=0,_=b.length,x=this.minOpacity,C=this.maxOpacity-x;S<_;){v=b[S+3]/256;var O=4*Math.floor(255*v);if(v>0){var w=n(v)?o:l;v>0&&(v=v*C+x),b[S++]=w[O],b[S++]=w[O+1],b[S++]=w[O+2],b[S++]=w[O+3]*v*256}else S+=4}return u.putImageData(f,0,0),h},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=d.qW.createCanvas()),t=this.pointSize+this.blurSize,a=2*t;e.width=a,e.height=a;var i=e.getContext("2d");return i.clearRect(0,0,a,a),i.shadowOffsetX=a,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},e.prototype._getGradient=function(e,t){for(var a=this._gradientPixels,i=a[t]||(a[t]=new Uint8ClampedArray(1024)),r=[0,0,0,0],n=0,s=0;s<256;s++)e[t](s/255,!0,r),i[n++]=r[0],i[n++]=r[1],i[n++]=r[2],i[n++]=r[3];return i},e}();var u=a("../node_modules/zrender/lib/core/util.js"),p=a("../node_modules/echarts/lib/view/Chart.js"),c=a("../node_modules/echarts/lib/coord/CoordinateSystem.js"),g=a("../node_modules/echarts/lib/label/labelStyle.js");function m(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}const y=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,r.ZT)(t,e),t.prototype.render=function(e,t,a){var i;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(a){a===e&&(i=t)}))})),this._progressiveEls=null,this.group.removeAll();var r=e.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(e,a,0,e.getData().count()):m(r)&&this._renderOnGeo(r,e,i,a)},t.prototype.incrementalPrepareRender=function(e,t,a){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,a,i){var r=t.coordinateSystem;r&&(m(r)?this.render(t,a,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){n.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,a,i,r){var n,o,d,h,u=e.coordinateSystem,p=(0,c.H)(u,"cartesian2d");if(p){var m=u.getAxis("x"),y=u.getAxis("y");n=m.getBandWidth()+.5,o=y.getBandWidth()+.5,d=m.scale.getExtent(),h=y.scale.getExtent()}for(var v=this.group,f=e.getData(),b=e.getModel(["emphasis","itemStyle"]).getItemStyle(),S=e.getModel(["blur","itemStyle"]).getItemStyle(),_=e.getModel(["select","itemStyle"]).getItemStyle(),x=e.get(["itemStyle","borderRadius"]),C=(0,g.k3)(e),O=e.getModel("emphasis"),w=O.get("focus"),z=O.get("blurScope"),M=O.get("disabled"),I=p?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],R=a;R<i;R++){var D=void 0,j=f.getItemVisual(R,"style");if(p){var T=f.get(I[0],R),A=f.get(I[1],R);if(isNaN(f.get(I[2],R))||T<d[0]||T>d[1]||A<h[0]||A>h[1])continue;var E=u.dataToPoint([T,A]);D=new s.Z({shape:{x:E[0]-n/2,y:E[1]-o/2,width:n,height:o},style:j})}else{if(isNaN(f.get(I[1],R)))continue;D=new s.Z({z2:1,shape:u.dataToRect([f.get(I[0],R)]).contentShape,style:j})}if(f.hasItemOption){var P=f.getItemModel(R),k=P.getModel("emphasis");b=k.getModel("itemStyle").getItemStyle(),S=P.getModel(["blur","itemStyle"]).getItemStyle(),_=P.getModel(["select","itemStyle"]).getItemStyle(),x=P.get(["itemStyle","borderRadius"]),w=k.get("focus"),z=k.get("blurScope"),M=k.get("disabled"),C=(0,g.k3)(P)}D.shape.r=x;var Z=e.getRawValue(R),G="-";Z&&null!=Z[2]&&(G=Z[2]+""),(0,g.ni)(D,C,{labelFetcher:e,labelDataIndex:R,defaultOpacity:j.opacity,defaultText:G}),D.ensureState("emphasis").style=b,D.ensureState("blur").style=S,D.ensureState("select").style=_,(0,l.k5)(D,w,z,M),D.incremental=r,r&&(D.states.emphasis.hoverLayer=!0),v.add(D),f.setItemGraphicEl(R,D),this._progressiveEls&&this._progressiveEls.push(D)}},t.prototype._renderOnGeo=function(e,t,a,i){var r=a.targetVisuals.inRange,n=a.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new h;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var d=e.getViewRect().clone(),p=e.getRoamTransform();d.applyTransform(p);var c=Math.max(d.x,0),g=Math.max(d.y,0),m=Math.min(d.width+d.x,i.getWidth()),y=Math.min(d.height+d.y,i.getHeight()),v=m-c,f=y-g,b=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],S=s.mapArray(b,(function(t,a,i){var r=e.dataToPoint([t,a]);return r[0]-=c,r[1]-=g,r.push(i),r})),_=a.getExtent(),x="visualMap.continuous"===a.type?function(e,t){var a=e[1]-e[0];return t=[(t[0]-e[0])/a,(t[1]-e[0])/a],function(e){return e>=t[0]&&e<=t[1]}}(_,a.option.range):function(e,t,a){var i=e[1]-e[0],r=(t=u.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}}))).length,n=0;return function(e){var i;for(i=n;i<r;i++)if((s=t[i].interval)[0]<=e&&e<=s[1]){n=i;break}if(i===r)for(i=n-1;i>=0;i--){var s;if((s=t[i].interval)[0]<=e&&e<=s[1]){n=i;break}}return i>=0&&i<r&&a[i]}}(_,a.getPieceList(),a.option.selected);l.update(S,v,f,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:n.color.getColorMapper()},x);var C=new o.ZP({style:{width:v,height:f,x:c,y:g,image:l.canvas},silent:!0});this.group.add(C)},t.type="heatmap",t}(p.Z);var v=a("../node_modules/echarts/lib/model/Series.js"),f=a("../node_modules/echarts/lib/chart/helper/createSeriesData.js"),b=a("../node_modules/echarts/lib/core/CoordinateSystem.js");const S=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,r.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,f.Z)(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=b.Z.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(v.Z);(0,i.D)((function(e){e.registerChartView(y),e.registerSeriesModel(S)}))}}]);
//# sourceMappingURL=../sourcemaps/vendors-node_modules_echarts_lib_chart_heatmap_js.fc711d7931134483ba368eb73bbcd82a.js.map